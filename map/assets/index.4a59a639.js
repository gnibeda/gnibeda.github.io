var f_=Object.defineProperty,m_=Object.defineProperties;var y_=Object.getOwnPropertyDescriptors;var Jd=Object.getOwnPropertySymbols;var rm=Object.prototype.hasOwnProperty,am=Object.prototype.propertyIsEnumerable;var im=(t,r,l)=>r in t?f_(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,ze=(t,r)=>{for(var l in r||(r={}))rm.call(r,l)&&im(t,l,r[l]);if(Jd)for(var l of Jd(r))am.call(r,l)&&im(t,l,r[l]);return t},on=(t,r)=>m_(t,y_(r));var kn=(t,r)=>{var l={};for(var p in t)rm.call(t,p)&&r.indexOf(p)<0&&(l[p]=t[p]);if(t!=null&&Jd)for(var p of Jd(t))r.indexOf(p)<0&&am.call(t,p)&&(l[p]=t[p]);return l};var __=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var HT=__((pr,gr)=>{const v_=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))p(_);new MutationObserver(_=>{for(const v of _)if(v.type==="childList")for(const T of v.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&p(T)}).observe(document,{childList:!0,subtree:!0});function l(_){const v={};return _.integrity&&(v.integrity=_.integrity),_.referrerpolicy&&(v.referrerPolicy=_.referrerpolicy),_.crossorigin==="use-credentials"?v.credentials="include":_.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function p(_){if(_.ep)return;_.ep=!0;const v=l(_);fetch(_.href,v)}};v_();var x_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},s2={exports:{}},Dr={},vt={exports:{}},Ke={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var om=Object.getOwnPropertySymbols,w_=Object.prototype.hasOwnProperty,b_=Object.prototype.propertyIsEnumerable;function S_(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function E_(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},l=0;l<10;l++)r["_"+String.fromCharCode(l)]=l;var p=Object.getOwnPropertyNames(r).map(function(v){return r[v]});if(p.join("")!=="0123456789")return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(v){_[v]=v}),Object.keys(Object.assign({},_)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var u2=E_()?Object.assign:function(t,r){for(var l,p=S_(t),_,v=1;v<arguments.length;v++){l=Object(arguments[v]);for(var T in l)w_.call(l,T)&&(p[T]=l[T]);if(om){_=om(l);for(var u=0;u<_.length;u++)b_.call(l,_[u])&&(p[_[u]]=l[_[u]])}}return p};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=u2,Bs=60103,c2=60106;Ke.Fragment=60107;Ke.StrictMode=60108;Ke.Profiler=60114;var d2=60109,h2=60110,p2=60112;Ke.Suspense=60113;var g2=60115,f2=60116;if(typeof Symbol=="function"&&Symbol.for){var Vr=Symbol.for;Bs=Vr("react.element"),c2=Vr("react.portal"),Ke.Fragment=Vr("react.fragment"),Ke.StrictMode=Vr("react.strict_mode"),Ke.Profiler=Vr("react.profiler"),d2=Vr("react.provider"),h2=Vr("react.context"),p2=Vr("react.forward_ref"),Ke.Suspense=Vr("react.suspense"),g2=Vr("react.memo"),f2=Vr("react.lazy")}var lm=typeof Symbol=="function"&&Symbol.iterator;function T_(t){return t===null||typeof t!="object"?null:(t=lm&&t[lm]||t["@@iterator"],typeof t=="function"?t:null)}function jc(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y2={};function Os(t,r,l){this.props=t,this.context=r,this.refs=y2,this.updater=l||m2}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(jc(85));this.updater.enqueueSetState(this,t,r,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _2(){}_2.prototype=Os.prototype;function _f(t,r,l){this.props=t,this.context=r,this.refs=y2,this.updater=l||m2}var vf=_f.prototype=new _2;vf.constructor=_f;yf(vf,Os.prototype);vf.isPureReactComponent=!0;var xf={current:null},v2=Object.prototype.hasOwnProperty,x2={key:!0,ref:!0,__self:!0,__source:!0};function w2(t,r,l){var p,_={},v=null,T=null;if(r!=null)for(p in r.ref!==void 0&&(T=r.ref),r.key!==void 0&&(v=""+r.key),r)v2.call(r,p)&&!x2.hasOwnProperty(p)&&(_[p]=r[p]);var u=arguments.length-2;if(u===1)_.children=l;else if(1<u){for(var F=Array(u),Z=0;Z<u;Z++)F[Z]=arguments[Z+2];_.children=F}if(t&&t.defaultProps)for(p in u=t.defaultProps,u)_[p]===void 0&&(_[p]=u[p]);return{$$typeof:Bs,type:t,key:v,ref:T,props:_,_owner:xf.current}}function A_(t,r){return{$$typeof:Bs,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bs}function k_(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(l){return r[l]})}var sm=/\/+/g;function Rg(t,r){return typeof t=="object"&&t!==null&&t.key!=null?k_(""+t.key):r.toString(36)}function gh(t,r,l,p,_){var v=typeof t;(v==="undefined"||v==="boolean")&&(t=null);var T=!1;if(t===null)T=!0;else switch(v){case"string":case"number":T=!0;break;case"object":switch(t.$$typeof){case Bs:case c2:T=!0}}if(T)return T=t,_=_(T),t=p===""?"."+Rg(T,0):p,Array.isArray(_)?(l="",t!=null&&(l=t.replace(sm,"$&/")+"/"),gh(_,r,l,"",function(Z){return Z})):_!=null&&(wf(_)&&(_=A_(_,l+(!_.key||T&&T.key===_.key?"":(""+_.key).replace(sm,"$&/")+"/")+t)),r.push(_)),1;if(T=0,p=p===""?".":p+":",Array.isArray(t))for(var u=0;u<t.length;u++){v=t[u];var F=p+Rg(v,u);T+=gh(v,r,l,F,_)}else if(F=T_(t),typeof F=="function")for(t=F.call(t),u=0;!(v=t.next()).done;)v=v.value,F=p+Rg(v,u++),T+=gh(v,r,l,F,_);else if(v==="object")throw r=""+t,Error(jc(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r));return T}function Qd(t,r,l){if(t==null)return t;var p=[],_=0;return gh(t,p,"","",function(v){return r.call(l,v,_++)}),p}function C_(t){if(t._status===-1){var r=t._result;r=r(),t._status=0,t._result=r,r.then(function(l){t._status===0&&(l=l.default,t._status=1,t._result=l)},function(l){t._status===0&&(t._status=2,t._result=l)})}if(t._status===1)return t._result;throw t._result}var b2={current:null};function Ma(){var t=b2.current;if(t===null)throw Error(jc(321));return t}var I_={ReactCurrentDispatcher:b2,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:xf,IsSomeRendererActing:{current:!1},assign:yf};Ke.Children={map:Qd,forEach:function(t,r,l){Qd(t,function(){r.apply(this,arguments)},l)},count:function(t){var r=0;return Qd(t,function(){r++}),r},toArray:function(t){return Qd(t,function(r){return r})||[]},only:function(t){if(!wf(t))throw Error(jc(143));return t}};Ke.Component=Os;Ke.PureComponent=_f;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_;Ke.cloneElement=function(t,r,l){if(t==null)throw Error(jc(267,t));var p=yf({},t.props),_=t.key,v=t.ref,T=t._owner;if(r!=null){if(r.ref!==void 0&&(v=r.ref,T=xf.current),r.key!==void 0&&(_=""+r.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(F in r)v2.call(r,F)&&!x2.hasOwnProperty(F)&&(p[F]=r[F]===void 0&&u!==void 0?u[F]:r[F])}var F=arguments.length-2;if(F===1)p.children=l;else if(1<F){u=Array(F);for(var Z=0;Z<F;Z++)u[Z]=arguments[Z+2];p.children=u}return{$$typeof:Bs,type:t.type,key:_,ref:v,props:p,_owner:T}};Ke.createContext=function(t,r){return r===void 0&&(r=null),t={$$typeof:h2,_calculateChangedBits:r,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:d2,_context:t},t.Consumer=t};Ke.createElement=w2;Ke.createFactory=function(t){var r=w2.bind(null,t);return r.type=t,r};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:p2,render:t}};Ke.isValidElement=wf;Ke.lazy=function(t){return{$$typeof:f2,_payload:{_status:-1,_result:t},_init:C_}};Ke.memo=function(t,r){return{$$typeof:g2,type:t,compare:r===void 0?null:r}};Ke.useCallback=function(t,r){return Ma().useCallback(t,r)};Ke.useContext=function(t,r){return Ma().useContext(t,r)};Ke.useDebugValue=function(){};Ke.useEffect=function(t,r){return Ma().useEffect(t,r)};Ke.useImperativeHandle=function(t,r,l){return Ma().useImperativeHandle(t,r,l)};Ke.useLayoutEffect=function(t,r){return Ma().useLayoutEffect(t,r)};Ke.useMemo=function(t,r){return Ma().useMemo(t,r)};Ke.useReducer=function(t,r,l){return Ma().useReducer(t,r,l)};Ke.useRef=function(t){return Ma().useRef(t)};Ke.useState=function(t){return Ma().useState(t)};Ke.version="17.0.2";vt.exports=Ke;var Ae=vt.exports,S2={exports:{}},E2={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var r,l,p,_;if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;t.unstable_now=function(){return v.now()}}else{var T=Date,u=T.now();t.unstable_now=function(){return T.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var F=null,Z=null,yt=function(){if(F!==null)try{var Ft=t.unstable_now();F(!0,Ft),F=null}catch(re){throw setTimeout(yt,0),re}};r=function(Ft){F!==null?setTimeout(r,0,Ft):(F=Ft,setTimeout(yt,0))},l=function(Ft,re){Z=setTimeout(Ft,re)},p=function(){clearTimeout(Z)},t.unstable_shouldYield=function(){return!1},_=t.unstable_forceFrameRate=function(){}}else{var gt=window.setTimeout,V=window.clearTimeout;if(typeof console!="undefined"){var Pt=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Pt!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var It=!1,Lt=null,J=-1,H=5,nt=0;t.unstable_shouldYield=function(){return t.unstable_now()>=nt},_=function(){},t.unstable_forceFrameRate=function(Ft){0>Ft||125<Ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Ft?Math.floor(1e3/Ft):5};var ut=new MessageChannel,at=ut.port2;ut.port1.onmessage=function(){if(Lt!==null){var Ft=t.unstable_now();nt=Ft+H;try{Lt(!0,Ft)?at.postMessage(null):(It=!1,Lt=null)}catch(re){throw at.postMessage(null),re}}else It=!1},r=function(Ft){Lt=Ft,It||(It=!0,at.postMessage(null))},l=function(Ft,re){J=gt(function(){Ft(t.unstable_now())},re)},p=function(){V(J),J=-1}}function bt(Ft,re){var ce=Ft.length;Ft.push(re);t:for(;;){var Ce=ce-1>>>1,Be=Ft[Ce];if(Be!==void 0&&0<Vt(Be,re))Ft[Ce]=re,Ft[ce]=Be,ce=Ce;else break t}}function kt(Ft){return Ft=Ft[0],Ft===void 0?null:Ft}function qt(Ft){var re=Ft[0];if(re!==void 0){var ce=Ft.pop();if(ce!==re){Ft[0]=ce;t:for(var Ce=0,Be=Ft.length;Ce<Be;){var en=2*(Ce+1)-1,un=Ft[en],En=en+1,Tn=Ft[En];if(un!==void 0&&0>Vt(un,ce))Tn!==void 0&&0>Vt(Tn,un)?(Ft[Ce]=Tn,Ft[En]=ce,Ce=En):(Ft[Ce]=un,Ft[en]=ce,Ce=en);else if(Tn!==void 0&&0>Vt(Tn,ce))Ft[Ce]=Tn,Ft[En]=ce,Ce=En;else break t}}return re}return null}function Vt(Ft,re){var ce=Ft.sortIndex-re.sortIndex;return ce!==0?ce:Ft.id-re.id}var jt=[],$e=[],tn=1,qe=null,Ye=3,wn=!1,Ne=!1,ae=!1;function Rn(Ft){for(var re=kt($e);re!==null;){if(re.callback===null)qt($e);else if(re.startTime<=Ft)qt($e),re.sortIndex=re.expirationTime,bt(jt,re);else break;re=kt($e)}}function bn(Ft){if(ae=!1,Rn(Ft),!Ne)if(kt(jt)!==null)Ne=!0,r(Sn);else{var re=kt($e);re!==null&&l(bn,re.startTime-Ft)}}function Sn(Ft,re){Ne=!1,ae&&(ae=!1,p()),wn=!0;var ce=Ye;try{for(Rn(re),qe=kt(jt);qe!==null&&(!(qe.expirationTime>re)||Ft&&!t.unstable_shouldYield());){var Ce=qe.callback;if(typeof Ce=="function"){qe.callback=null,Ye=qe.priorityLevel;var Be=Ce(qe.expirationTime<=re);re=t.unstable_now(),typeof Be=="function"?qe.callback=Be:qe===kt(jt)&&qt(jt),Rn(re)}else qt(jt);qe=kt(jt)}if(qe!==null)var en=!0;else{var un=kt($e);un!==null&&l(bn,un.startTime-re),en=!1}return en}finally{qe=null,Ye=ce,wn=!1}}var ln=_;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ft){Ft.callback=null},t.unstable_continueExecution=function(){Ne||wn||(Ne=!0,r(Sn))},t.unstable_getCurrentPriorityLevel=function(){return Ye},t.unstable_getFirstCallbackNode=function(){return kt(jt)},t.unstable_next=function(Ft){switch(Ye){case 1:case 2:case 3:var re=3;break;default:re=Ye}var ce=Ye;Ye=re;try{return Ft()}finally{Ye=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ln,t.unstable_runWithPriority=function(Ft,re){switch(Ft){case 1:case 2:case 3:case 4:case 5:break;default:Ft=3}var ce=Ye;Ye=Ft;try{return re()}finally{Ye=ce}},t.unstable_scheduleCallback=function(Ft,re,ce){var Ce=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,Ft){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ce+Be,Ft={id:tn++,callback:re,priorityLevel:Ft,startTime:ce,expirationTime:Be,sortIndex:-1},ce>Ce?(Ft.sortIndex=ce,bt($e,Ft),kt(jt)===null&&Ft===kt($e)&&(ae?p():ae=!0,l(bn,ce-Ce))):(Ft.sortIndex=Be,bt(jt,Ft),Ne||wn||(Ne=!0,r(Sn))),Ft},t.unstable_wrapCallback=function(Ft){var re=Ye;return function(){var ce=Ye;Ye=re;try{return Ft.apply(this,arguments)}finally{Ye=ce}}}})(E2);S2.exports=E2;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=vt.exports,Ln=u2,ci=S2.exports;function Nt(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Jh)throw Error(Nt(227));var T2=new Set,Tc={};function fl(t,r){zs(t,r),zs(t+"Capture",r)}function zs(t,r){for(Tc[t]=r,t=0;t<r.length;t++)T2.add(r[t])}var Ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),P_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,um=Object.prototype.hasOwnProperty,cm={},dm={};function M_(t){return um.call(dm,t)?!0:um.call(cm,t)?!1:P_.test(t)?dm[t]=!0:(cm[t]=!0,!1)}function z_(t,r,l,p){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D_(t,r,l,p){if(r===null||typeof r=="undefined"||z_(t,r,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Zi(t,r,l,p,_,v,T){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=p,this.attributeNamespace=_,this.mustUseProperty=l,this.propertyName=t,this.type=r,this.sanitizeURL=v,this.removeEmptyString=T}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bi[t]=new Zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];bi[r]=new Zi(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bi[t]=new Zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bi[t]=new Zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bi[t]=new Zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bi[t]=new Zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bi[t]=new Zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bi[t]=new Zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bi[t]=new Zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var bf=/[\-:]([a-z])/g;function Sf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(bf,Sf);bi[r]=new Zi(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(bf,Sf);bi[r]=new Zi(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(bf,Sf);bi[r]=new Zi(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bi[t]=new Zi(t,1,!1,t.toLowerCase(),null,!1,!1)});bi.xlinkHref=new Zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bi[t]=new Zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ef(t,r,l,p){var _=bi.hasOwnProperty(r)?bi[r]:null,v=_!==null?_.type===0:p?!1:!(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N");v||(D_(r,l,_,p)&&(l=null),p||_===null?M_(r)&&(l===null?t.removeAttribute(r):t.setAttribute(r,""+l)):_.mustUseProperty?t[_.propertyName]=l===null?_.type===3?!1:"":l:(r=_.attributeName,p=_.attributeNamespace,l===null?t.removeAttribute(r):(_=_.type,l=_===3||_===4&&l===!0?"":""+l,p?t.setAttributeNS(p,r,l):t.setAttribute(r,l))))}var ml=Jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oc=60103,il=60106,io=60107,Tf=60108,hc=60114,Af=60109,kf=60110,Qh=60112,pc=60113,Ah=60120,tp=60115,Cf=60116,If=60121,Pf=60128,A2=60129,Mf=60130,m4=60131;if(typeof Symbol=="function"&&Symbol.for){var ui=Symbol.for;oc=ui("react.element"),il=ui("react.portal"),io=ui("react.fragment"),Tf=ui("react.strict_mode"),hc=ui("react.profiler"),Af=ui("react.provider"),kf=ui("react.context"),Qh=ui("react.forward_ref"),pc=ui("react.suspense"),Ah=ui("react.suspense_list"),tp=ui("react.memo"),Cf=ui("react.lazy"),If=ui("react.block"),ui("react.scope"),Pf=ui("react.opaque.id"),A2=ui("react.debug_trace_mode"),Mf=ui("react.offscreen"),m4=ui("react.legacy_hidden")}var hm=typeof Symbol=="function"&&Symbol.iterator;function Wu(t){return t===null||typeof t!="object"?null:(t=hm&&t[hm]||t["@@iterator"],typeof t=="function"?t:null)}var Fg;function lc(t){if(Fg===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Fg=r&&r[1]||""}return`
`+Fg+t}var Bg=!1;function th(t,r){if(!t||Bg)return"";Bg=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var p=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){p=F}t.call(r.prototype)}else{try{throw Error()}catch(F){p=F}t()}}catch(F){if(F&&p&&typeof F.stack=="string"){for(var _=F.stack.split(`
`),v=p.stack.split(`
`),T=_.length-1,u=v.length-1;1<=T&&0<=u&&_[T]!==v[u];)u--;for(;1<=T&&0<=u;T--,u--)if(_[T]!==v[u]){if(T!==1||u!==1)do if(T--,u--,0>u||_[T]!==v[u])return`
`+_[T].replace(" at new "," at ");while(1<=T&&0<=u);break}}}finally{Bg=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?lc(t):""}function L_(t){switch(t.tag){case 5:return lc(t.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return t=th(t.type,!1),t;case 11:return t=th(t.type.render,!1),t;case 22:return t=th(t.type._render,!1),t;case 1:return t=th(t.type,!0),t;default:return""}}function ws(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case il:return"Portal";case hc:return"Profiler";case Tf:return"StrictMode";case pc:return"Suspense";case Ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kf:return(t.displayName||"Context")+".Consumer";case Af:return(t._context.displayName||"Context")+".Provider";case Qh:var r=t.render;return r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case tp:return ws(t.type);case If:return ws(t._render);case Cf:r=t._payload,t=t._init;try{return ws(t(r))}catch{}}return null}function _o(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function k2(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function R_(t){var r=k2(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),p=""+t[r];if(!t.hasOwnProperty(r)&&typeof l!="undefined"&&typeof l.get=="function"&&typeof l.set=="function"){var _=l.get,v=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return _.call(this)},set:function(T){p=""+T,v.call(this,T)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function eh(t){t._valueTracker||(t._valueTracker=R_(t))}function C2(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),p="";return t&&(p=k2(t)?t.checked?"true":"false":t.value),t=p,t!==l?(r.setValue(t),!0):!1}function kh(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function y4(t,r){var l=r.checked;return Ln({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l!=null?l:t._wrapperState.initialChecked})}function pm(t,r){var l=r.defaultValue==null?"":r.defaultValue,p=r.checked!=null?r.checked:r.defaultChecked;l=_o(r.value!=null?r.value:l),t._wrapperState={initialChecked:p,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function I2(t,r){r=r.checked,r!=null&&Ef(t,"checked",r,!1)}function _4(t,r){I2(t,r);var l=_o(r.value),p=r.type;if(l!=null)p==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(p==="submit"||p==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?v4(t,r.type,l):r.hasOwnProperty("defaultValue")&&v4(t,r.type,_o(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function gm(t,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var p=r.type;if(!(p!=="submit"&&p!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,l||r===t.value||(t.value=r),t.defaultValue=r}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function v4(t,r,l){(r!=="number"||kh(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}function F_(t){var r="";return Jh.Children.forEach(t,function(l){l!=null&&(r+=l)}),r}function x4(t,r){return t=Ln({children:void 0},r),(r=F_(r.children))&&(t.children=r),t}function bs(t,r,l,p){if(t=t.options,r){r={};for(var _=0;_<l.length;_++)r["$"+l[_]]=!0;for(l=0;l<t.length;l++)_=r.hasOwnProperty("$"+t[l].value),t[l].selected!==_&&(t[l].selected=_),_&&p&&(t[l].defaultSelected=!0)}else{for(l=""+_o(l),r=null,_=0;_<t.length;_++){if(t[_].value===l){t[_].selected=!0,p&&(t[_].defaultSelected=!0);return}r!==null||t[_].disabled||(r=t[_])}r!==null&&(r.selected=!0)}}function w4(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Nt(91));return Ln({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fm(t,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(Nt(92));if(Array.isArray(l)){if(!(1>=l.length))throw Error(Nt(93));l=l[0]}r=l}r==null&&(r=""),l=r}t._wrapperState={initialValue:_o(l)}}function P2(t,r){var l=_o(r.value),p=_o(r.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),r.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),p!=null&&(t.defaultValue=""+p)}function mm(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}var b4={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function M2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S4(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?M2(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nh,z2=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,l,p,_){MSApp.execUnsafeLocalFunction(function(){return t(r,l,p,_)})}:t}(function(t,r){if(t.namespaceURI!==b4.svg||"innerHTML"in t)t.innerHTML=r;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ac(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var gc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B_=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(t){B_.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),gc[r]=gc[t]})});function D2(t,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||gc.hasOwnProperty(t)&&gc[t]?(""+r).trim():r+"px"}function L2(t,r){t=t.style;for(var l in r)if(r.hasOwnProperty(l)){var p=l.indexOf("--")===0,_=D2(l,r[l],p);l==="float"&&(l="cssFloat"),p?t.setProperty(l,_):t[l]=_}}var O_=Ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E4(t,r){if(r){if(O_[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Nt(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Nt(60));if(!(typeof r.dangerouslySetInnerHTML=="object"&&"__html"in r.dangerouslySetInnerHTML))throw Error(Nt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Nt(62))}}function T4(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A4=null,Ss=null,Es=null;function ym(t){if(t=Gc(t)){if(typeof A4!="function")throw Error(Nt(280));var r=t.stateNode;r&&(r=op(r),A4(t.stateNode,t.type,r))}}function R2(t){Ss?Es?Es.push(t):Es=[t]:Ss=t}function F2(){if(Ss){var t=Ss,r=Es;if(Es=Ss=null,ym(t),r)for(t=0;t<r.length;t++)ym(r[t])}}function Df(t,r){return t(r)}function B2(t,r,l,p,_){return t(r,l,p,_)}function Lf(){}var O2=Df,rl=!1,Og=!1;function Rf(){(Ss!==null||Es!==null)&&(Lf(),F2())}function U_(t,r,l){if(Og)return t(r,l);Og=!0;try{return O2(t,r,l)}finally{Og=!1,Rf()}}function kc(t,r){var l=t.stateNode;if(l===null)return null;var p=op(l);if(p===null)return null;l=p[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(t=t.type,p=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!p;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(Nt(231,r,typeof l));return l}var k4=!1;if(Ia)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){k4=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{k4=!1}function N_(t,r,l,p,_,v,T,u,F){var Z=Array.prototype.slice.call(arguments,3);try{r.apply(l,Z)}catch(yt){this.onError(yt)}}var fc=!1,Ch=null,Ih=!1,C4=null,V_={onError:function(t){fc=!0,Ch=t}};function j_(t,r,l,p,_,v,T,u,F){fc=!1,Ch=null,N_.apply(V_,arguments)}function $_(t,r,l,p,_,v,T,u,F){if(j_.apply(this,arguments),fc){if(fc){var Z=Ch;fc=!1,Ch=null}else throw Error(Nt(198));Ih||(Ih=!0,C4=Z)}}function yl(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&1026)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function U2(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _m(t){if(yl(t)!==t)throw Error(Nt(188))}function G_(t){var r=t.alternate;if(!r){if(r=yl(t),r===null)throw Error(Nt(188));return r!==t?null:t}for(var l=t,p=r;;){var _=l.return;if(_===null)break;var v=_.alternate;if(v===null){if(p=_.return,p!==null){l=p;continue}break}if(_.child===v.child){for(v=_.child;v;){if(v===l)return _m(_),t;if(v===p)return _m(_),r;v=v.sibling}throw Error(Nt(188))}if(l.return!==p.return)l=_,p=v;else{for(var T=!1,u=_.child;u;){if(u===l){T=!0,l=_,p=v;break}if(u===p){T=!0,p=_,l=v;break}u=u.sibling}if(!T){for(u=v.child;u;){if(u===l){T=!0,l=v,p=_;break}if(u===p){T=!0,p=v,l=_;break}u=u.sibling}if(!T)throw Error(Nt(189))}}if(l.alternate!==p)throw Error(Nt(190))}if(l.tag!==3)throw Error(Nt(188));return l.stateNode.current===l?t:r}function N2(t){if(t=G_(t),!t)return null;for(var r=t;;){if(r.tag===5||r.tag===6)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===t)break;for(;!r.sibling;){if(!r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function vm(t,r){for(var l=t.alternate;r!==null;){if(r===t||r===l)return!0;r=r.return}return!1}var V2,Ff,j2,$2,I4=!1,Kr=[],so=null,uo=null,co=null,Cc=new Map,Ic=new Map,Xu=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P4(t,r,l,p,_){return{blockedOn:t,domEventName:r,eventSystemFlags:l|16,nativeEvent:_,targetContainers:[p]}}function wm(t,r){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Cc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(r.pointerId)}}function Ku(t,r,l,p,_,v){return t===null||t.nativeEvent!==v?(t=P4(r,l,p,_,v),r!==null&&(r=Gc(r),r!==null&&Ff(r)),t):(t.eventSystemFlags|=p,r=t.targetContainers,_!==null&&r.indexOf(_)===-1&&r.push(_),t)}function q_(t,r,l,p,_){switch(r){case"focusin":return so=Ku(so,t,r,l,p,_),!0;case"dragenter":return uo=Ku(uo,t,r,l,p,_),!0;case"mouseover":return co=Ku(co,t,r,l,p,_),!0;case"pointerover":var v=_.pointerId;return Cc.set(v,Ku(Cc.get(v)||null,t,r,l,p,_)),!0;case"gotpointercapture":return v=_.pointerId,Ic.set(v,Ku(Ic.get(v)||null,t,r,l,p,_)),!0}return!1}function Z_(t){var r=al(t.target);if(r!==null){var l=yl(r);if(l!==null){if(r=l.tag,r===13){if(r=U2(l),r!==null){t.blockedOn=r,$2(t.lanePriority,function(){ci.unstable_runWithPriority(t.priority,function(){j2(l)})});return}}else if(r===3&&l.stateNode.hydrate){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=Nf(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(l!==null)return r=Gc(l),r!==null&&Ff(r),t.blockedOn=l,!1;r.shift()}return!0}function bm(t,r,l){fh(t)&&l.delete(r)}function W_(){for(I4=!1;0<Kr.length;){var t=Kr[0];if(t.blockedOn!==null){t=Gc(t.blockedOn),t!==null&&V2(t);break}for(var r=t.targetContainers;0<r.length;){var l=Nf(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(l!==null){t.blockedOn=l;break}r.shift()}t.blockedOn===null&&Kr.shift()}so!==null&&fh(so)&&(so=null),uo!==null&&fh(uo)&&(uo=null),co!==null&&fh(co)&&(co=null),Cc.forEach(bm),Ic.forEach(bm)}function Yu(t,r){t.blockedOn===r&&(t.blockedOn=null,I4||(I4=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,W_)))}function G2(t){function r(_){return Yu(_,t)}if(0<Kr.length){Yu(Kr[0],t);for(var l=1;l<Kr.length;l++){var p=Kr[l];p.blockedOn===t&&(p.blockedOn=null)}}for(so!==null&&Yu(so,t),uo!==null&&Yu(uo,t),co!==null&&Yu(co,t),Cc.forEach(r),Ic.forEach(r),l=0;l<Xu.length;l++)p=Xu[l],p.blockedOn===t&&(p.blockedOn=null);for(;0<Xu.length&&(l=Xu[0],l.blockedOn===null);)Z_(l),l.blockedOn===null&&Xu.shift()}function ih(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var fs={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},Ug={},q2={};Ia&&(q2=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function ep(t){if(Ug[t])return Ug[t];if(!fs[t])return t;var r=fs[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in q2)return Ug[t]=r[l];return t}var Z2=ep("animationend"),W2=ep("animationiteration"),H2=ep("animationstart"),X2=ep("transitionend"),K2=new Map,Bf=new Map,H_=["abort","abort",Z2,"animationEnd",W2,"animationIteration",H2,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",X2,"transitionEnd","waiting","waiting"];function Of(t,r){for(var l=0;l<t.length;l+=2){var p=t[l],_=t[l+1];_="on"+(_[0].toUpperCase()+_.slice(1)),Bf.set(p,r),K2.set(p,_),fl(_,[p])}}var X_=ci.unstable_now;X_();var xn=8;function ps(t){if((1&t)!==0)return xn=15,1;if((2&t)!==0)return xn=14,2;if((4&t)!==0)return xn=13,4;var r=24&t;return r!==0?(xn=12,r):(t&32)!==0?(xn=11,32):(r=192&t,r!==0?(xn=10,r):(t&256)!==0?(xn=9,256):(r=3584&t,r!==0?(xn=8,r):(t&4096)!==0?(xn=7,4096):(r=4186112&t,r!==0?(xn=6,r):(r=62914560&t,r!==0?(xn=5,r):t&67108864?(xn=4,67108864):(t&134217728)!==0?(xn=3,134217728):(r=805306368&t,r!==0?(xn=2,r):(1073741824&t)!==0?(xn=1,1073741824):(xn=8,t))))))}function K_(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Y_(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Nt(358,t))}}function Pc(t,r){var l=t.pendingLanes;if(l===0)return xn=0;var p=0,_=0,v=t.expiredLanes,T=t.suspendedLanes,u=t.pingedLanes;if(v!==0)p=v,_=xn=15;else if(v=l&134217727,v!==0){var F=v&~T;F!==0?(p=ps(F),_=xn):(u&=v,u!==0&&(p=ps(u),_=xn))}else v=l&~T,v!==0?(p=ps(v),_=xn):u!==0&&(p=ps(u),_=xn);if(p===0)return 0;if(p=31-vo(p),p=l&((0>p?0:1<<p)<<1)-1,r!==0&&r!==p&&(r&T)===0){if(ps(r),_<=xn)return r;xn=_}if(r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=p;0<r;)l=31-vo(r),_=1<<l,p|=t[l],r&=~_;return p}function Y2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ph(t,r){switch(t){case 15:return 1;case 14:return 2;case 12:return t=gs(24&~r),t===0?Ph(10,r):t;case 10:return t=gs(192&~r),t===0?Ph(8,r):t;case 8:return t=gs(3584&~r),t===0&&(t=gs(4186112&~r),t===0&&(t=512)),t;case 2:return r=gs(805306368&~r),r===0&&(r=268435456),r}throw Error(Nt(358,t))}function gs(t){return t&-t}function Ng(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function np(t,r,l){t.pendingLanes|=r;var p=r-1;t.suspendedLanes&=p,t.pingedLanes&=p,t=t.eventTimes,r=31-vo(r),t[r]=l}var vo=Math.clz32?Math.clz32:t9,J_=Math.log,Q_=Math.LN2;function t9(t){return t===0?32:31-(J_(t)/Q_|0)|0}var e9=ci.unstable_UserBlockingPriority,n9=ci.unstable_runWithPriority,mh=!0;function i9(t,r,l,p){rl||Lf();var _=Uf,v=rl;rl=!0;try{B2(_,t,r,l,p)}finally{(rl=v)||Rf()}}function r9(t,r,l,p){n9(e9,Uf.bind(null,t,r,l,p))}function Uf(t,r,l,p){if(mh){var _;if((_=(r&4)===0)&&0<Kr.length&&-1<xm.indexOf(t))t=P4(null,t,r,l,p),Kr.push(t);else{var v=Nf(t,r,l,p);if(v===null)_&&wm(t,p);else{if(_){if(-1<xm.indexOf(t)){t=P4(v,t,r,l,p),Kr.push(t);return}if(q_(v,t,r,l,p))return;wm(t,p)}c8(t,r,p,null,l)}}}}function Nf(t,r,l,p){var _=zf(p);if(_=al(_),_!==null){var v=yl(_);if(v===null)_=null;else{var T=v.tag;if(T===13){if(_=U2(v),_!==null)return _;_=null}else if(T===3){if(v.stateNode.hydrate)return v.tag===3?v.stateNode.containerInfo:null;_=null}else v!==_&&(_=null)}}return c8(t,r,p,_,l),null}var ao=null,Vf=null,yh=null;function J2(){if(yh)return yh;var t,r=Vf,l=r.length,p,_="value"in ao?ao.value:ao.textContent,v=_.length;for(t=0;t<l&&r[t]===_[t];t++);var T=l-t;for(p=1;p<=T&&r[l-p]===_[v-p];p++);return yh=_.slice(t,1<p?1-p:void 0)}function _h(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function rh(){return!0}function Sm(){return!1}function mr(t){function r(l,p,_,v,T){this._reactName=l,this._targetInst=_,this.type=p,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(l=t[u],this[u]=l?l(v):v[u]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rh:Sm,this.isPropagationStopped=Sm,this}return Ln(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),r}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=mr(Us),$c=Ln({},Us,{view:0,detail:0}),a9=mr($c),Vg,jg,Ju,ip=Ln({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ju&&(Ju&&t.type==="mousemove"?(Vg=t.screenX-Ju.screenX,jg=t.screenY-Ju.screenY):jg=Vg=0,Ju=t),Vg)},movementY:function(t){return"movementY"in t?t.movementY:jg}}),Em=mr(ip),o9=Ln({},ip,{dataTransfer:0}),l9=mr(o9),s9=Ln({},$c,{relatedTarget:0}),$g=mr(s9),u9=Ln({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),c9=mr(u9),d9=Ln({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h9=mr(d9),p9=Ln({},Us,{data:0}),Tm=mr(p9),g9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y9(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=m9[t])?!!r[t]:!1}function $f(){return y9}var _9=Ln({},$c,{key:function(t){if(t.key){var r=g9[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v9=mr(_9),x9=Ln({},ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=mr(x9),w9=Ln({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),b9=mr(w9),S9=Ln({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),E9=mr(S9),T9=Ln({},ip,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A9=mr(T9),k9=[9,13,27,32],Gf=Ia&&"CompositionEvent"in window,mc=null;Ia&&"documentMode"in document&&(mc=document.documentMode);var C9=Ia&&"TextEvent"in window&&!mc,Q2=Ia&&(!Gf||mc&&8<mc&&11>=mc),km=String.fromCharCode(32),Cm=!1;function t8(t,r){switch(t){case"keyup":return k9.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function I9(t,r){switch(t){case"compositionend":return e8(r);case"keypress":return r.which!==32?null:(Cm=!0,km);case"textInput":return t=r.data,t===km&&Cm?null:t;default:return null}}function P9(t,r){if(ms)return t==="compositionend"||!Gf&&t8(t,r)?(t=J2(),yh=Vf=ao=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Q2&&r.locale!=="ko"?null:r.data;default:return null}}var M9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!M9[t.type]:r==="textarea"}function n8(t,r,l,p){R2(p),r=Mh(r,"onChange"),0<r.length&&(l=new jf("onChange","change",null,l,p),t.push({event:l,listeners:r}))}var yc=null,Mc=null;function z9(t){l8(t,0)}function rp(t){var r=_s(t);if(C2(r))return t}function D9(t,r){if(t==="change")return r}var i8=!1;if(Ia){var Gg;if(Ia){var qg="oninput"in document;if(!qg){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),qg=typeof Pm.oninput=="function"}Gg=qg}else Gg=!1;i8=Gg&&(!document.documentMode||9<document.documentMode)}function Mm(){yc&&(yc.detachEvent("onpropertychange",r8),Mc=yc=null)}function r8(t){if(t.propertyName==="value"&&rp(Mc)){var r=[];if(n8(r,Mc,t,zf(t)),t=z9,rl)t(r);else{rl=!0;try{Df(t,r)}finally{rl=!1,Rf()}}}}function L9(t,r,l){t==="focusin"?(Mm(),yc=r,Mc=l,yc.attachEvent("onpropertychange",r8)):t==="focusout"&&Mm()}function R9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rp(Mc)}function F9(t,r){if(t==="click")return rp(r)}function B9(t,r){if(t==="input"||t==="change")return rp(r)}function O9(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cr=typeof Object.is=="function"?Object.is:O9,U9=Object.prototype.hasOwnProperty;function zc(t,r){if(Cr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),p=Object.keys(r);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++)if(!U9.call(r,l[p])||!Cr(t[l[p]],r[l[p]]))return!1;return!0}function zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dm(t,r){var l=zm(t);t=0;for(var p;l;){if(l.nodeType===3){if(p=t+l.textContent.length,t<=r&&p>=r)return{node:l,offset:r-t};t=p}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=zm(l)}}function a8(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?a8(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Lm(){for(var t=window,r=kh();r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=kh(t.document)}return r}function M4(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var N9=Ia&&"documentMode"in document&&11>=document.documentMode,ys=null,z4=null,_c=null,D4=!1;function Rm(t,r,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;D4||ys==null||ys!==kh(p)||(p=ys,"selectionStart"in p&&M4(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),_c&&zc(_c,p)||(_c=p,p=Mh(z4,"onSelect"),0<p.length&&(r=new jf("onSelect","select",null,r,l),t.push({event:r,listeners:p}),r.target=ys)))}Of("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Of("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Of(H_,2);for(var Fm="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Zg=0;Zg<Fm.length;Zg++)Bf.set(Fm[Zg],0);zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o8=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Bm(t,r,l){var p=t.type||"unknown-event";t.currentTarget=l,$_(p,r,void 0,t),t.currentTarget=null}function l8(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var p=t[l],_=p.event;p=p.listeners;t:{var v=void 0;if(r)for(var T=p.length-1;0<=T;T--){var u=p[T],F=u.instance,Z=u.currentTarget;if(u=u.listener,F!==v&&_.isPropagationStopped())break t;Bm(_,u,Z),v=F}else for(T=0;T<p.length;T++){if(u=p[T],F=u.instance,Z=u.currentTarget,u=u.listener,F!==v&&_.isPropagationStopped())break t;Bm(_,u,Z),v=F}}}if(Ih)throw t=C4,Ih=!1,C4=null,t}function Cn(t,r){var l=h8(r),p=t+"__bubble";l.has(p)||(u8(r,t,2,!1),l.add(p))}var Om="_reactListening"+Math.random().toString(36).slice(2);function s8(t){t[Om]||(t[Om]=!0,T2.forEach(function(r){o8.has(r)||Um(r,!1,t,null),Um(r,!0,t,null)}))}function Um(t,r,l,p){var _=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,v=l;if(t==="selectionchange"&&l.nodeType!==9&&(v=l.ownerDocument),p!==null&&!r&&o8.has(t)){if(t!=="scroll")return;_|=2,v=p}var T=h8(v),u=t+"__"+(r?"capture":"bubble");T.has(u)||(r&&(_|=4),u8(v,t,_,r),T.add(u))}function u8(t,r,l,p){var _=Bf.get(r);switch(_===void 0?2:_){case 0:_=i9;break;case 1:_=r9;break;default:_=Uf}l=_.bind(null,r,l,t),_=void 0,!k4||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(_=!0),p?_!==void 0?t.addEventListener(r,l,{capture:!0,passive:_}):t.addEventListener(r,l,!0):_!==void 0?t.addEventListener(r,l,{passive:_}):t.addEventListener(r,l,!1)}function c8(t,r,l,p,_){var v=p;if((r&1)===0&&(r&2)===0&&p!==null)t:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var u=p.stateNode.containerInfo;if(u===_||u.nodeType===8&&u.parentNode===_)break;if(T===4)for(T=p.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===_||F.nodeType===8&&F.parentNode===_))return;T=T.return}for(;u!==null;){if(T=al(u),T===null)return;if(F=T.tag,F===5||F===6){p=v=T;continue t}u=u.parentNode}}p=p.return}U_(function(){var Z=v,yt=zf(l),gt=[];t:{var V=K2.get(t);if(V!==void 0){var Pt=jf,It=t;switch(t){case"keypress":if(_h(l)===0)break t;case"keydown":case"keyup":Pt=v9;break;case"focusin":It="focus",Pt=$g;break;case"focusout":It="blur",Pt=$g;break;case"beforeblur":case"afterblur":Pt=$g;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=l9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=b9;break;case Z2:case W2:case H2:Pt=c9;break;case X2:Pt=E9;break;case"scroll":Pt=a9;break;case"wheel":Pt=A9;break;case"copy":case"cut":case"paste":Pt=h9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=Am}var Lt=(r&4)!==0,J=!Lt&&t==="scroll",H=Lt?V!==null?V+"Capture":null:V;Lt=[];for(var nt=Z,ut;nt!==null;){ut=nt;var at=ut.stateNode;if(ut.tag===5&&at!==null&&(ut=at,H!==null&&(at=kc(nt,H),at!=null&&Lt.push(Dc(nt,at,ut)))),J)break;nt=nt.return}0<Lt.length&&(V=new Pt(V,It,null,l,yt),gt.push({event:V,listeners:Lt}))}}if((r&7)===0){t:{if(V=t==="mouseover"||t==="pointerover",Pt=t==="mouseout"||t==="pointerout",V&&(r&16)===0&&(It=l.relatedTarget||l.fromElement)&&(al(It)||It[Ns]))break t;if((Pt||V)&&(V=yt.window===yt?yt:(V=yt.ownerDocument)?V.defaultView||V.parentWindow:window,Pt?(It=l.relatedTarget||l.toElement,Pt=Z,It=It?al(It):null,It!==null&&(J=yl(It),It!==J||It.tag!==5&&It.tag!==6)&&(It=null)):(Pt=null,It=Z),Pt!==It)){if(Lt=Em,at="onMouseLeave",H="onMouseEnter",nt="mouse",(t==="pointerout"||t==="pointerover")&&(Lt=Am,at="onPointerLeave",H="onPointerEnter",nt="pointer"),J=Pt==null?V:_s(Pt),ut=It==null?V:_s(It),V=new Lt(at,nt+"leave",Pt,l,yt),V.target=J,V.relatedTarget=ut,at=null,al(yt)===Z&&(Lt=new Lt(H,nt+"enter",It,l,yt),Lt.target=ut,Lt.relatedTarget=J,at=Lt),J=at,Pt&&It)e:{for(Lt=Pt,H=It,nt=0,ut=Lt;ut;ut=us(ut))nt++;for(ut=0,at=H;at;at=us(at))ut++;for(;0<nt-ut;)Lt=us(Lt),nt--;for(;0<ut-nt;)H=us(H),ut--;for(;nt--;){if(Lt===H||H!==null&&Lt===H.alternate)break e;Lt=us(Lt),H=us(H)}Lt=null}else Lt=null;Pt!==null&&Nm(gt,V,Pt,Lt,!1),It!==null&&J!==null&&Nm(gt,J,It,Lt,!0)}}t:{if(V=Z?_s(Z):window,Pt=V.nodeName&&V.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&V.type==="file")var bt=D9;else if(Im(V))if(i8)bt=B9;else{bt=R9;var kt=L9}else(Pt=V.nodeName)&&Pt.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(bt=F9);if(bt&&(bt=bt(t,Z))){n8(gt,bt,l,yt);break t}kt&&kt(t,V,Z),t==="focusout"&&(kt=V._wrapperState)&&kt.controlled&&V.type==="number"&&v4(V,"number",V.value)}switch(kt=Z?_s(Z):window,t){case"focusin":(Im(kt)||kt.contentEditable==="true")&&(ys=kt,z4=Z,_c=null);break;case"focusout":_c=z4=ys=null;break;case"mousedown":D4=!0;break;case"contextmenu":case"mouseup":case"dragend":D4=!1,Rm(gt,l,yt);break;case"selectionchange":if(N9)break;case"keydown":case"keyup":Rm(gt,l,yt)}var qt;if(Gf)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ms?t8(t,l)&&(Vt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(Q2&&l.locale!=="ko"&&(ms||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ms&&(qt=J2()):(ao=yt,Vf="value"in ao?ao.value:ao.textContent,ms=!0)),kt=Mh(Z,Vt),0<kt.length&&(Vt=new Tm(Vt,t,null,l,yt),gt.push({event:Vt,listeners:kt}),qt?Vt.data=qt:(qt=e8(l),qt!==null&&(Vt.data=qt)))),(qt=C9?I9(t,l):P9(t,l))&&(Z=Mh(Z,"onBeforeInput"),0<Z.length&&(yt=new Tm("onBeforeInput","beforeinput",null,l,yt),gt.push({event:yt,listeners:Z}),yt.data=qt))}l8(gt,r)})}function Dc(t,r,l){return{instance:t,listener:r,currentTarget:l}}function Mh(t,r){for(var l=r+"Capture",p=[];t!==null;){var _=t,v=_.stateNode;_.tag===5&&v!==null&&(_=v,v=kc(t,l),v!=null&&p.unshift(Dc(t,v,_)),v=kc(t,r),v!=null&&p.push(Dc(t,v,_))),t=t.return}return p}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nm(t,r,l,p,_){for(var v=r._reactName,T=[];l!==null&&l!==p;){var u=l,F=u.alternate,Z=u.stateNode;if(F!==null&&F===p)break;u.tag===5&&Z!==null&&(u=Z,_?(F=kc(l,v),F!=null&&T.unshift(Dc(l,F,u))):_||(F=kc(l,v),F!=null&&T.push(Dc(l,F,u)))),l=l.return}T.length!==0&&t.push({event:r,listeners:T})}function zh(){}var Wg=null,Hg=null;function d8(t,r){switch(t){case"button":case"input":case"select":case"textarea":return!!r.autoFocus}return!1}function L4(t,r){return t==="textarea"||t==="option"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,V9=typeof clearTimeout=="function"?clearTimeout:void 0;function qf(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Ts(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break}return t}function jm(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}var Xg=0;function j9(t){return{$$typeof:Pf,toString:t,valueOf:t}}var ap=Math.random().toString(36).slice(2),oo="__reactFiber$"+ap,Dh="__reactProps$"+ap,Ns="__reactContainer$"+ap,$m="__reactEvents$"+ap;function al(t){var r=t[oo];if(r)return r;for(var l=t.parentNode;l;){if(r=l[Ns]||l[oo]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=jm(t);t!==null;){if(l=t[oo])return l;t=jm(t)}return r}t=l,l=t.parentNode}return null}function Gc(t){return t=t[oo]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Nt(33))}function op(t){return t[Dh]||null}function h8(t){var r=t[$m];return r===void 0&&(r=t[$m]=new Set),r}var R4=[],vs=-1;function Eo(t){return{current:t}}function Pn(t){0>vs||(t.current=R4[vs],R4[vs]=null,vs--)}function qn(t,r){vs++,R4[vs]=t.current,t.current=r}var xo={},Li=Eo(xo),nr=Eo(!1),dl=xo;function Ds(t,r){var l=t.type.contextTypes;if(!l)return xo;var p=t.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===r)return p.__reactInternalMemoizedMaskedChildContext;var _={},v;for(v in l)_[v]=r[v];return p&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=_),_}function ir(t){return t=t.childContextTypes,t!=null}function Lh(){Pn(nr),Pn(Li)}function Gm(t,r,l){if(Li.current!==xo)throw Error(Nt(168));qn(Li,r),qn(nr,l)}function p8(t,r,l){var p=t.stateNode;if(t=r.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var _ in p)if(!(_ in t))throw Error(Nt(108,ws(r)||"Unknown",_));return Ln({},l,p)}function vh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,dl=Li.current,qn(Li,t),qn(nr,nr.current),!0}function qm(t,r,l){var p=t.stateNode;if(!p)throw Error(Nt(169));l?(t=p8(t,r,dl),p.__reactInternalMemoizedMergedChildContext=t,Pn(nr),Pn(Li),qn(Li,t)):Pn(nr),qn(nr,l)}var Zf=null,sl=null,$9=ci.unstable_runWithPriority,Wf=ci.unstable_scheduleCallback,F4=ci.unstable_cancelCallback,G9=ci.unstable_shouldYield,Zm=ci.unstable_requestPaint,B4=ci.unstable_now,q9=ci.unstable_getCurrentPriorityLevel,lp=ci.unstable_ImmediatePriority,g8=ci.unstable_UserBlockingPriority,f8=ci.unstable_NormalPriority,m8=ci.unstable_LowPriority,y8=ci.unstable_IdlePriority,Kg={},Z9=Zm!==void 0?Zm:function(){},Sa=null,xh=null,Yg=!1,Wm=B4(),zi=1e4>Wm?B4:function(){return B4()-Wm};function Ls(){switch(q9()){case lp:return 99;case g8:return 98;case f8:return 97;case m8:return 96;case y8:return 95;default:throw Error(Nt(332))}}function _8(t){switch(t){case 99:return lp;case 98:return g8;case 97:return f8;case 96:return m8;case 95:return y8;default:throw Error(Nt(332))}}function hl(t,r){return t=_8(t),$9(t,r)}function Lc(t,r,l){return t=_8(t),Wf(t,r,l)}function ea(){if(xh!==null){var t=xh;xh=null,F4(t)}v8()}function v8(){if(!Yg&&Sa!==null){Yg=!0;var t=0;try{var r=Sa;hl(99,function(){for(;t<r.length;t++){var l=r[t];do l=l(!0);while(l!==null)}}),Sa=null}catch(l){throw Sa!==null&&(Sa=Sa.slice(t+1)),Wf(lp,ea),l}finally{Yg=!1}}}var W9=ml.ReactCurrentBatchConfig;function Gr(t,r){if(t&&t.defaultProps){r=Ln({},r),t=t.defaultProps;for(var l in t)r[l]===void 0&&(r[l]=t[l]);return r}return r}var Rh=Eo(null),Fh=null,xs=null,Bh=null;function Hf(){Bh=xs=Fh=null}function Xf(t){var r=Rh.current;Pn(Rh),t.type._context._currentValue=r}function x8(t,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)===r){if(l===null||(l.childLanes&r)===r)break;l.childLanes|=r}else t.childLanes|=r,l!==null&&(l.childLanes|=r);t=t.return}}function As(t,r){Fh=t,Bh=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(qr=!0),t.firstContext=null)}function Mr(t,r){if(Bh!==t&&r!==!1&&r!==0)if((typeof r!="number"||r===1073741823)&&(Bh=t,r=1073741823),r={context:t,observedBits:r,next:null},xs===null){if(Fh===null)throw Error(Nt(308));xs=r,Fh.dependencies={lanes:0,firstContext:r,responders:null}}else xs=xs.next=r;return t._currentValue}var eo=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function w8(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ho(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function po(t,r){if(t=t.updateQueue,t!==null){t=t.shared;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}}function Hm(t,r){var l=t.updateQueue,p=t.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var _=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?_=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?_=v=r:v=v.next=r}else _=v=r;l={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:v,shared:p.shared,effects:p.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}function Rc(t,r,l,p){var _=t.updateQueue;eo=!1;var v=_.firstBaseUpdate,T=_.lastBaseUpdate,u=_.shared.pending;if(u!==null){_.shared.pending=null;var F=u,Z=F.next;F.next=null,T===null?v=Z:T.next=Z,T=F;var yt=t.alternate;if(yt!==null){yt=yt.updateQueue;var gt=yt.lastBaseUpdate;gt!==T&&(gt===null?yt.firstBaseUpdate=Z:gt.next=Z,yt.lastBaseUpdate=F)}}if(v!==null){gt=_.baseState,T=0,yt=Z=F=null;do{u=v.lane;var V=v.eventTime;if((p&u)===u){yt!==null&&(yt=yt.next={eventTime:V,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});t:{var Pt=t,It=v;switch(u=r,V=l,It.tag){case 1:if(Pt=It.payload,typeof Pt=="function"){gt=Pt.call(V,gt,u);break t}gt=Pt;break t;case 3:Pt.flags=Pt.flags&-4097|64;case 0:if(Pt=It.payload,u=typeof Pt=="function"?Pt.call(V,gt,u):Pt,u==null)break t;gt=Ln({},gt,u);break t;case 2:eo=!0}}v.callback!==null&&(t.flags|=32,u=_.effects,u===null?_.effects=[v]:u.push(v))}else V={eventTime:V,lane:u,tag:v.tag,payload:v.payload,callback:v.callback,next:null},yt===null?(Z=yt=V,F=gt):yt=yt.next=V,T|=u;if(v=v.next,v===null){if(u=_.shared.pending,u===null)break;v=u.next,u.next=null,_.lastBaseUpdate=u,_.shared.pending=null}}while(1);yt===null&&(F=gt),_.baseState=F,_.firstBaseUpdate=Z,_.lastBaseUpdate=yt,Zc|=T,t.lanes=T,t.memoizedState=gt}}function Xm(t,r,l){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var p=t[r],_=p.callback;if(_!==null){if(p.callback=null,p=l,typeof _!="function")throw Error(Nt(191,_));_.call(p)}}}var b8=new Jh.Component().refs;function Oh(t,r,l,p){r=t.memoizedState,l=l(p,r),l=l==null?r:Ln({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var sp={isMounted:function(t){return(t=t._reactInternals)?yl(t)===t:!1},enqueueSetState:function(t,r,l){t=t._reactInternals;var p=fr(),_=go(t),v=ho(p,_);v.payload=r,l!=null&&(v.callback=l),po(t,v),fo(t,_,p)},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var p=fr(),_=go(t),v=ho(p,_);v.tag=1,v.payload=r,l!=null&&(v.callback=l),po(t,v),fo(t,_,p)},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=fr(),p=go(t),_=ho(l,p);_.tag=2,r!=null&&(_.callback=r),po(t,_),fo(t,p,l)}};function Km(t,r,l,p,_,v,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(p,v,T):r.prototype&&r.prototype.isPureReactComponent?!zc(l,p)||!zc(_,v):!0}function S8(t,r,l){var p=!1,_=xo,v=r.contextType;return typeof v=="object"&&v!==null?v=Mr(v):(_=ir(r)?dl:Li.current,p=r.contextTypes,v=(p=p!=null)?Ds(t,_):xo),r=new r(l,v),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=sp,t.stateNode=r,r._reactInternals=t,p&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=_,t.__reactInternalMemoizedMaskedChildContext=v),r}function Ym(t,r,l,p){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,p),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,p),r.state!==t&&sp.enqueueReplaceState(r,r.state,null)}function O4(t,r,l,p){var _=t.stateNode;_.props=l,_.state=t.memoizedState,_.refs=b8,Kf(t);var v=r.contextType;typeof v=="object"&&v!==null?_.context=Mr(v):(v=ir(r)?dl:Li.current,_.context=Ds(t,v)),Rc(t,l,_,p),_.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Oh(t,r,v,l),_.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(r=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),r!==_.state&&sp.enqueueReplaceState(_,_.state,null),Rc(t,l,_,p),_.state=t.memoizedState),typeof _.componentDidMount=="function"&&(t.flags|=4)}var ah=Array.isArray;function Qu(t,r,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(Nt(309));var p=l.stateNode}if(!p)throw Error(Nt(147,t));var _=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===_?r.ref:(r=function(v){var T=p.refs;T===b8&&(T=p.refs={}),v===null?delete T[_]:T[_]=v},r._stringRef=_,r)}if(typeof t!="string")throw Error(Nt(284));if(!l._owner)throw Error(Nt(290,t))}return t}function oh(t,r){if(t.type!=="textarea")throw Error(Nt(31,Object.prototype.toString.call(r)==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":r))}function E8(t){function r(J,H){if(t){var nt=J.lastEffect;nt!==null?(nt.nextEffect=H,J.lastEffect=H):J.firstEffect=J.lastEffect=H,H.nextEffect=null,H.flags=8}}function l(J,H){if(!t)return null;for(;H!==null;)r(J,H),H=H.sibling;return null}function p(J,H){for(J=new Map;H!==null;)H.key!==null?J.set(H.key,H):J.set(H.index,H),H=H.sibling;return J}function _(J,H){return J=bo(J,H),J.index=0,J.sibling=null,J}function v(J,H,nt){return J.index=nt,t?(nt=J.alternate,nt!==null?(nt=nt.index,nt<H?(J.flags=2,H):nt):(J.flags=2,H)):H}function T(J){return t&&J.alternate===null&&(J.flags=2),J}function u(J,H,nt,ut){return H===null||H.tag!==6?(H=n4(nt,J.mode,ut),H.return=J,H):(H=_(H,nt),H.return=J,H)}function F(J,H,nt,ut){return H!==null&&H.elementType===nt.type?(ut=_(H,nt.props),ut.ref=Qu(J,H,nt),ut.return=J,ut):(ut=Eh(nt.type,nt.key,nt.props,null,J.mode,ut),ut.ref=Qu(J,H,nt),ut.return=J,ut)}function Z(J,H,nt,ut){return H===null||H.tag!==4||H.stateNode.containerInfo!==nt.containerInfo||H.stateNode.implementation!==nt.implementation?(H=i4(nt,J.mode,ut),H.return=J,H):(H=_(H,nt.children||[]),H.return=J,H)}function yt(J,H,nt,ut,at){return H===null||H.tag!==7?(H=Ps(nt,J.mode,ut,at),H.return=J,H):(H=_(H,nt),H.return=J,H)}function gt(J,H,nt){if(typeof H=="string"||typeof H=="number")return H=n4(""+H,J.mode,nt),H.return=J,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case oc:return nt=Eh(H.type,H.key,H.props,null,J.mode,nt),nt.ref=Qu(J,null,H),nt.return=J,nt;case il:return H=i4(H,J.mode,nt),H.return=J,H}if(ah(H)||Wu(H))return H=Ps(H,J.mode,nt,null),H.return=J,H;oh(J,H)}return null}function V(J,H,nt,ut){var at=H!==null?H.key:null;if(typeof nt=="string"||typeof nt=="number")return at!==null?null:u(J,H,""+nt,ut);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case oc:return nt.key===at?nt.type===io?yt(J,H,nt.props.children,ut,at):F(J,H,nt,ut):null;case il:return nt.key===at?Z(J,H,nt,ut):null}if(ah(nt)||Wu(nt))return at!==null?null:yt(J,H,nt,ut,null);oh(J,nt)}return null}function Pt(J,H,nt,ut,at){if(typeof ut=="string"||typeof ut=="number")return J=J.get(nt)||null,u(H,J,""+ut,at);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case oc:return J=J.get(ut.key===null?nt:ut.key)||null,ut.type===io?yt(H,J,ut.props.children,at,ut.key):F(H,J,ut,at);case il:return J=J.get(ut.key===null?nt:ut.key)||null,Z(H,J,ut,at)}if(ah(ut)||Wu(ut))return J=J.get(nt)||null,yt(H,J,ut,at,null);oh(H,ut)}return null}function It(J,H,nt,ut){for(var at=null,bt=null,kt=H,qt=H=0,Vt=null;kt!==null&&qt<nt.length;qt++){kt.index>qt?(Vt=kt,kt=null):Vt=kt.sibling;var jt=V(J,kt,nt[qt],ut);if(jt===null){kt===null&&(kt=Vt);break}t&&kt&&jt.alternate===null&&r(J,kt),H=v(jt,H,qt),bt===null?at=jt:bt.sibling=jt,bt=jt,kt=Vt}if(qt===nt.length)return l(J,kt),at;if(kt===null){for(;qt<nt.length;qt++)kt=gt(J,nt[qt],ut),kt!==null&&(H=v(kt,H,qt),bt===null?at=kt:bt.sibling=kt,bt=kt);return at}for(kt=p(J,kt);qt<nt.length;qt++)Vt=Pt(kt,J,qt,nt[qt],ut),Vt!==null&&(t&&Vt.alternate!==null&&kt.delete(Vt.key===null?qt:Vt.key),H=v(Vt,H,qt),bt===null?at=Vt:bt.sibling=Vt,bt=Vt);return t&&kt.forEach(function($e){return r(J,$e)}),at}function Lt(J,H,nt,ut){var at=Wu(nt);if(typeof at!="function")throw Error(Nt(150));if(nt=at.call(nt),nt==null)throw Error(Nt(151));for(var bt=at=null,kt=H,qt=H=0,Vt=null,jt=nt.next();kt!==null&&!jt.done;qt++,jt=nt.next()){kt.index>qt?(Vt=kt,kt=null):Vt=kt.sibling;var $e=V(J,kt,jt.value,ut);if($e===null){kt===null&&(kt=Vt);break}t&&kt&&$e.alternate===null&&r(J,kt),H=v($e,H,qt),bt===null?at=$e:bt.sibling=$e,bt=$e,kt=Vt}if(jt.done)return l(J,kt),at;if(kt===null){for(;!jt.done;qt++,jt=nt.next())jt=gt(J,jt.value,ut),jt!==null&&(H=v(jt,H,qt),bt===null?at=jt:bt.sibling=jt,bt=jt);return at}for(kt=p(J,kt);!jt.done;qt++,jt=nt.next())jt=Pt(kt,J,qt,jt.value,ut),jt!==null&&(t&&jt.alternate!==null&&kt.delete(jt.key===null?qt:jt.key),H=v(jt,H,qt),bt===null?at=jt:bt.sibling=jt,bt=jt);return t&&kt.forEach(function(tn){return r(J,tn)}),at}return function(J,H,nt,ut){var at=typeof nt=="object"&&nt!==null&&nt.type===io&&nt.key===null;at&&(nt=nt.props.children);var bt=typeof nt=="object"&&nt!==null;if(bt)switch(nt.$$typeof){case oc:t:{for(bt=nt.key,at=H;at!==null;){if(at.key===bt){switch(at.tag){case 7:if(nt.type===io){l(J,at.sibling),H=_(at,nt.props.children),H.return=J,J=H;break t}break;default:if(at.elementType===nt.type){l(J,at.sibling),H=_(at,nt.props),H.ref=Qu(J,at,nt),H.return=J,J=H;break t}}l(J,at);break}else r(J,at);at=at.sibling}nt.type===io?(H=Ps(nt.props.children,J.mode,ut,nt.key),H.return=J,J=H):(ut=Eh(nt.type,nt.key,nt.props,null,J.mode,ut),ut.ref=Qu(J,H,nt),ut.return=J,J=ut)}return T(J);case il:t:{for(at=nt.key;H!==null;){if(H.key===at)if(H.tag===4&&H.stateNode.containerInfo===nt.containerInfo&&H.stateNode.implementation===nt.implementation){l(J,H.sibling),H=_(H,nt.children||[]),H.return=J,J=H;break t}else{l(J,H);break}else r(J,H);H=H.sibling}H=i4(nt,J.mode,ut),H.return=J,J=H}return T(J)}if(typeof nt=="string"||typeof nt=="number")return nt=""+nt,H!==null&&H.tag===6?(l(J,H.sibling),H=_(H,nt),H.return=J,J=H):(l(J,H),H=n4(nt,J.mode,ut),H.return=J,J=H),T(J);if(ah(nt))return It(J,H,nt,ut);if(Wu(nt))return Lt(J,H,nt,ut);if(bt&&oh(J,nt),typeof nt=="undefined"&&!at)switch(J.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Nt(152,ws(J.type)||"Component"))}return l(J,H)}}var Uh=E8(!0),T8=E8(!1),qc={},Qr=Eo(qc),Fc=Eo(qc),Bc=Eo(qc);function ol(t){if(t===qc)throw Error(Nt(174));return t}function U4(t,r){switch(qn(Bc,r),qn(Fc,t),qn(Qr,qc),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:S4(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=S4(r,t)}Pn(Qr),qn(Qr,r)}function Rs(){Pn(Qr),Pn(Fc),Pn(Bc)}function Jm(t){ol(Bc.current);var r=ol(Qr.current),l=S4(r,t.type);r!==l&&(qn(Fc,t),qn(Qr,l))}function Yf(t){Fc.current===t&&(Pn(Qr),Pn(Fc))}var Gn=Eo(0);function Nh(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&64)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ta=null,lo=null,ta=!1;function A8(t,r){var l=Ir(5,null,null,0);l.elementType="DELETED",l.type="DELETED",l.stateNode=r,l.return=t,l.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=l,t.lastEffect=l):t.firstEffect=t.lastEffect=l}function Qm(t,r){switch(t.tag){case 5:var l=t.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,!0):!1;case 13:return!1;default:return!1}}function N4(t){if(ta){var r=lo;if(r){var l=r;if(!Qm(t,r)){if(r=Ts(l.nextSibling),!r||!Qm(t,r)){t.flags=t.flags&-1025|2,ta=!1,Ta=t;return}A8(Ta,l)}Ta=t,lo=Ts(r.firstChild)}else t.flags=t.flags&-1025|2,ta=!1,Ta=t}}function t1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ta=t}function lh(t){if(t!==Ta)return!1;if(!ta)return t1(t),ta=!0,!1;var r=t.type;if(t.tag!==5||r!=="head"&&r!=="body"&&!L4(r,t.memoizedProps))for(r=lo;r;)A8(t,r),r=Ts(r.nextSibling);if(t1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Nt(317));t:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(r===0){lo=Ts(t.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}t=t.nextSibling}lo=null}}else lo=Ta?Ts(t.stateNode.nextSibling):null;return!0}function Jg(){lo=Ta=null,ta=!1}var ks=[];function Jf(){for(var t=0;t<ks.length;t++)ks[t]._workInProgressVersionPrimary=null;ks.length=0}var vc=ml.ReactCurrentDispatcher,Pr=ml.ReactCurrentBatchConfig,Oc=0,Kn=null,Mi=null,xi=null,Vh=!1,xc=!1;function tr(){throw Error(Nt(321))}function Qf(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!Cr(t[l],r[l]))return!1;return!0}function t0(t,r,l,p,_,v){if(Oc=v,Kn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,vc.current=t===null||t.memoizedState===null?X9:K9,t=l(p,_),xc){v=0;do{if(xc=!1,!(25>v))throw Error(Nt(301));v+=1,xi=Mi=null,r.updateQueue=null,vc.current=Y9,t=l(p,_)}while(xc)}if(vc.current=qh,r=Mi!==null&&Mi.next!==null,Oc=0,xi=Mi=Kn=null,Vh=!1,r)throw Error(Nt(300));return t}function ll(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Kn.memoizedState=xi=t:xi=xi.next=t,xi}function _l(){if(Mi===null){var t=Kn.alternate;t=t!==null?t.memoizedState:null}else t=Mi.next;var r=xi===null?Kn.memoizedState:xi.next;if(r!==null)xi=r,Mi=t;else{if(t===null)throw Error(Nt(310));Mi=t,t={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},xi===null?Kn.memoizedState=xi=t:xi=xi.next=t}return xi}function Yr(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=_l(),l=r.queue;if(l===null)throw Error(Nt(311));l.lastRenderedReducer=t;var p=Mi,_=p.baseQueue,v=l.pending;if(v!==null){if(_!==null){var T=_.next;_.next=v.next,v.next=T}p.baseQueue=_=v,l.pending=null}if(_!==null){_=_.next,p=p.baseState;var u=T=v=null,F=_;do{var Z=F.lane;if((Oc&Z)===Z)u!==null&&(u=u.next={lane:0,action:F.action,eagerReducer:F.eagerReducer,eagerState:F.eagerState,next:null}),p=F.eagerReducer===t?F.eagerState:t(p,F.action);else{var yt={lane:Z,action:F.action,eagerReducer:F.eagerReducer,eagerState:F.eagerState,next:null};u===null?(T=u=yt,v=p):u=u.next=yt,Kn.lanes|=Z,Zc|=Z}F=F.next}while(F!==null&&F!==_);u===null?v=p:u.next=T,Cr(p,r.memoizedState)||(qr=!0),r.memoizedState=p,r.baseState=v,r.baseQueue=u,l.lastRenderedState=p}return[r.memoizedState,l.dispatch]}function ec(t){var r=_l(),l=r.queue;if(l===null)throw Error(Nt(311));l.lastRenderedReducer=t;var p=l.dispatch,_=l.pending,v=r.memoizedState;if(_!==null){l.pending=null;var T=_=_.next;do v=t(v,T.action),T=T.next;while(T!==_);Cr(v,r.memoizedState)||(qr=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,p]}function e1(t,r,l){var p=r._getVersion;p=p(r._source);var _=r._workInProgressVersionPrimary;if(_!==null?t=_===p:(t=t.mutableReadLanes,(t=(Oc&t)===t)&&(r._workInProgressVersionPrimary=p,ks.push(r))),t)return l(r._source);throw ks.push(r),Error(Nt(350))}function k8(t,r,l,p){var _=qi;if(_===null)throw Error(Nt(349));var v=r._getVersion,T=v(r._source),u=vc.current,F=u.useState(function(){return e1(_,r,l)}),Z=F[1],yt=F[0];F=xi;var gt=t.memoizedState,V=gt.refs,Pt=V.getSnapshot,It=gt.source;gt=gt.subscribe;var Lt=Kn;return t.memoizedState={refs:V,source:r,subscribe:p},u.useEffect(function(){V.getSnapshot=l,V.setSnapshot=Z;var J=v(r._source);if(!Cr(T,J)){J=l(r._source),Cr(yt,J)||(Z(J),J=go(Lt),_.mutableReadLanes|=J&_.pendingLanes),J=_.mutableReadLanes,_.entangledLanes|=J;for(var H=_.entanglements,nt=J;0<nt;){var ut=31-vo(nt),at=1<<ut;H[ut]|=J,nt&=~at}}},[l,r,p]),u.useEffect(function(){return p(r._source,function(){var J=V.getSnapshot,H=V.setSnapshot;try{H(J(r._source));var nt=go(Lt);_.mutableReadLanes|=nt&_.pendingLanes}catch(ut){H(function(){throw ut})}})},[r,p]),Cr(Pt,l)&&Cr(It,r)&&Cr(gt,p)||(t={pending:null,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:yt},t.dispatch=Z=i0.bind(null,Kn,t),F.queue=t,F.baseQueue=null,yt=e1(_,r,l),F.memoizedState=F.baseState=yt),yt}function C8(t,r,l){var p=_l();return k8(p,t,r,l)}function nc(t){var r=ll();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},t=t.dispatch=i0.bind(null,Kn,t),[r.memoizedState,t]}function jh(t,r,l,p){return t={tag:t,create:r,destroy:l,deps:p,next:null},r=Kn.updateQueue,r===null?(r={lastEffect:null},Kn.updateQueue=r,r.lastEffect=t.next=t):(l=r.lastEffect,l===null?r.lastEffect=t.next=t:(p=l.next,l.next=t,t.next=p,r.lastEffect=t)),t}function n1(t){var r=ll();return t={current:t},r.memoizedState=t}function $h(){return _l().memoizedState}function V4(t,r,l,p){var _=ll();Kn.flags|=t,_.memoizedState=jh(1|r,l,void 0,p===void 0?null:p)}function e0(t,r,l,p){var _=_l();p=p===void 0?null:p;var v=void 0;if(Mi!==null){var T=Mi.memoizedState;if(v=T.destroy,p!==null&&Qf(p,T.deps)){jh(r,l,v,p);return}}Kn.flags|=t,_.memoizedState=jh(1|r,l,v,p)}function i1(t,r){return V4(516,4,t,r)}function Gh(t,r){return e0(516,4,t,r)}function I8(t,r){return e0(4,2,t,r)}function P8(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function M8(t,r,l){return l=l!=null?l.concat([t]):null,e0(4,2,P8.bind(null,r,t),l)}function n0(){}function z8(t,r){var l=_l();r=r===void 0?null:r;var p=l.memoizedState;return p!==null&&r!==null&&Qf(r,p[1])?p[0]:(l.memoizedState=[t,r],t)}function D8(t,r){var l=_l();r=r===void 0?null:r;var p=l.memoizedState;return p!==null&&r!==null&&Qf(r,p[1])?p[0]:(t=t(),l.memoizedState=[t,r],t)}function H9(t,r){var l=Ls();hl(98>l?98:l,function(){t(!0)}),hl(97<l?97:l,function(){var p=Pr.transition;Pr.transition=1;try{t(!1),r()}finally{Pr.transition=p}})}function i0(t,r,l){var p=fr(),_=go(t),v={lane:_,action:l,eagerReducer:null,eagerState:null,next:null},T=r.pending;if(T===null?v.next=v:(v.next=T.next,T.next=v),r.pending=v,T=t.alternate,t===Kn||T!==null&&T===Kn)xc=Vh=!0;else{if(t.lanes===0&&(T===null||T.lanes===0)&&(T=r.lastRenderedReducer,T!==null))try{var u=r.lastRenderedState,F=T(u,l);if(v.eagerReducer=T,v.eagerState=F,Cr(F,u))return}catch{}finally{}fo(t,_,p)}}var qh={readContext:Mr,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useOpaqueIdentifier:tr,unstable_isNewReconciler:!1},X9={readContext:Mr,useCallback:function(t,r){return ll().memoizedState=[t,r===void 0?null:r],t},useContext:Mr,useEffect:i1,useImperativeHandle:function(t,r,l){return l=l!=null?l.concat([t]):null,V4(4,2,P8.bind(null,r,t),l)},useLayoutEffect:function(t,r){return V4(4,2,t,r)},useMemo:function(t,r){var l=ll();return r=r===void 0?null:r,t=t(),l.memoizedState=[t,r],t},useReducer:function(t,r,l){var p=ll();return r=l!==void 0?l(r):r,p.memoizedState=p.baseState=r,t=p.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},t=t.dispatch=i0.bind(null,Kn,t),[p.memoizedState,t]},useRef:n1,useState:nc,useDebugValue:n0,useDeferredValue:function(t){var r=nc(t),l=r[0],p=r[1];return i1(function(){var _=Pr.transition;Pr.transition=1;try{p(t)}finally{Pr.transition=_}},[t]),l},useTransition:function(){var t=nc(!1),r=t[0];return t=H9.bind(null,t[1]),n1(t),[t,r]},useMutableSource:function(t,r,l){var p=ll();return p.memoizedState={refs:{getSnapshot:r,setSnapshot:null},source:t,subscribe:l},k8(p,t,r,l)},useOpaqueIdentifier:function(){if(ta){var t=!1,r=j9(function(){throw t||(t=!0,l("r:"+(Xg++).toString(36))),Error(Nt(355))}),l=nc(r)[1];return(Kn.mode&2)===0&&(Kn.flags|=516,jh(5,function(){l("r:"+(Xg++).toString(36))},void 0,null)),r}return r="r:"+(Xg++).toString(36),nc(r),r},unstable_isNewReconciler:!1},K9={readContext:Mr,useCallback:z8,useContext:Mr,useEffect:Gh,useImperativeHandle:M8,useLayoutEffect:I8,useMemo:D8,useReducer:tc,useRef:$h,useState:function(){return tc(Yr)},useDebugValue:n0,useDeferredValue:function(t){var r=tc(Yr),l=r[0],p=r[1];return Gh(function(){var _=Pr.transition;Pr.transition=1;try{p(t)}finally{Pr.transition=_}},[t]),l},useTransition:function(){var t=tc(Yr)[0];return[$h().current,t]},useMutableSource:C8,useOpaqueIdentifier:function(){return tc(Yr)[0]},unstable_isNewReconciler:!1},Y9={readContext:Mr,useCallback:z8,useContext:Mr,useEffect:Gh,useImperativeHandle:M8,useLayoutEffect:I8,useMemo:D8,useReducer:ec,useRef:$h,useState:function(){return ec(Yr)},useDebugValue:n0,useDeferredValue:function(t){var r=ec(Yr),l=r[0],p=r[1];return Gh(function(){var _=Pr.transition;Pr.transition=1;try{p(t)}finally{Pr.transition=_}},[t]),l},useTransition:function(){var t=ec(Yr)[0];return[$h().current,t]},useMutableSource:C8,useOpaqueIdentifier:function(){return ec(Yr)[0]},unstable_isNewReconciler:!1},J9=ml.ReactCurrentOwner,qr=!1;function er(t,r,l,p){r.child=t===null?T8(r,null,l,p):Uh(r,t.child,l,p)}function r1(t,r,l,p,_){l=l.render;var v=r.ref;return As(r,_),p=t0(t,r,l,p,v,_),t!==null&&!qr?(r.updateQueue=t.updateQueue,r.flags&=-517,t.lanes&=~_,Aa(t,r,_)):(r.flags|=1,er(t,r,p,_),r.child)}function a1(t,r,l,p,_,v){if(t===null){var T=l.type;return typeof T=="function"&&!u0(T)&&T.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=T,L8(t,r,T,p,_,v)):(t=Eh(l.type,null,p,r,r.mode,v),t.ref=r.ref,t.return=r,r.child=t)}return T=t.child,(_&v)===0&&(_=T.memoizedProps,l=l.compare,l=l!==null?l:zc,l(_,p)&&t.ref===r.ref)?Aa(t,r,v):(r.flags|=1,t=bo(T,p),t.ref=r.ref,t.return=r,r.child=t)}function L8(t,r,l,p,_,v){if(t!==null&&zc(t.memoizedProps,p)&&t.ref===r.ref)if(qr=!1,(v&_)!==0)(t.flags&16384)!==0&&(qr=!0);else return r.lanes=t.lanes,Aa(t,r,v);return j4(t,r,l,p,v)}function Qg(t,r,l){var p=r.pendingProps,_=p.children,v=t!==null?t.memoizedState:null;if(p.mode==="hidden"||p.mode==="unstable-defer-without-hiding")if((r.mode&4)===0)r.memoizedState={baseLanes:0},uh(r,l);else if((l&1073741824)!==0)r.memoizedState={baseLanes:0},uh(r,v!==null?v.baseLanes:l);else return t=v!==null?v.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t},uh(r,t),null;else v!==null?(p=v.baseLanes|l,r.memoizedState=null):p=l,uh(r,p);return er(t,r,_,l),r.child}function R8(t,r){var l=r.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(r.flags|=128)}function j4(t,r,l,p,_){var v=ir(l)?dl:Li.current;return v=Ds(r,v),As(r,_),l=t0(t,r,l,p,v,_),t!==null&&!qr?(r.updateQueue=t.updateQueue,r.flags&=-517,t.lanes&=~_,Aa(t,r,_)):(r.flags|=1,er(t,r,l,_),r.child)}function o1(t,r,l,p,_){if(ir(l)){var v=!0;vh(r)}else v=!1;if(As(r,_),r.stateNode===null)t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),S8(r,l,p),O4(r,l,p,_),p=!0;else if(t===null){var T=r.stateNode,u=r.memoizedProps;T.props=u;var F=T.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=Mr(Z):(Z=ir(l)?dl:Li.current,Z=Ds(r,Z));var yt=l.getDerivedStateFromProps,gt=typeof yt=="function"||typeof T.getSnapshotBeforeUpdate=="function";gt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(u!==p||F!==Z)&&Ym(r,T,p,Z),eo=!1;var V=r.memoizedState;T.state=V,Rc(r,p,T,_),F=r.memoizedState,u!==p||V!==F||nr.current||eo?(typeof yt=="function"&&(Oh(r,l,yt,p),F=r.memoizedState),(u=eo||Km(r,l,u,p,V,F,Z))?(gt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(r.flags|=4)):(typeof T.componentDidMount=="function"&&(r.flags|=4),r.memoizedProps=p,r.memoizedState=F),T.props=p,T.state=F,T.context=Z,p=u):(typeof T.componentDidMount=="function"&&(r.flags|=4),p=!1)}else{T=r.stateNode,w8(t,r),u=r.memoizedProps,Z=r.type===r.elementType?u:Gr(r.type,u),T.props=Z,gt=r.pendingProps,V=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=Mr(F):(F=ir(l)?dl:Li.current,F=Ds(r,F));var Pt=l.getDerivedStateFromProps;(yt=typeof Pt=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(u!==gt||V!==F)&&Ym(r,T,p,F),eo=!1,V=r.memoizedState,T.state=V,Rc(r,p,T,_);var It=r.memoizedState;u!==gt||V!==It||nr.current||eo?(typeof Pt=="function"&&(Oh(r,l,Pt,p),It=r.memoizedState),(Z=eo||Km(r,l,Z,p,V,It,F))?(yt||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,It,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,It,F)),typeof T.componentDidUpdate=="function"&&(r.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(r.flags|=256)):(typeof T.componentDidUpdate!="function"||u===t.memoizedProps&&V===t.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&V===t.memoizedState||(r.flags|=256),r.memoizedProps=p,r.memoizedState=It),T.props=p,T.state=It,T.context=F,p=Z):(typeof T.componentDidUpdate!="function"||u===t.memoizedProps&&V===t.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&V===t.memoizedState||(r.flags|=256),p=!1)}return $4(t,r,l,p,v,_)}function $4(t,r,l,p,_,v){R8(t,r);var T=(r.flags&64)!==0;if(!p&&!T)return _&&qm(r,l,!1),Aa(t,r,v);p=r.stateNode,J9.current=r;var u=T&&typeof l.getDerivedStateFromError!="function"?null:p.render();return r.flags|=1,t!==null&&T?(r.child=Uh(r,t.child,null,v),r.child=Uh(r,null,u,v)):er(t,r,u,v),r.memoizedState=p.state,_&&qm(r,l,!0),r.child}function l1(t){var r=t.stateNode;r.pendingContext?Gm(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Gm(t,r.context,!1),U4(t,r.containerInfo)}var sh={dehydrated:null,retryLane:0};function s1(t,r,l){var p=r.pendingProps,_=Gn.current,v=!1,T;return(T=(r.flags&64)!==0)||(T=t!==null&&t.memoizedState===null?!1:(_&2)!==0),T?(v=!0,r.flags&=-65):t!==null&&t.memoizedState===null||p.fallback===void 0||p.unstable_avoidThisFallback===!0||(_|=1),qn(Gn,_&1),t===null?(p.fallback!==void 0&&N4(r),t=p.children,_=p.fallback,v?(t=u1(r,t,_,l),r.child.memoizedState={baseLanes:l},r.memoizedState=sh,t):typeof p.unstable_expectedLoadTime=="number"?(t=u1(r,t,_,l),r.child.memoizedState={baseLanes:l},r.memoizedState=sh,r.lanes=33554432,t):(l=c0({mode:"visible",children:t},r.mode,l,null),l.return=r,r.child=l)):t.memoizedState!==null?v?(p=d1(t,r,p.children,p.fallback,l),v=r.child,_=t.child.memoizedState,v.memoizedState=_===null?{baseLanes:l}:{baseLanes:_.baseLanes|l},v.childLanes=t.childLanes&~l,r.memoizedState=sh,p):(l=c1(t,r,p.children,l),r.memoizedState=null,l):v?(p=d1(t,r,p.children,p.fallback,l),v=r.child,_=t.child.memoizedState,v.memoizedState=_===null?{baseLanes:l}:{baseLanes:_.baseLanes|l},v.childLanes=t.childLanes&~l,r.memoizedState=sh,p):(l=c1(t,r,p.children,l),r.memoizedState=null,l)}function u1(t,r,l,p){var _=t.mode,v=t.child;return r={mode:"hidden",children:r},(_&2)===0&&v!==null?(v.childLanes=0,v.pendingProps=r):v=c0(r,_,0,null),l=Ps(l,_,p,null),v.return=t,l.return=t,v.sibling=l,t.child=v,l}function c1(t,r,l,p){var _=t.child;return t=_.sibling,l=bo(_,{mode:"visible",children:l}),(r.mode&2)===0&&(l.lanes=p),l.return=r,l.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,r.firstEffect=r.lastEffect=t),r.child=l}function d1(t,r,l,p,_){var v=r.mode,T=t.child;t=T.sibling;var u={mode:"hidden",children:l};return(v&2)===0&&r.child!==T?(l=r.child,l.childLanes=0,l.pendingProps=u,T=l.lastEffect,T!==null?(r.firstEffect=l.firstEffect,r.lastEffect=T,T.nextEffect=null):r.firstEffect=r.lastEffect=null):l=bo(T,u),t!==null?p=bo(t,p):(p=Ps(p,v,_,null),p.flags|=2),p.return=r,l.return=r,l.sibling=p,r.child=l,p}function h1(t,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),x8(t.return,r)}function t4(t,r,l,p,_,v){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:_,lastEffect:v}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=l,T.tailMode=_,T.lastEffect=v)}function p1(t,r,l){var p=r.pendingProps,_=p.revealOrder,v=p.tail;if(er(t,r,p.children,l),p=Gn.current,(p&2)!==0)p=p&1|2,r.flags|=64;else{if(t!==null&&(t.flags&64)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h1(t,l);else if(t.tag===19)h1(t,l);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}p&=1}if(qn(Gn,p),(r.mode&2)===0)r.memoizedState=null;else switch(_){case"forwards":for(l=r.child,_=null;l!==null;)t=l.alternate,t!==null&&Nh(t)===null&&(_=l),l=l.sibling;l=_,l===null?(_=r.child,r.child=null):(_=l.sibling,l.sibling=null),t4(r,!1,_,l,v,r.lastEffect);break;case"backwards":for(l=null,_=r.child,r.child=null;_!==null;){if(t=_.alternate,t!==null&&Nh(t)===null){r.child=_;break}t=_.sibling,_.sibling=l,l=_,_=t}t4(r,!0,l,null,v,r.lastEffect);break;case"together":t4(r,!1,null,null,void 0,r.lastEffect);break;default:r.memoizedState=null}return r.child}function Aa(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),Zc|=r.lanes,(l&r.childLanes)!==0){if(t!==null&&r.child!==t.child)throw Error(Nt(153));if(r.child!==null){for(t=r.child,l=bo(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=bo(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}return null}var F8,G4,B8,O8;F8=function(t,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}};G4=function(){};B8=function(t,r,l,p){var _=t.memoizedProps;if(_!==p){t=r.stateNode,ol(Qr.current);var v=null;switch(l){case"input":_=y4(t,_),p=y4(t,p),v=[];break;case"option":_=x4(t,_),p=x4(t,p),v=[];break;case"select":_=Ln({},_,{value:void 0}),p=Ln({},p,{value:void 0}),v=[];break;case"textarea":_=w4(t,_),p=w4(t,p),v=[];break;default:typeof _.onClick!="function"&&typeof p.onClick=="function"&&(t.onclick=zh)}E4(l,p);var T;l=null;for(Z in _)if(!p.hasOwnProperty(Z)&&_.hasOwnProperty(Z)&&_[Z]!=null)if(Z==="style"){var u=_[Z];for(T in u)u.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(Tc.hasOwnProperty(Z)?v||(v=[]):(v=v||[]).push(Z,null));for(Z in p){var F=p[Z];if(u=_!=null?_[Z]:void 0,p.hasOwnProperty(Z)&&F!==u&&(F!=null||u!=null))if(Z==="style")if(u){for(T in u)!u.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&u[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(v||(v=[]),v.push(Z,l)),l=F;else Z==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,u=u?u.__html:void 0,F!=null&&u!==F&&(v=v||[]).push(Z,F)):Z==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(Z,""+F):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(Z)?(F!=null&&Z==="onScroll"&&Cn("scroll",t),v||u===F||(v=[])):typeof F=="object"&&F!==null&&F.$$typeof===Pf?F.toString():(v=v||[]).push(Z,F))}l&&(v=v||[]).push("style",l);var Z=v;(r.updateQueue=Z)&&(r.flags|=4)}};O8=function(t,r,l,p){l!==p&&(r.flags|=4)};function ic(t,r){if(!ta)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:p.sibling=null}}function Q9(t,r,l){var p=r.pendingProps;switch(r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ir(r.type)&&Lh(),null;case 3:return Rs(),Pn(nr),Pn(Li),Jf(),p=r.stateNode,p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(t===null||t.child===null)&&(lh(r)?r.flags|=4:p.hydrate||(r.flags|=256)),G4(r),null;case 5:Yf(r);var _=ol(Bc.current);if(l=r.type,t!==null&&r.stateNode!=null)B8(t,r,l,p,_),t.ref!==r.ref&&(r.flags|=128);else{if(!p){if(r.stateNode===null)throw Error(Nt(166));return null}if(t=ol(Qr.current),lh(r)){p=r.stateNode,l=r.type;var v=r.memoizedProps;switch(p[oo]=r,p[Dh]=v,l){case"dialog":Cn("cancel",p),Cn("close",p);break;case"iframe":case"object":case"embed":Cn("load",p);break;case"video":case"audio":for(t=0;t<sc.length;t++)Cn(sc[t],p);break;case"source":Cn("error",p);break;case"img":case"image":case"link":Cn("error",p),Cn("load",p);break;case"details":Cn("toggle",p);break;case"input":pm(p,v),Cn("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},Cn("invalid",p);break;case"textarea":fm(p,v),Cn("invalid",p)}E4(l,v),t=null;for(var T in v)v.hasOwnProperty(T)&&(_=v[T],T==="children"?typeof _=="string"?p.textContent!==_&&(t=["children",_]):typeof _=="number"&&p.textContent!==""+_&&(t=["children",""+_]):Tc.hasOwnProperty(T)&&_!=null&&T==="onScroll"&&Cn("scroll",p));switch(l){case"input":eh(p),gm(p,v,!0);break;case"textarea":eh(p),mm(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=zh)}p=t,r.updateQueue=p,p!==null&&(r.flags|=4)}else{switch(T=_.nodeType===9?_:_.ownerDocument,t===b4.html&&(t=M2(l)),t===b4.html?l==="script"?(t=T.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof p.is=="string"?t=T.createElement(l,{is:p.is}):(t=T.createElement(l),l==="select"&&(T=t,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):t=T.createElementNS(t,l),t[oo]=r,t[Dh]=p,F8(t,r,!1,!1),r.stateNode=t,T=T4(l,p),l){case"dialog":Cn("cancel",t),Cn("close",t),_=p;break;case"iframe":case"object":case"embed":Cn("load",t),_=p;break;case"video":case"audio":for(_=0;_<sc.length;_++)Cn(sc[_],t);_=p;break;case"source":Cn("error",t),_=p;break;case"img":case"image":case"link":Cn("error",t),Cn("load",t),_=p;break;case"details":Cn("toggle",t),_=p;break;case"input":pm(t,p),_=y4(t,p),Cn("invalid",t);break;case"option":_=x4(t,p);break;case"select":t._wrapperState={wasMultiple:!!p.multiple},_=Ln({},p,{value:void 0}),Cn("invalid",t);break;case"textarea":fm(t,p),_=w4(t,p),Cn("invalid",t);break;default:_=p}E4(l,_);var u=_;for(v in u)if(u.hasOwnProperty(v)){var F=u[v];v==="style"?L2(t,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&z2(t,F)):v==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Ac(t,F):typeof F=="number"&&Ac(t,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Tc.hasOwnProperty(v)?F!=null&&v==="onScroll"&&Cn("scroll",t):F!=null&&Ef(t,v,F,T))}switch(l){case"input":eh(t),gm(t,p,!1);break;case"textarea":eh(t),mm(t);break;case"option":p.value!=null&&t.setAttribute("value",""+_o(p.value));break;case"select":t.multiple=!!p.multiple,v=p.value,v!=null?bs(t,!!p.multiple,v,!1):p.defaultValue!=null&&bs(t,!!p.multiple,p.defaultValue,!0);break;default:typeof _.onClick=="function"&&(t.onclick=zh)}d8(l,p)&&(r.flags|=4)}r.ref!==null&&(r.flags|=128)}return null;case 6:if(t&&r.stateNode!=null)O8(t,r,t.memoizedProps,p);else{if(typeof p!="string"&&r.stateNode===null)throw Error(Nt(166));l=ol(Bc.current),ol(Qr.current),lh(r)?(p=r.stateNode,l=r.memoizedProps,p[oo]=r,p.nodeValue!==l&&(r.flags|=4)):(p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[oo]=r,r.stateNode=p)}return null;case 13:return Pn(Gn),p=r.memoizedState,(r.flags&64)!==0?(r.lanes=l,r):(p=p!==null,l=!1,t===null?r.memoizedProps.fallback!==void 0&&lh(r):l=t.memoizedState!==null,p&&!l&&(r.mode&2)!==0&&(t===null&&r.memoizedProps.unstable_avoidThisFallback!==!0||(Gn.current&1)!==0?wi===0&&(wi=3):((wi===0||wi===3)&&(wi=4),qi===null||(Zc&134217727)===0&&(js&134217727)===0||Cs(qi,Di))),(p||l)&&(r.flags|=4),null);case 4:return Rs(),G4(r),t===null&&s8(r.stateNode.containerInfo),null;case 10:return Xf(r),null;case 17:return ir(r.type)&&Lh(),null;case 19:if(Pn(Gn),p=r.memoizedState,p===null)return null;if(v=(r.flags&64)!==0,T=p.rendering,T===null)if(v)ic(p,!1);else{if(wi!==0||t!==null&&(t.flags&64)!==0)for(t=r.child;t!==null;){if(T=Nh(t),T!==null){for(r.flags|=64,ic(p,!1),v=T.updateQueue,v!==null&&(r.updateQueue=v,r.flags|=4),p.lastEffect===null&&(r.firstEffect=null),r.lastEffect=p.lastEffect,p=l,l=r.child;l!==null;)v=l,t=p,v.flags&=2,v.nextEffect=null,v.firstEffect=null,v.lastEffect=null,T=v.alternate,T===null?(v.childLanes=0,v.lanes=t,v.child=null,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,t=T.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return qn(Gn,Gn.current&1|2),r.child}t=t.sibling}p.tail!==null&&zi()>K4&&(r.flags|=64,v=!0,ic(p,!1),r.lanes=33554432)}else{if(!v)if(t=Nh(T),t!==null){if(r.flags|=64,v=!0,l=t.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),ic(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!ta)return r=r.lastEffect=p.lastEffect,r!==null&&(r.nextEffect=null),null}else 2*zi()-p.renderingStartTime>K4&&l!==1073741824&&(r.flags|=64,v=!0,ic(p,!1),r.lanes=33554432);p.isBackwards?(T.sibling=r.child,r.child=T):(l=p.last,l!==null?l.sibling=T:r.child=T,p.last=T)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.lastEffect=r.lastEffect,p.renderingStartTime=zi(),l.sibling=null,r=Gn.current,qn(Gn,v?r&1|2:r&1),l):null;case 23:case 24:return s0(),t!==null&&t.memoizedState!==null!=(r.memoizedState!==null)&&p.mode!=="unstable-defer-without-hiding"&&(r.flags|=4),null}throw Error(Nt(156,r.tag))}function t6(t){switch(t.tag){case 1:ir(t.type)&&Lh();var r=t.flags;return r&4096?(t.flags=r&-4097|64,t):null;case 3:if(Rs(),Pn(nr),Pn(Li),Jf(),r=t.flags,(r&64)!==0)throw Error(Nt(285));return t.flags=r&-4097|64,t;case 5:return Yf(t),null;case 13:return Pn(Gn),r=t.flags,r&4096?(t.flags=r&-4097|64,t):null;case 19:return Pn(Gn),null;case 4:return Rs(),null;case 10:return Xf(t),null;case 23:case 24:return s0(),null;default:return null}}function r0(t,r){try{var l="",p=r;do l+=L_(p),p=p.return;while(p);var _=l}catch(v){_=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:r,stack:_}}function q4(t,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var e6=typeof WeakMap=="function"?WeakMap:Map;function U8(t,r,l){l=ho(-1,l),l.tag=3,l.payload={element:null};var p=r.value;return l.callback=function(){Wh||(Wh=!0,Y4=p),q4(t,r)},l}function N8(t,r,l){l=ho(-1,l),l.tag=3;var p=t.type.getDerivedStateFromError;if(typeof p=="function"){var _=r.value;l.payload=function(){return q4(t,r),p(_)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){typeof p!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this),q4(t,r));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})}),l}var n6=typeof WeakSet=="function"?WeakSet:Set;function g1(t){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){mo(t,l)}else r.current=null}function i6(t,r){switch(r.tag){case 0:case 11:case 15:case 22:return;case 1:if(r.flags&256&&t!==null){var l=t.memoizedProps,p=t.memoizedState;t=r.stateNode,r=t.getSnapshotBeforeUpdate(r.elementType===r.type?l:Gr(r.type,l),p),t.__reactInternalSnapshotBeforeUpdate=r}return;case 3:r.flags&256&&qf(r.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Nt(163))}function r6(t,r,l){switch(l.tag){case 0:case 11:case 15:case 22:if(r=l.updateQueue,r=r!==null?r.lastEffect:null,r!==null){t=r=r.next;do{if((t.tag&3)===3){var p=t.create;t.destroy=p()}t=t.next}while(t!==r)}if(r=l.updateQueue,r=r!==null?r.lastEffect:null,r!==null){t=r=r.next;do{var _=t;p=_.next,_=_.tag,(_&4)!==0&&(_&1)!==0&&(X8(l,t),h6(l,t)),t=p}while(t!==r)}return;case 1:t=l.stateNode,l.flags&4&&(r===null?t.componentDidMount():(p=l.elementType===l.type?r.memoizedProps:Gr(l.type,r.memoizedProps),t.componentDidUpdate(p,r.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),r=l.updateQueue,r!==null&&Xm(l,r,t);return;case 3:if(r=l.updateQueue,r!==null){if(t=null,l.child!==null)switch(l.child.tag){case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}Xm(l,r,t)}return;case 5:t=l.stateNode,r===null&&l.flags&4&&d8(l.type,l.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:l.memoizedState===null&&(l=l.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&G2(l))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Nt(163))}function f1(t,r){for(var l=t;;){if(l.tag===5){var p=l.stateNode;if(r)p=p.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{p=l.stateNode;var _=l.memoizedProps.style;_=_!=null&&_.hasOwnProperty("display")?_.display:null,p.style.display=D2("display",_)}}else if(l.tag===6)l.stateNode.nodeValue=r?"":l.memoizedProps;else if((l.tag!==23&&l.tag!==24||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function m1(t,r){if(sl&&typeof sl.onCommitFiberUnmount=="function")try{sl.onCommitFiberUnmount(Zf,r)}catch{}switch(r.tag){case 0:case 11:case 14:case 15:case 22:if(t=r.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var l=t=t.next;do{var p=l,_=p.destroy;if(p=p.tag,_!==void 0)if((p&4)!==0)X8(r,l);else{p=r;try{_()}catch(v){mo(p,v)}}l=l.next}while(l!==t)}break;case 1:if(g1(r),t=r.stateNode,typeof t.componentWillUnmount=="function")try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(v){mo(r,v)}break;case 5:g1(r);break;case 4:V8(t,r)}}function y1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function _1(t){return t.tag===5||t.tag===3||t.tag===4}function v1(t){t:{for(var r=t.return;r!==null;){if(_1(r))break t;r=r.return}throw Error(Nt(160))}var l=r;switch(r=l.stateNode,l.tag){case 5:var p=!1;break;case 3:r=r.containerInfo,p=!0;break;case 4:r=r.containerInfo,p=!0;break;default:throw Error(Nt(161))}l.flags&16&&(Ac(r,""),l.flags&=-17);t:e:for(l=t;;){for(;l.sibling===null;){if(l.return===null||_1(l.return)){l=null;break t}l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2)){l=l.stateNode;break t}}p?Z4(t,l,r):W4(t,l,r)}function Z4(t,r,l){var p=t.tag,_=p===5||p===6;if(_)t=_?t.stateNode:t.stateNode.instance,r?l.nodeType===8?l.parentNode.insertBefore(t,r):l.insertBefore(t,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(t,l)):(r=l,r.appendChild(t)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=zh));else if(p!==4&&(t=t.child,t!==null))for(Z4(t,r,l),t=t.sibling;t!==null;)Z4(t,r,l),t=t.sibling}function W4(t,r,l){var p=t.tag,_=p===5||p===6;if(_)t=_?t.stateNode:t.stateNode.instance,r?l.insertBefore(t,r):l.appendChild(t);else if(p!==4&&(t=t.child,t!==null))for(W4(t,r,l),t=t.sibling;t!==null;)W4(t,r,l),t=t.sibling}function V8(t,r){for(var l=r,p=!1,_,v;;){if(!p){p=l.return;t:for(;;){if(p===null)throw Error(Nt(160));switch(_=p.stateNode,p.tag){case 5:v=!1;break t;case 3:_=_.containerInfo,v=!0;break t;case 4:_=_.containerInfo,v=!0;break t}p=p.return}p=!0}if(l.tag===5||l.tag===6){t:for(var T=t,u=l,F=u;;)if(m1(T,F),F.child!==null&&F.tag!==4)F.child.return=F,F=F.child;else{if(F===u)break t;for(;F.sibling===null;){if(F.return===null||F.return===u)break t;F=F.return}F.sibling.return=F.return,F=F.sibling}v?(T=_,u=l.stateNode,T.nodeType===8?T.parentNode.removeChild(u):T.removeChild(u)):_.removeChild(l.stateNode)}else if(l.tag===4){if(l.child!==null){_=l.stateNode.containerInfo,v=!0,l.child.return=l,l=l.child;continue}}else if(m1(t,l),l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return,l.tag===4&&(p=!1)}l.sibling.return=l.return,l=l.sibling}}function e4(t,r){switch(r.tag){case 0:case 11:case 14:case 15:case 22:var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do(p.tag&3)===3&&(t=p.destroy,p.destroy=void 0,t!==void 0&&t()),p=p.next;while(p!==l)}return;case 1:return;case 5:if(l=r.stateNode,l!=null){p=r.memoizedProps;var _=t!==null?t.memoizedProps:p;t=r.type;var v=r.updateQueue;if(r.updateQueue=null,v!==null){for(l[Dh]=p,t==="input"&&p.type==="radio"&&p.name!=null&&I2(l,p),T4(t,_),r=T4(t,p),_=0;_<v.length;_+=2){var T=v[_],u=v[_+1];T==="style"?L2(l,u):T==="dangerouslySetInnerHTML"?z2(l,u):T==="children"?Ac(l,u):Ef(l,T,u,r)}switch(t){case"input":_4(l,p);break;case"textarea":P2(l,p);break;case"select":t=l._wrapperState.wasMultiple,l._wrapperState.wasMultiple=!!p.multiple,v=p.value,v!=null?bs(l,!!p.multiple,v,!1):t!==!!p.multiple&&(p.defaultValue!=null?bs(l,!!p.multiple,p.defaultValue,!0):bs(l,!!p.multiple,p.multiple?[]:"",!1))}}}return;case 6:if(r.stateNode===null)throw Error(Nt(162));r.stateNode.nodeValue=r.memoizedProps;return;case 3:l=r.stateNode,l.hydrate&&(l.hydrate=!1,G2(l.containerInfo));return;case 12:return;case 13:r.memoizedState!==null&&(l0=zi(),f1(r.child,!0)),x1(r);return;case 19:x1(r);return;case 17:return;case 23:case 24:f1(r,r.memoizedState!==null);return}throw Error(Nt(163))}function x1(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new n6),r.forEach(function(p){var _=f6.bind(null,t,p);l.has(p)||(l.add(p),p.then(_,_))})}}function a6(t,r){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(r=r.memoizedState,r!==null&&r.dehydrated===null):!1}var o6=Math.ceil,Zh=ml.ReactCurrentDispatcher,a0=ml.ReactCurrentOwner,Te=0,qi=null,ii=null,Di=0,pl=0,H4=Eo(0),wi=0,up=null,Vs=0,Zc=0,js=0,o0=0,X4=null,l0=0,K4=1/0;function $s(){K4=zi()+500}var se=null,Wh=!1,Y4=null,Jr=null,wo=!1,wc=null,uc=90,J4=[],Q4=[],ka=null,bc=0,tf=null,wh=-1,Ea=0,bh=0,Sc=null,Sh=!1;function fr(){return(Te&48)!==0?zi():wh!==-1?wh:wh=zi()}function go(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Ls()===99?1:2;if(Ea===0&&(Ea=Vs),W9.transition!==0){bh!==0&&(bh=X4!==null?X4.pendingLanes:0),t=Ea;var r=4186112&~bh;return r&=-r,r===0&&(t=4186112&~t,r=t&-t,r===0&&(r=8192)),r}return t=Ls(),(Te&4)!==0&&t===98?t=Ph(12,Ea):(t=K_(t),t=Ph(t,Ea)),t}function fo(t,r,l){if(50<bc)throw bc=0,tf=null,Error(Nt(185));if(t=cp(t,r),t===null)return null;np(t,r,l),t===qi&&(js|=r,wi===4&&Cs(t,Di));var p=Ls();r===1?(Te&8)!==0&&(Te&48)===0?ef(t):(zr(t,l),Te===0&&($s(),ea())):((Te&4)===0||p!==98&&p!==99||(ka===null?ka=new Set([t]):ka.add(t)),zr(t,l)),X4=t}function cp(t,r){t.lanes|=r;var l=t.alternate;for(l!==null&&(l.lanes|=r),l=t,t=t.return;t!==null;)t.childLanes|=r,l=t.alternate,l!==null&&(l.childLanes|=r),l=t,t=t.return;return l.tag===3?l.stateNode:null}function zr(t,r){for(var l=t.callbackNode,p=t.suspendedLanes,_=t.pingedLanes,v=t.expirationTimes,T=t.pendingLanes;0<T;){var u=31-vo(T),F=1<<u,Z=v[u];if(Z===-1){if((F&p)===0||(F&_)!==0){Z=r,ps(F);var yt=xn;v[u]=10<=yt?Z+250:6<=yt?Z+5e3:-1}}else Z<=r&&(t.expiredLanes|=F);T&=~F}if(p=Pc(t,t===qi?Di:0),r=xn,p===0)l!==null&&(l!==Kg&&F4(l),t.callbackNode=null,t.callbackPriority=0);else{if(l!==null){if(t.callbackPriority===r)return;l!==Kg&&F4(l)}r===15?(l=ef.bind(null,t),Sa===null?(Sa=[l],xh=Wf(lp,v8)):Sa.push(l),l=Kg):r===14?l=Lc(99,ef.bind(null,t)):(l=Y_(r),l=Lc(l,j8.bind(null,t))),t.callbackPriority=r,t.callbackNode=l}}function j8(t){if(wh=-1,bh=Ea=0,(Te&48)!==0)throw Error(Nt(327));var r=t.callbackNode;if(To()&&t.callbackNode!==r)return null;var l=Pc(t,t===qi?Di:0);if(l===0)return null;var p=l,_=Te;Te|=16;var v=Z8();(qi!==t||Di!==p)&&($s(),Is(t,p));do try{u6();break}catch(u){q8(t,u)}while(1);if(Hf(),Zh.current=v,Te=_,ii!==null?p=0:(qi=null,Di=0,p=wi),(Vs&js)!==0)Is(t,0);else if(p!==0){if(p===2&&(Te|=64,t.hydrate&&(t.hydrate=!1,qf(t.containerInfo)),l=Y2(t),l!==0&&(p=cc(t,l))),p===1)throw r=up,Is(t,0),Cs(t,l),zr(t,zi()),r;switch(t.finishedWork=t.current.alternate,t.finishedLanes=l,p){case 0:case 1:throw Error(Nt(345));case 2:Jo(t);break;case 3:if(Cs(t,l),(l&62914560)===l&&(p=l0+500-zi(),10<p)){if(Pc(t,0)!==0)break;if(_=t.suspendedLanes,(_&l)!==l){fr(),t.pingedLanes|=t.suspendedLanes&_;break}t.timeoutHandle=Vm(Jo.bind(null,t),p);break}Jo(t);break;case 4:if(Cs(t,l),(l&4186112)===l)break;for(p=t.eventTimes,_=-1;0<l;){var T=31-vo(l);v=1<<T,T=p[T],T>_&&(_=T),l&=~v}if(l=_,l=zi()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*o6(l/1960))-l,10<l){t.timeoutHandle=Vm(Jo.bind(null,t),l);break}Jo(t);break;case 5:Jo(t);break;default:throw Error(Nt(329))}}return zr(t,zi()),t.callbackNode===r?j8.bind(null,t):null}function Cs(t,r){for(r&=~o0,r&=~js,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var l=31-vo(r),p=1<<l;t[l]=-1,r&=~p}}function ef(t){if((Te&48)!==0)throw Error(Nt(327));if(To(),t===qi&&(t.expiredLanes&Di)!==0){var r=Di,l=cc(t,r);(Vs&js)!==0&&(r=Pc(t,r),l=cc(t,r))}else r=Pc(t,0),l=cc(t,r);if(t.tag!==0&&l===2&&(Te|=64,t.hydrate&&(t.hydrate=!1,qf(t.containerInfo)),r=Y2(t),r!==0&&(l=cc(t,r))),l===1)throw l=up,Is(t,0),Cs(t,r),zr(t,zi()),l;return t.finishedWork=t.current.alternate,t.finishedLanes=r,Jo(t),zr(t,zi()),null}function l6(){if(ka!==null){var t=ka;ka=null,t.forEach(function(r){r.expiredLanes|=24&r.pendingLanes,zr(r,zi())})}ea()}function $8(t,r){var l=Te;Te|=1;try{return t(r)}finally{Te=l,Te===0&&($s(),ea())}}function G8(t,r){var l=Te;Te&=-2,Te|=8;try{return t(r)}finally{Te=l,Te===0&&($s(),ea())}}function uh(t,r){qn(H4,pl),pl|=r,Vs|=r}function s0(){pl=H4.current,Pn(H4)}function Is(t,r){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,V9(l)),ii!==null)for(l=ii.return;l!==null;){var p=l;switch(p.tag){case 1:p=p.type.childContextTypes,p!=null&&Lh();break;case 3:Rs(),Pn(nr),Pn(Li),Jf();break;case 5:Yf(p);break;case 4:Rs();break;case 13:Pn(Gn);break;case 19:Pn(Gn);break;case 10:Xf(p);break;case 23:case 24:s0()}l=l.return}qi=t,ii=bo(t.current,null),Di=pl=Vs=r,wi=0,up=null,o0=js=Zc=0}function q8(t,r){do{var l=ii;try{if(Hf(),vc.current=qh,Vh){for(var p=Kn.memoizedState;p!==null;){var _=p.queue;_!==null&&(_.pending=null),p=p.next}Vh=!1}if(Oc=0,xi=Mi=Kn=null,xc=!1,a0.current=null,l===null||l.return===null){wi=1,up=r,ii=null;break}t:{var v=t,T=l.return,u=l,F=r;if(r=Di,u.flags|=2048,u.firstEffect=u.lastEffect=null,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Z=F;if((u.mode&2)===0){var yt=u.alternate;yt?(u.updateQueue=yt.updateQueue,u.memoizedState=yt.memoizedState,u.lanes=yt.lanes):(u.updateQueue=null,u.memoizedState=null)}var gt=(Gn.current&1)!==0,V=T;do{var Pt;if(Pt=V.tag===13){var It=V.memoizedState;if(It!==null)Pt=It.dehydrated!==null;else{var Lt=V.memoizedProps;Pt=Lt.fallback===void 0?!1:Lt.unstable_avoidThisFallback!==!0?!0:!gt}}if(Pt){var J=V.updateQueue;if(J===null){var H=new Set;H.add(Z),V.updateQueue=H}else J.add(Z);if((V.mode&2)===0){if(V.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var nt=ho(-1,1);nt.tag=2,po(u,nt)}u.lanes|=1;break t}F=void 0,u=r;var ut=v.pingCache;if(ut===null?(ut=v.pingCache=new e6,F=new Set,ut.set(Z,F)):(F=ut.get(Z),F===void 0&&(F=new Set,ut.set(Z,F))),!F.has(u)){F.add(u);var at=g6.bind(null,v,Z,u);Z.then(at,at)}V.flags|=4096,V.lanes=r;break t}V=V.return}while(V!==null);F=Error((ws(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}wi!==5&&(wi=2),F=r0(F,u),V=T;do{switch(V.tag){case 3:v=F,V.flags|=4096,r&=-r,V.lanes|=r;var bt=U8(V,v,r);Hm(V,bt);break t;case 1:v=F;var kt=V.type,qt=V.stateNode;if((V.flags&64)===0&&(typeof kt.getDerivedStateFromError=="function"||qt!==null&&typeof qt.componentDidCatch=="function"&&(Jr===null||!Jr.has(qt)))){V.flags|=4096,r&=-r,V.lanes|=r;var Vt=N8(V,v,r);Hm(V,Vt);break t}}V=V.return}while(V!==null)}H8(l)}catch(jt){r=jt,ii===l&&l!==null&&(ii=l=l.return);continue}break}while(1)}function Z8(){var t=Zh.current;return Zh.current=qh,t===null?qh:t}function cc(t,r){var l=Te;Te|=16;var p=Z8();qi===t&&Di===r||Is(t,r);do try{s6();break}catch(_){q8(t,_)}while(1);if(Hf(),Te=l,Zh.current=p,ii!==null)throw Error(Nt(261));return qi=null,Di=0,wi}function s6(){for(;ii!==null;)W8(ii)}function u6(){for(;ii!==null&&!G9();)W8(ii)}function W8(t){var r=K8(t.alternate,t,pl);t.memoizedProps=t.pendingProps,r===null?H8(t):ii=r,a0.current=null}function H8(t){var r=t;do{var l=r.alternate;if(t=r.return,(r.flags&2048)===0){if(l=Q9(l,r,pl),l!==null){ii=l;return}if(l=r,l.tag!==24&&l.tag!==23||l.memoizedState===null||(pl&1073741824)!==0||(l.mode&4)===0){for(var p=0,_=l.child;_!==null;)p|=_.lanes|_.childLanes,_=_.sibling;l.childLanes=p}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=r.firstEffect),r.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=r.firstEffect),t.lastEffect=r.lastEffect),1<r.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=r:t.firstEffect=r,t.lastEffect=r))}else{if(l=t6(r),l!==null){l.flags&=2047,ii=l;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(r=r.sibling,r!==null){ii=r;return}ii=r=t}while(r!==null);wi===0&&(wi=5)}function Jo(t){var r=Ls();return hl(99,c6.bind(null,t,r)),null}function c6(t,r){do To();while(wc!==null);if((Te&48)!==0)throw Error(Nt(327));var l=t.finishedWork;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(Nt(177));t.callbackNode=null;var p=l.lanes|l.childLanes,_=p,v=t.pendingLanes&~_;t.pendingLanes=_,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=_,t.mutableReadLanes&=_,t.entangledLanes&=_,_=t.entanglements;for(var T=t.eventTimes,u=t.expirationTimes;0<v;){var F=31-vo(v),Z=1<<F;_[F]=0,T[F]=-1,u[F]=-1,v&=~Z}if(ka!==null&&(p&24)===0&&ka.has(t)&&ka.delete(t),t===qi&&(ii=qi=null,Di=0),1<l.flags?l.lastEffect!==null?(l.lastEffect.nextEffect=l,p=l.firstEffect):p=l:p=l.firstEffect,p!==null){if(_=Te,Te|=32,a0.current=null,Wg=mh,T=Lm(),M4(T)){if("selectionStart"in T)u={start:T.selectionStart,end:T.selectionEnd};else t:if(u=(u=T.ownerDocument)&&u.defaultView||window,(Z=u.getSelection&&u.getSelection())&&Z.rangeCount!==0){u=Z.anchorNode,v=Z.anchorOffset,F=Z.focusNode,Z=Z.focusOffset;try{u.nodeType,F.nodeType}catch{u=null;break t}var yt=0,gt=-1,V=-1,Pt=0,It=0,Lt=T,J=null;e:for(;;){for(var H;Lt!==u||v!==0&&Lt.nodeType!==3||(gt=yt+v),Lt!==F||Z!==0&&Lt.nodeType!==3||(V=yt+Z),Lt.nodeType===3&&(yt+=Lt.nodeValue.length),(H=Lt.firstChild)!==null;)J=Lt,Lt=H;for(;;){if(Lt===T)break e;if(J===u&&++Pt===v&&(gt=yt),J===F&&++It===Z&&(V=yt),(H=Lt.nextSibling)!==null)break;Lt=J,J=Lt.parentNode}Lt=H}u=gt===-1||V===-1?null:{start:gt,end:V}}else u=null;u=u||{start:0,end:0}}else u=null;Hg={focusedElem:T,selectionRange:u},mh=!1,Sc=null,Sh=!1,se=p;do try{d6()}catch(jt){if(se===null)throw Error(Nt(330));mo(se,jt),se=se.nextEffect}while(se!==null);Sc=null,se=p;do try{for(T=t;se!==null;){var nt=se.flags;if(nt&16&&Ac(se.stateNode,""),nt&128){var ut=se.alternate;if(ut!==null){var at=ut.ref;at!==null&&(typeof at=="function"?at(null):at.current=null)}}switch(nt&1038){case 2:v1(se),se.flags&=-3;break;case 6:v1(se),se.flags&=-3,e4(se.alternate,se);break;case 1024:se.flags&=-1025;break;case 1028:se.flags&=-1025,e4(se.alternate,se);break;case 4:e4(se.alternate,se);break;case 8:u=se,V8(T,u);var bt=u.alternate;y1(u),bt!==null&&y1(bt)}se=se.nextEffect}}catch(jt){if(se===null)throw Error(Nt(330));mo(se,jt),se=se.nextEffect}while(se!==null);if(at=Hg,ut=Lm(),nt=at.focusedElem,T=at.selectionRange,ut!==nt&&nt&&nt.ownerDocument&&a8(nt.ownerDocument.documentElement,nt)){for(T!==null&&M4(nt)&&(ut=T.start,at=T.end,at===void 0&&(at=ut),"selectionStart"in nt?(nt.selectionStart=ut,nt.selectionEnd=Math.min(at,nt.value.length)):(at=(ut=nt.ownerDocument||document)&&ut.defaultView||window,at.getSelection&&(at=at.getSelection(),u=nt.textContent.length,bt=Math.min(T.start,u),T=T.end===void 0?bt:Math.min(T.end,u),!at.extend&&bt>T&&(u=T,T=bt,bt=u),u=Dm(nt,bt),v=Dm(nt,T),u&&v&&(at.rangeCount!==1||at.anchorNode!==u.node||at.anchorOffset!==u.offset||at.focusNode!==v.node||at.focusOffset!==v.offset)&&(ut=ut.createRange(),ut.setStart(u.node,u.offset),at.removeAllRanges(),bt>T?(at.addRange(ut),at.extend(v.node,v.offset)):(ut.setEnd(v.node,v.offset),at.addRange(ut)))))),ut=[],at=nt;at=at.parentNode;)at.nodeType===1&&ut.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<ut.length;nt++)at=ut[nt],at.element.scrollLeft=at.left,at.element.scrollTop=at.top}mh=!!Wg,Hg=Wg=null,t.current=l,se=p;do try{for(nt=t;se!==null;){var kt=se.flags;if(kt&36&&r6(nt,se.alternate,se),kt&128){ut=void 0;var qt=se.ref;if(qt!==null){var Vt=se.stateNode;switch(se.tag){case 5:ut=Vt;break;default:ut=Vt}typeof qt=="function"?qt(ut):qt.current=ut}}se=se.nextEffect}}catch(jt){if(se===null)throw Error(Nt(330));mo(se,jt),se=se.nextEffect}while(se!==null);se=null,Z9(),Te=_}else t.current=l;if(wo)wo=!1,wc=t,uc=r;else for(se=p;se!==null;)r=se.nextEffect,se.nextEffect=null,se.flags&8&&(kt=se,kt.sibling=null,kt.stateNode=null),se=r;if(p=t.pendingLanes,p===0&&(Jr=null),p===1?t===tf?bc++:(bc=0,tf=t):bc=0,l=l.stateNode,sl&&typeof sl.onCommitFiberRoot=="function")try{sl.onCommitFiberRoot(Zf,l,void 0,(l.current.flags&64)===64)}catch{}if(zr(t,zi()),Wh)throw Wh=!1,t=Y4,Y4=null,t;return(Te&8)!==0||ea(),null}function d6(){for(;se!==null;){var t=se.alternate;Sh||Sc===null||((se.flags&8)!==0?vm(se,Sc)&&(Sh=!0):se.tag===13&&a6(t,se)&&vm(se,Sc)&&(Sh=!0));var r=se.flags;(r&256)!==0&&i6(t,se),(r&512)===0||wo||(wo=!0,Lc(97,function(){return To(),null})),se=se.nextEffect}}function To(){if(uc!==90){var t=97<uc?97:uc;return uc=90,hl(t,p6)}return!1}function h6(t,r){J4.push(r,t),wo||(wo=!0,Lc(97,function(){return To(),null}))}function X8(t,r){Q4.push(r,t),wo||(wo=!0,Lc(97,function(){return To(),null}))}function p6(){if(wc===null)return!1;var t=wc;if(wc=null,(Te&48)!==0)throw Error(Nt(331));var r=Te;Te|=32;var l=Q4;Q4=[];for(var p=0;p<l.length;p+=2){var _=l[p],v=l[p+1],T=_.destroy;if(_.destroy=void 0,typeof T=="function")try{T()}catch(F){if(v===null)throw Error(Nt(330));mo(v,F)}}for(l=J4,J4=[],p=0;p<l.length;p+=2){_=l[p],v=l[p+1];try{var u=_.create;_.destroy=u()}catch(F){if(v===null)throw Error(Nt(330));mo(v,F)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return Te=r,ea(),!0}function w1(t,r,l){r=r0(l,r),r=U8(t,r,1),po(t,r),r=fr(),t=cp(t,1),t!==null&&(np(t,1,r),zr(t,r))}function mo(t,r){if(t.tag===3)w1(t,t,r);else for(var l=t.return;l!==null;){if(l.tag===3){w1(l,t,r);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Jr===null||!Jr.has(p))){t=r0(r,t);var _=N8(l,t,1);if(po(l,_),_=fr(),l=cp(l,1),l!==null)np(l,1,_),zr(l,_);else if(typeof p.componentDidCatch=="function"&&(Jr===null||!Jr.has(p)))try{p.componentDidCatch(r,t)}catch{}break}}l=l.return}}function g6(t,r,l){var p=t.pingCache;p!==null&&p.delete(r),r=fr(),t.pingedLanes|=t.suspendedLanes&l,qi===t&&(Di&l)===l&&(wi===4||wi===3&&(Di&62914560)===Di&&500>zi()-l0?Is(t,0):o0|=l),zr(t,r)}function f6(t,r){var l=t.stateNode;l!==null&&l.delete(r),r=0,r===0&&(r=t.mode,(r&2)===0?r=1:(r&4)===0?r=Ls()===99?1:2:(Ea===0&&(Ea=Vs),r=gs(62914560&~Ea),r===0&&(r=4194304))),l=fr(),t=cp(t,r),t!==null&&(np(t,r,l),zr(t,l))}var K8;K8=function(t,r,l){var p=r.lanes;if(t!==null)if(t.memoizedProps!==r.pendingProps||nr.current)qr=!0;else if((l&p)!==0)qr=(t.flags&16384)!==0;else{switch(qr=!1,r.tag){case 3:l1(r),Jg();break;case 5:Jm(r);break;case 1:ir(r.type)&&vh(r);break;case 4:U4(r,r.stateNode.containerInfo);break;case 10:p=r.memoizedProps.value;var _=r.type._context;qn(Rh,_._currentValue),_._currentValue=p;break;case 13:if(r.memoizedState!==null)return(l&r.child.childLanes)!==0?s1(t,r,l):(qn(Gn,Gn.current&1),r=Aa(t,r,l),r!==null?r.sibling:null);qn(Gn,Gn.current&1);break;case 19:if(p=(l&r.childLanes)!==0,(t.flags&64)!==0){if(p)return p1(t,r,l);r.flags|=64}if(_=r.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),qn(Gn,Gn.current),p)break;return null;case 23:case 24:return r.lanes=0,Qg(t,r,l)}return Aa(t,r,l)}else qr=!1;switch(r.lanes=0,r.tag){case 2:if(p=r.type,t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,_=Ds(r,Li.current),As(r,l),_=t0(null,r,p,t,_,l),r.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0){if(r.tag=1,r.memoizedState=null,r.updateQueue=null,ir(p)){var v=!0;vh(r)}else v=!1;r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Kf(r);var T=p.getDerivedStateFromProps;typeof T=="function"&&Oh(r,p,T,t),_.updater=sp,r.stateNode=_,_._reactInternals=r,O4(r,p,t,l),r=$4(null,r,p,!0,v,l)}else r.tag=0,er(null,r,_,l),r=r.child;return r;case 16:_=r.elementType;t:{switch(t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,v=_._init,_=v(_._payload),r.type=_,v=r.tag=y6(_),t=Gr(_,t),v){case 0:r=j4(null,r,_,t,l);break t;case 1:r=o1(null,r,_,t,l);break t;case 11:r=r1(null,r,_,t,l);break t;case 14:r=a1(null,r,_,Gr(_.type,t),p,l);break t}throw Error(Nt(306,_,""))}return r;case 0:return p=r.type,_=r.pendingProps,_=r.elementType===p?_:Gr(p,_),j4(t,r,p,_,l);case 1:return p=r.type,_=r.pendingProps,_=r.elementType===p?_:Gr(p,_),o1(t,r,p,_,l);case 3:if(l1(r),p=r.updateQueue,t===null||p===null)throw Error(Nt(282));if(p=r.pendingProps,_=r.memoizedState,_=_!==null?_.element:null,w8(t,r),Rc(r,p,null,l),p=r.memoizedState.element,p===_)Jg(),r=Aa(t,r,l);else{if(_=r.stateNode,(v=_.hydrate)&&(lo=Ts(r.stateNode.containerInfo.firstChild),Ta=r,v=ta=!0),v){if(t=_.mutableSourceEagerHydrationData,t!=null)for(_=0;_<t.length;_+=2)v=t[_],v._workInProgressVersionPrimary=t[_+1],ks.push(v);for(l=T8(r,null,p,l),r.child=l;l;)l.flags=l.flags&-3|1024,l=l.sibling}else er(t,r,p,l),Jg();r=r.child}return r;case 5:return Jm(r),t===null&&N4(r),p=r.type,_=r.pendingProps,v=t!==null?t.memoizedProps:null,T=_.children,L4(p,_)?T=null:v!==null&&L4(p,v)&&(r.flags|=16),R8(t,r),er(t,r,T,l),r.child;case 6:return t===null&&N4(r),null;case 13:return s1(t,r,l);case 4:return U4(r,r.stateNode.containerInfo),p=r.pendingProps,t===null?r.child=Uh(r,null,p,l):er(t,r,p,l),r.child;case 11:return p=r.type,_=r.pendingProps,_=r.elementType===p?_:Gr(p,_),r1(t,r,p,_,l);case 7:return er(t,r,r.pendingProps,l),r.child;case 8:return er(t,r,r.pendingProps.children,l),r.child;case 12:return er(t,r,r.pendingProps.children,l),r.child;case 10:t:{p=r.type._context,_=r.pendingProps,T=r.memoizedProps,v=_.value;var u=r.type._context;if(qn(Rh,u._currentValue),u._currentValue=v,T!==null)if(u=T.value,v=Cr(u,v)?0:(typeof p._calculateChangedBits=="function"?p._calculateChangedBits(u,v):1073741823)|0,v===0){if(T.children===_.children&&!nr.current){r=Aa(t,r,l);break t}}else for(u=r.child,u!==null&&(u.return=r);u!==null;){var F=u.dependencies;if(F!==null){T=u.child;for(var Z=F.firstContext;Z!==null;){if(Z.context===p&&(Z.observedBits&v)!==0){u.tag===1&&(Z=ho(-1,l&-l),Z.tag=2,po(u,Z)),u.lanes|=l,Z=u.alternate,Z!==null&&(Z.lanes|=l),x8(u.return,l),F.lanes|=l;break}Z=Z.next}}else T=u.tag===10&&u.type===r.type?null:u.child;if(T!==null)T.return=u;else for(T=u;T!==null;){if(T===r){T=null;break}if(u=T.sibling,u!==null){u.return=T.return,T=u;break}T=T.return}u=T}er(t,r,_.children,l),r=r.child}return r;case 9:return _=r.type,v=r.pendingProps,p=v.children,As(r,l),_=Mr(_,v.unstable_observedBits),p=p(_),r.flags|=1,er(t,r,p,l),r.child;case 14:return _=r.type,v=Gr(_,r.pendingProps),v=Gr(_.type,v),a1(t,r,_,v,p,l);case 15:return L8(t,r,r.type,r.pendingProps,p,l);case 17:return p=r.type,_=r.pendingProps,_=r.elementType===p?_:Gr(p,_),t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,ir(p)?(t=!0,vh(r)):t=!1,As(r,l),S8(r,p,_),O4(r,p,_,l),$4(null,r,p,!0,t,l);case 19:return p1(t,r,l);case 23:return Qg(t,r,l);case 24:return Qg(t,r,l)}throw Error(Nt(156,r.tag))};function m6(t,r,l,p){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(t,r,l,p){return new m6(t,r,l,p)}function u0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y6(t){if(typeof t=="function")return u0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qh)return 11;if(t===tp)return 14}return 2}function bo(t,r){var l=t.alternate;return l===null?(l=Ir(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null),l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Eh(t,r,l,p,_,v){var T=2;if(p=t,typeof t=="function")u0(t)&&(T=1);else if(typeof t=="string")T=5;else t:switch(t){case io:return Ps(l.children,_,v,r);case A2:T=8,_|=16;break;case Tf:T=8,_|=1;break;case hc:return t=Ir(12,l,r,_|8),t.elementType=hc,t.type=hc,t.lanes=v,t;case pc:return t=Ir(13,l,r,_),t.type=pc,t.elementType=pc,t.lanes=v,t;case Ah:return t=Ir(19,l,r,_),t.elementType=Ah,t.lanes=v,t;case Mf:return c0(l,_,v,r);case m4:return t=Ir(24,l,r,_),t.elementType=m4,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Af:T=10;break t;case kf:T=9;break t;case Qh:T=11;break t;case tp:T=14;break t;case Cf:T=16,p=null;break t;case If:T=22;break t}throw Error(Nt(130,t==null?t:typeof t,""))}return r=Ir(T,l,r,_),r.elementType=t,r.type=p,r.lanes=v,r}function Ps(t,r,l,p){return t=Ir(7,t,p,r),t.lanes=l,t}function c0(t,r,l,p){return t=Ir(23,t,p,r),t.elementType=Mf,t.lanes=l,t}function n4(t,r,l){return t=Ir(6,t,null,r),t.lanes=l,t}function i4(t,r,l){return r=Ir(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function _6(t,r,l){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=l,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ng(0),this.expirationTimes=Ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ng(0),this.mutableSourceEagerHydrationData=null}function v6(t,r,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:p==null?null:""+p,children:t,containerInfo:r,implementation:l}}function Hh(t,r,l,p){var _=r.current,v=fr(),T=go(_);t:if(l){l=l._reactInternals;e:{if(yl(l)!==l||l.tag!==1)throw Error(Nt(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ir(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(Nt(171))}if(l.tag===1){var F=l.type;if(ir(F)){l=p8(l,F,u);break t}}l=u}else l=xo;return r.context===null?r.context=l:r.pendingContext=l,r=ho(v,T),r.payload={element:t},p=p===void 0?null:p,p!==null&&(r.callback=p),po(_,r),fo(_,T,v),T}function r4(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b1(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function d0(t,r){b1(t,r),(t=t.alternate)&&b1(t,r)}function x6(){return null}function h0(t,r,l){var p=l!=null&&l.hydrationOptions!=null&&l.hydrationOptions.mutableSources||null;if(l=new _6(t,r,l!=null&&l.hydrate===!0),r=Ir(3,null,null,r===2?7:r===1?3:0),l.current=r,r.stateNode=l,Kf(r),t[Ns]=l.current,s8(t.nodeType===8?t.parentNode:t),p)for(t=0;t<p.length;t++){r=p[t];var _=r._getVersion;_=_(r._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[r,_]:l.mutableSourceEagerHydrationData.push(r,_)}this._internalRoot=l}h0.prototype.render=function(t){Hh(t,this._internalRoot,null,null)};h0.prototype.unmount=function(){var t=this._internalRoot,r=t.containerInfo;Hh(null,t,null,function(){r[Ns]=null})};function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function w6(t,r){if(r||(r=t?t.nodeType===9?t.documentElement:t.firstChild:null,r=!(!r||r.nodeType!==1||!r.hasAttribute("data-reactroot"))),!r)for(var l;l=t.lastChild;)t.removeChild(l);return new h0(t,0,r?{hydrate:!0}:void 0)}function dp(t,r,l,p,_){var v=l._reactRootContainer;if(v){var T=v._internalRoot;if(typeof _=="function"){var u=_;_=function(){var Z=r4(T);u.call(Z)}}Hh(r,T,t,_)}else{if(v=l._reactRootContainer=w6(l,p),T=v._internalRoot,typeof _=="function"){var F=_;_=function(){var Z=r4(T);F.call(Z)}}G8(function(){Hh(r,T,t,_)})}return r4(T)}V2=function(t){if(t.tag===13){var r=fr();fo(t,4,r),d0(t,4)}};Ff=function(t){if(t.tag===13){var r=fr();fo(t,67108864,r),d0(t,67108864)}};j2=function(t){if(t.tag===13){var r=fr(),l=go(t);fo(t,l,r),d0(t,l)}};$2=function(t,r){return r()};A4=function(t,r,l){switch(r){case"input":if(_4(t,l),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var p=l[r];if(p!==t&&p.form===t.form){var _=op(p);if(!_)throw Error(Nt(90));C2(p),_4(p,_)}}}break;case"textarea":P2(t,l);break;case"select":r=l.value,r!=null&&bs(t,!!l.multiple,r,!1)}};Df=$8;B2=function(t,r,l,p,_){var v=Te;Te|=4;try{return hl(98,t.bind(null,r,l,p,_))}finally{Te=v,Te===0&&($s(),ea())}};Lf=function(){(Te&49)===0&&(l6(),To())};O2=function(t,r){var l=Te;Te|=2;try{return t(r)}finally{Te=l,Te===0&&($s(),ea())}};function Y8(t,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(r))throw Error(Nt(200));return v6(t,r,null,l)}var b6={Events:[Gc,_s,op,R2,F2,To,{current:!1}]},rc={findFiberByHostInstance:al,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},S6={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ml.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N2(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||x6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Zf=ch.inject(S6),sl=ch}catch{}}Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b6;Dr.createPortal=Y8;Dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(Nt(188)):Error(Nt(268,Object.keys(t)));return t=N2(r),t=t===null?null:t.stateNode,t};Dr.flushSync=function(t,r){var l=Te;if((l&48)!==0)return t(r);Te|=1;try{if(t)return hl(99,t.bind(null,r))}finally{Te=l,ea()}};Dr.hydrate=function(t,r,l){if(!Wc(r))throw Error(Nt(200));return dp(null,t,r,!0,l)};Dr.render=function(t,r,l){if(!Wc(r))throw Error(Nt(200));return dp(null,t,r,!1,l)};Dr.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(Nt(40));return t._reactRootContainer?(G8(function(){dp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};Dr.unstable_batchedUpdates=$8;Dr.unstable_createPortal=function(t,r){return Y8(t,r,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Dr.unstable_renderSubtreeIntoContainer=function(t,r,l,p){if(!Wc(l))throw Error(Nt(200));if(t==null||t._reactInternals===void 0)throw Error(Nt(38));return dp(t,r,l,!1,p)};Dr.version="17.0.2";function J8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J8)}catch(t){console.error(t)}}J8(),s2.exports=Dr;var Ms=s2.exports;const E6="_hostMapContainer_1syrx_1",T6="_hostMap_1syrx_1",A6="_hostMapFilterContainer_1syrx_13",k6="_opened_1syrx_30",C6="_hostMapFilter_1syrx_13",I6="_hostMapFilterPlaceSearch_1syrx_44",P6="_hostMapFilterClearSearchButton_1syrx_59",M6="_hostMapFilterButton_1syrx_72",z6="_hostMapFilterHeader_1syrx_86",D6="_hostMapFilterFooter_1syrx_101",L6="_visible_1syrx_109",R6="_hidden_1syrx_113",F6="_marker_1syrx_117",B6="_hostsMapDialog_1syrx_121",O6="_dialogCloseBtn_1syrx_133",U6="_dialogBody_1syrx_148";var hr={hostMapContainer:E6,hostMap:T6,hostMapFilterContainer:A6,opened:k6,hostMapFilter:C6,hostMapFilterPlaceSearch:I6,hostMapFilterClearSearchButton:P6,hostMapFilterButton:M6,hostMapFilterHeader:z6,hostMapFilterFooter:D6,visible:L6,hidden:R6,marker:F6,hostsMapDialog:B6,dialogCloseBtn:O6,dialogBody:U6},nf={exports:{}};(function(t,r){(function(l,p){t.exports=p()})(x_,function(){var l,p,_;function v(u,F){if(!l)l=F;else if(!p)p=F;else{var Z="var sharedChunk = {}; ("+l+")(sharedChunk); ("+p+")(sharedChunk);",yt={};l(yt),_=F(yt),typeof window!="undefined"&&(_.workerUrl=window.URL.createObjectURL(new Blob([Z],{type:"text/javascript"})))}}v(["exports"],function(u){var F=Z;function Z(i,e,a,s){this.cx=3*i,this.bx=3*(a-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(s-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=e,this.p2x=a,this.p2y=s}function yt(i,e,a,s){const d=new F(i,e,a,s);return function(f){return d.solve(f)}}Z.prototype={sampleCurveX:function(i){return((this.ax*i+this.bx)*i+this.cx)*i},sampleCurveY:function(i){return((this.ay*i+this.by)*i+this.cy)*i},sampleCurveDerivativeX:function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},solveCurveX:function(i,e){if(e===void 0&&(e=1e-6),i<0)return 0;if(i>1)return 1;for(var a=i,s=0;s<8;s++){var d=this.sampleCurveX(a)-i;if(Math.abs(d)<e)return a;var f=this.sampleCurveDerivativeX(a);if(Math.abs(f)<1e-6)break;a-=d/f}var m=0,x=1;for(a=i,s=0;s<20&&(d=this.sampleCurveX(a),!(Math.abs(d-i)<e));s++)i>d?m=a:x=a,a=.5*(x-m)+m;return a},solve:function(i,e){return this.sampleCurveY(this.solveCurveX(i,e))}};const gt=yt(.25,.1,.25,1);function V(i,e,a){return Math.min(a,Math.max(e,i))}function Pt(i,e,a){const s=a-e,d=((i-e)%s+s)%s+e;return d===e?a:d}function It(i,...e){for(const a of e)for(const s in a)i[s]=a[s];return i}let Lt=1;function J(i,e){i.forEach(a=>{e[a]&&(e[a]=e[a].bind(e))})}function H(i,e,a){const s={};for(const d in i)s[d]=e.call(a||this,i[d],d,i);return s}function nt(i,e,a){const s={};for(const d in i)e.call(a||this,i[d],d,i)&&(s[d]=i[d]);return s}function ut(i){return Array.isArray(i)?i.map(ut):typeof i=="object"&&i?H(i,ut):i}const at={};function bt(i){at[i]||(typeof console!="undefined"&&console.warn(i),at[i]=!0)}function kt(i,e,a){return(a.y-i.y)*(e.x-i.x)>(e.y-i.y)*(a.x-i.x)}function qt(i){let e=0;for(let a,s,d=0,f=i.length,m=f-1;d<f;m=d++)a=i[d],s=i[m],e+=(s.x-a.x)*(a.y+s.y);return e}function Vt(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function jt(i){const e={};if(i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,s,d,f)=>{const m=d||f;return e[s]=!m||m.toLowerCase(),""}),e["max-age"]){const a=parseInt(e["max-age"],10);isNaN(a)?delete e["max-age"]:e["max-age"]=a}return e}let $e,tn,qe=null;function Ye(i){if(qe==null){const e=i.navigator?i.navigator.userAgent:null;qe=!!i.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return qe}function wn(i){return typeof ImageBitmap!="undefined"&&i instanceof ImageBitmap}const Ne={now:typeof performance!="undefined"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(i){const e=requestAnimationFrame(i);return{cancel:()=>cancelAnimationFrame(e)}},getImageData(i,e=0){const a=window.document.createElement("canvas"),s=a.getContext("2d");if(!s)throw new Error("failed to create canvas 2d context");return a.width=i.width,a.height=i.height,s.drawImage(i,0,0,i.width,i.height),s.getImageData(-e,-e,i.width+2*e,i.height+2*e)},resolveURL:i=>($e||($e=document.createElement("a")),$e.href=i,$e.href),hardwareConcurrency:typeof navigator!="undefined"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(tn==null&&(tn=matchMedia("(prefers-reduced-motion: reduce)")),tn.matches)}};var ae=Rn;function Rn(i,e){this.x=i,this.y=e}Rn.prototype={clone:function(){return new Rn(this.x,this.y)},add:function(i){return this.clone()._add(i)},sub:function(i){return this.clone()._sub(i)},multByPoint:function(i){return this.clone()._multByPoint(i)},divByPoint:function(i){return this.clone()._divByPoint(i)},mult:function(i){return this.clone()._mult(i)},div:function(i){return this.clone()._div(i)},rotate:function(i){return this.clone()._rotate(i)},rotateAround:function(i,e){return this.clone()._rotateAround(i,e)},matMult:function(i){return this.clone()._matMult(i)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(i){return this.x===i.x&&this.y===i.y},dist:function(i){return Math.sqrt(this.distSqr(i))},distSqr:function(i){var e=i.x-this.x,a=i.y-this.y;return e*e+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(i){return Math.atan2(this.y-i.y,this.x-i.x)},angleWith:function(i){return this.angleWithSep(i.x,i.y)},angleWithSep:function(i,e){return Math.atan2(this.x*e-this.y*i,this.x*i+this.y*e)},_matMult:function(i){var e=i[2]*this.x+i[3]*this.y;return this.x=i[0]*this.x+i[1]*this.y,this.y=e,this},_add:function(i){return this.x+=i.x,this.y+=i.y,this},_sub:function(i){return this.x-=i.x,this.y-=i.y,this},_mult:function(i){return this.x*=i,this.y*=i,this},_div:function(i){return this.x/=i,this.y/=i,this},_multByPoint:function(i){return this.x*=i.x,this.y*=i.y,this},_divByPoint:function(i){return this.x/=i.x,this.y/=i.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var i=this.y;return this.y=this.x,this.x=-i,this},_rotate:function(i){var e=Math.cos(i),a=Math.sin(i),s=a*this.x+e*this.y;return this.x=e*this.x-a*this.y,this.y=s,this},_rotateAround:function(i,e){var a=Math.cos(i),s=Math.sin(i),d=e.y+s*(this.x-e.x)+a*(this.y-e.y);return this.x=e.x+a*(this.x-e.x)-s*(this.y-e.y),this.y=d,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Rn.convert=function(i){return i instanceof Rn?i:Array.isArray(i)?new Rn(i[0],i[1]):i};const bn={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Sn="mapbox-tiles";let ln,Ft,re=500,ce=50;function Ce(){typeof caches=="undefined"||ln||(ln=caches.open(Sn))}let Be=1/0;const en={supported:!1,testSupport:function(i){!Tn&&En&&(rr?hi(i):un=i)}};let un,En,Tn=!1,rr=!1;function hi(i){const e=i.createTexture();i.bindTexture(i.TEXTURE_2D,e);try{if(i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,En),i.isContextLost())return;en.supported=!0}catch{}i.deleteTexture(e),Tn=!0}typeof document!="undefined"&&(En=document.createElement("img"),En.onload=function(){un&&hi(un),un=null,rr=!0},En.onerror=function(){Tn=!0,un=null},En.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Ei={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ei);class me extends Error{constructor(e,a,s,d){super(`AJAXError: ${a} (${e}): ${s}`),this.status=e,this.statusText=a,this.url=s,this.body=d}}const Wi=Vt()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function Lr(i,e){const a=new AbortController,s=new Request(i.url,{method:i.method||"GET",body:i.body,credentials:i.credentials,headers:i.headers,referrer:Wi(),signal:a.signal});let d=!1,f=!1;return i.type==="json"&&s.headers.set("Accept","application/json"),((m,x,b)=>{if(f)return;const A=Date.now();fetch(s).then(I=>I.ok?((M,D,R)=>{(i.type==="arrayBuffer"?M.arrayBuffer():i.type==="json"?M.json():M.text()).then(B=>{f||(D&&R&&function(X,K,lt){if(Ce(),!ln)return;const ht={status:K.status,statusText:K.statusText,headers:new Headers};K.headers.forEach((wt,Ct)=>ht.headers.set(Ct,wt));const ct=jt(K.headers.get("Cache-Control")||"");ct["no-store"]||(ct["max-age"]&&ht.headers.set("Expires",new Date(lt+1e3*ct["max-age"]).toUTCString()),new Date(ht.headers.get("Expires")).getTime()-lt<42e4||function(wt,Ct){if(Ft===void 0)try{new Response(new ReadableStream),Ft=!0}catch{Ft=!1}Ft?Ct(wt.body):wt.blob().then(Ct)}(K,wt=>{const Ct=new Response(wt,ht);Ce(),ln&&ln.then(Tt=>Tt.put(function(Qt){const le=Qt.indexOf("?");return le<0?Qt:Qt.slice(0,le)}(X.url),Ct)).catch(Tt=>bt(Tt.message))}))}(s,D,R),d=!0,e(null,B,M.headers.get("Cache-Control"),M.headers.get("Expires")))}).catch(B=>{f||e(new Error(B.message))})})(I,null,A):I.blob().then(M=>e(new me(I.status,I.statusText,i.url,M)))).catch(I=>{I.code!==20&&e(new Error(I.message))})})(),{cancel:()=>{f=!0,d||a.abort()}}}const Hi=function(i,e){if(/:\/\//.test(i.url)&&!/^https?:|^file:/.test(i.url)){if(Vt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",i,e);if(!Vt()){const s=i.url.substring(0,i.url.indexOf("://"));return(bn.REGISTERED_PROTOCOLS[s]||Lr)(i,e)}}if(!(/^file:/.test(a=i.url)||/^file:/.test(Wi())&&!/^\w+:/.test(a))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Lr(i,e);if(Vt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",i,e,void 0,!0)}var a;return function(s,d){const f=new XMLHttpRequest;f.open(s.method||"GET",s.url,!0),s.type==="arrayBuffer"&&(f.responseType="arraybuffer");for(const m in s.headers)f.setRequestHeader(m,s.headers[m]);return s.type==="json"&&(f.responseType="text",f.setRequestHeader("Accept","application/json")),f.withCredentials=s.credentials==="include",f.onerror=()=>{d(new Error(f.statusText))},f.onload=()=>{if((f.status>=200&&f.status<300||f.status===0)&&f.response!==null){let m=f.response;if(s.type==="json")try{m=JSON.parse(f.response)}catch(x){return d(x)}d(null,m,f.getResponseHeader("Cache-Control"),f.getResponseHeader("Expires"))}else{const m=new Blob([f.response],{type:f.getResponseHeader("Content-Type")});d(new me(f.status,f.statusText,s.url,m))}},f.send(s.body),{cancel:()=>f.abort()}}(i,e)},ri=function(i,e){return Hi(It(i,{type:"arrayBuffer"}),e)};function Zr(i){const e=window.document.createElement("a");return e.href=i,e.protocol===window.document.location.protocol&&e.host===window.document.location.host}const Ri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let dt,Kt;dt=[],Kt=0;const oe=function(i,e){if(en.supported&&(i.headers||(i.headers={}),i.headers.accept="image/webp,*/*"),Kt>=bn.MAX_PARALLEL_IMAGE_REQUESTS){const f={requestParameters:i,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return dt.push(f),f}Kt++;let a=!1;const s=()=>{if(!a)for(a=!0,Kt--;dt.length&&Kt<bn.MAX_PARALLEL_IMAGE_REQUESTS;){const f=dt.shift(),{requestParameters:m,callback:x,cancelled:b}=f;b||(f.cancel=oe(m,x).cancel)}},d=ri(i,(f,m,x,b)=>{s(),f?e(f):m&&function(A,I){typeof createImageBitmap=="function"?function(M,D){const R=new Blob([new Uint8Array(M)],{type:"image/png"});createImageBitmap(R).then(B=>{D(null,B)}).catch(B=>{D(new Error(`Could not load image because of ${B.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(A,I):function(M,D){const R=new Image;R.onload=()=>{D(null,R),URL.revokeObjectURL(R.src),R.onload=null,window.requestAnimationFrame(()=>{R.src=Ri})},R.onerror=()=>D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const B=new Blob([new Uint8Array(M)],{type:"image/png"});R.src=M.byteLength?URL.createObjectURL(B):Ri}(A,I)}(m,(A,I)=>{A!=null?e(A):I!=null&&e(null,I,{cacheControl:x,expires:b})})});return{cancel:()=>{d.cancel(),s()}}};function Dt(i,e,a){a[i]&&a[i].indexOf(e)!==-1||(a[i]=a[i]||[],a[i].push(e))}function ye(i,e,a){if(a&&a[i]){const s=a[i].indexOf(e);s!==-1&&a[i].splice(s,1)}}class Ie{constructor(e,a={}){It(this,a),this.type=e}}class nn extends Ie{constructor(e,a={}){super("error",It({error:e},a))}}class xe{on(e,a){return this._listeners=this._listeners||{},Dt(e,a,this._listeners),this}off(e,a){return ye(e,a,this._listeners),ye(e,a,this._oneTimeListeners),this}once(e,a){return this._oneTimeListeners=this._oneTimeListeners||{},Dt(e,a,this._oneTimeListeners),this}fire(e,a){typeof e=="string"&&(e=new Ie(e,a||{}));const s=e.type;if(this.listens(s)){e.target=this;const d=this._listeners&&this._listeners[s]?this._listeners[s].slice():[];for(const x of d)x.call(this,e);const f=this._oneTimeListeners&&this._oneTimeListeners[s]?this._oneTimeListeners[s].slice():[];for(const x of f)ye(s,x,this._oneTimeListeners),x.call(this,e);const m=this._eventedParent;m&&(It(e,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),m.fire(e))}else e instanceof nn&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,a){return this._eventedParent=e,this._eventedParentData=a,this}}var pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Ot{constructor(e,a,s,d){this.message=(e?`${e}: `:"")+s,d&&(this.identifier=d),a!=null&&a.__line__&&(this.line=a.__line__)}}function Rr(i){const e=i.value;return e?[new Ot(i.key,e,"constants have been deprecated as of v8")]:[]}function _r(i,...e){for(const a of e)for(const s in a)i[s]=a[s];return i}function He(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function Ti(i){if(Array.isArray(i))return i.map(Ti);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const e={};for(const a in i)e[a]=Ti(i[a]);return e}return He(i)}class pi extends Error{constructor(e,a){super(a),this.message=a,this.key=e}}class ia{constructor(e,a=[]){this.parent=e,this.bindings={};for(const[s,d]of a)this.bindings[s]=d}concat(e){return new ia(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const cn={kind:"null"},Ut={kind:"number"},ke={kind:"string"},be={kind:"boolean"},gi={kind:"color"},ar={kind:"object"},Se={kind:"value"},ra={kind:"collator"},or={kind:"formatted"},Fr={kind:"resolvedImage"};function On(i,e){return{kind:"array",itemType:i,N:e}}function rn(i){if(i.kind==="array"){const e=rn(i.itemType);return typeof i.N=="number"?`array<${e}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${e}>`}return i.kind}const Xi=[cn,Ut,ke,be,gi,or,ar,On(Se),Fr];function aa(i,e){if(e.kind==="error")return null;if(i.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!aa(i.itemType,e.itemType))&&(typeof i.N!="number"||i.N===e.N))return null}else{if(i.kind===e.kind)return null;if(i.kind==="value"){for(const a of Xi)if(!aa(a,e))return null}}return`Expected ${rn(i)} but found ${rn(e)} instead.`}function Zn(i,e){return e.some(a=>a.kind===i.kind)}function lr(i,e){return e.some(a=>a==="null"?i===null:a==="array"?Array.isArray(i):a==="object"?i&&!Array.isArray(i)&&typeof i=="object":a===typeof i)}var sr,ko={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function La(i){return(i=Math.round(i))<0?0:i>255?255:i}function Ra(i){return La(i[i.length-1]==="%"?parseFloat(i)/100*255:parseInt(i))}function j(i){return(e=i[i.length-1]==="%"?parseFloat(i)/100:parseFloat(i))<0?0:e>1?1:e;var e}function k(i,e,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?i+(e-i)*a*6:2*a<1?e:3*a<2?i+(e-i)*(2/3-a)*6:i}try{sr={}.parseCSSColor=function(i){var e,a=i.replace(/ /g,"").toLowerCase();if(a in ko)return ko[a].slice();if(a[0]==="#")return a.length===4?(e=parseInt(a.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:a.length===7&&(e=parseInt(a.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var s=a.indexOf("("),d=a.indexOf(")");if(s!==-1&&d+1===a.length){var f=a.substr(0,s),m=a.substr(s+1,d-(s+1)).split(","),x=1;switch(f){case"rgba":if(m.length!==4)return null;x=j(m.pop());case"rgb":return m.length!==3?null:[Ra(m[0]),Ra(m[1]),Ra(m[2]),x];case"hsla":if(m.length!==4)return null;x=j(m.pop());case"hsl":if(m.length!==3)return null;var b=(parseFloat(m[0])%360+360)%360/360,A=j(m[1]),I=j(m[2]),M=I<=.5?I*(A+1):I+A-I*A,D=2*I-M;return[La(255*k(D,M,b+1/3)),La(255*k(D,M,b)),La(255*k(D,M,b-1/3)),x];default:return null}}return null}}catch{}class P{constructor(e,a,s,d=1){this.r=e,this.g=a,this.b=s,this.a=d}static parse(e){if(!e)return;if(e instanceof P)return e;if(typeof e!="string")return;const a=sr(e);return a?new P(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3]):void 0}toString(){const[e,a,s,d]=this.toArray();return`rgba(${Math.round(e)},${Math.round(a)},${Math.round(s)},${d})`}toArray(){const{r:e,g:a,b:s,a:d}=this;return d===0?[0,0,0,0]:[255*e/d,255*a/d,255*s/d,d]}}P.black=new P(0,0,0,1),P.white=new P(1,1,1,1),P.transparent=new P(0,0,0,0),P.red=new P(1,0,0,1);class O{constructor(e,a,s){this.sensitivity=e?a?"variant":"case":a?"accent":"base",this.locale=s,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,a){return this.collator.compare(e,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ${constructor(e,a,s,d,f){this.text=e,this.image=a,this.scale=s,this.fontStack=d,this.textColor=f}}class G{constructor(e){this.sections=e}static fromString(e){return new G([new $(e,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof G?e:G.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const a of this.sections){if(a.image){e.push(["image",a.image.name]);continue}e.push(a.text);const s={};a.fontStack&&(s["text-font"]=["literal",a.fontStack.split(",")]),a.scale&&(s["font-scale"]=a.scale),a.textColor&&(s["text-color"]=["rgba"].concat(a.textColor.toArray())),e.push(s)}return e}}class tt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new tt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Y(i,e,a,s){return typeof i=="number"&&i>=0&&i<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof a=="number"&&a>=0&&a<=255?s===void 0||typeof s=="number"&&s>=0&&s<=1?null:`Invalid rgba value [${[i,e,a,s].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof s=="number"?[i,e,a,s]:[i,e,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Q(i){if(i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||i instanceof P||i instanceof O||i instanceof G||i instanceof tt)return!0;if(Array.isArray(i)){for(const e of i)if(!Q(e))return!1;return!0}if(typeof i=="object"){for(const e in i)if(!Q(i[e]))return!1;return!0}return!1}function et(i){if(i===null)return cn;if(typeof i=="string")return ke;if(typeof i=="boolean")return be;if(typeof i=="number")return Ut;if(i instanceof P)return gi;if(i instanceof O)return ra;if(i instanceof G)return or;if(i instanceof tt)return Fr;if(Array.isArray(i)){const e=i.length;let a;for(const s of i){const d=et(s);if(a){if(a===d)continue;a=Se;break}a=d}return On(a||Se,e)}return ar}function _t(i){const e=typeof i;return i===null?"":e==="string"||e==="number"||e==="boolean"?String(i):i instanceof P||i instanceof G||i instanceof tt?i.toString():JSON.stringify(i)}class At{constructor(e,a){this.type=e,this.value=a}static parse(e,a){if(e.length!==2)return a.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Q(e[1]))return a.error("invalid value");const s=e[1];let d=et(s);const f=a.expectedType;return d.kind!=="array"||d.N!==0||!f||f.kind!=="array"||typeof f.N=="number"&&f.N!==0||(d=f),new At(d,s)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof P?["rgba"].concat(this.value.toArray()):this.value instanceof G?this.value.serialize():this.value}}class ft{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const ee={string:ke,number:Ut,boolean:be,object:ar};class Xt{constructor(e,a){this.type=e,this.args=a}static parse(e,a){if(e.length<2)return a.error("Expected at least one argument.");let s,d=1;const f=e[0];if(f==="array"){let x,b;if(e.length>2){const A=e[1];if(typeof A!="string"||!(A in ee)||A==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);x=ee[A],d++}else x=Se;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return a.error('The length argument to "array" must be a positive integer literal',2);b=e[2],d++}s=On(x,b)}else s=ee[f];const m=[];for(;d<e.length;d++){const x=a.parse(e[d],d,Se);if(!x)return null;m.push(x)}return new Xt(s,m)}evaluate(e){for(let a=0;a<this.args.length;a++){const s=this.args[a].evaluate(e);if(!aa(this.type,et(s)))return s;if(a===this.args.length-1)throw new ft(`Expected value to be of type ${rn(this.type)}, but found ${rn(et(s))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,a=[e.kind];if(e.kind==="array"){const s=e.itemType;if(s.kind==="string"||s.kind==="number"||s.kind==="boolean"){a.push(s.kind);const d=e.N;(typeof d=="number"||this.args.length>1)&&a.push(d)}}return a.concat(this.args.map(s=>s.serialize()))}}class ie{constructor(e){this.type=or,this.sections=e}static parse(e,a){if(e.length<2)return a.error("Expected at least one argument.");const s=e[1];if(!Array.isArray(s)&&typeof s=="object")return a.error("First argument must be an image or text section.");const d=[];let f=!1;for(let m=1;m<=e.length-1;++m){const x=e[m];if(f&&typeof x=="object"&&!Array.isArray(x)){f=!1;let b=null;if(x["font-scale"]&&(b=a.parse(x["font-scale"],1,Ut),!b))return null;let A=null;if(x["text-font"]&&(A=a.parse(x["text-font"],1,On(ke)),!A))return null;let I=null;if(x["text-color"]&&(I=a.parse(x["text-color"],1,gi),!I))return null;const M=d[d.length-1];M.scale=b,M.font=A,M.textColor=I}else{const b=a.parse(e[m],1,Se);if(!b)return null;const A=b.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");f=!0,d.push({content:b,scale:null,font:null,textColor:null})}}return new ie(d)}evaluate(e){return new G(this.sections.map(a=>{const s=a.content.evaluate(e);return et(s)===Fr?new $("",s,null,null,null):new $(_t(s),null,a.scale?a.scale.evaluate(e):null,a.font?a.font.evaluate(e).join(","):null,a.textColor?a.textColor.evaluate(e):null)}))}eachChild(e){for(const a of this.sections)e(a.content),a.scale&&e(a.scale),a.font&&e(a.font),a.textColor&&e(a.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const a of this.sections){e.push(a.content.serialize());const s={};a.scale&&(s["font-scale"]=a.scale.serialize()),a.font&&(s["text-font"]=a.font.serialize()),a.textColor&&(s["text-color"]=a.textColor.serialize()),e.push(s)}return e}}class de{constructor(e){this.type=Fr,this.input=e}static parse(e,a){if(e.length!==2)return a.error("Expected two arguments.");const s=a.parse(e[1],1,ke);return s?new de(s):a.error("No image name provided.")}evaluate(e){const a=this.input.evaluate(e),s=tt.fromString(a);return s&&e.availableImages&&(s.available=e.availableImages.indexOf(a)>-1),s}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ue={"to-boolean":be,"to-color":gi,"to-number":Ut,"to-string":ke};class Le{constructor(e,a){this.type=e,this.args=a}static parse(e,a){if(e.length<2)return a.error("Expected at least one argument.");const s=e[0];if((s==="to-boolean"||s==="to-string")&&e.length!==2)return a.error("Expected one argument.");const d=Ue[s],f=[];for(let m=1;m<e.length;m++){const x=a.parse(e[m],m,Se);if(!x)return null;f.push(x)}return new Le(d,f)}evaluate(e){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(e));if(this.type.kind==="color"){let a,s;for(const d of this.args){if(a=d.evaluate(e),s=null,a instanceof P)return a;if(typeof a=="string"){const f=e.parseColor(a);if(f)return f}else if(Array.isArray(a)&&(s=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:Y(a[0],a[1],a[2],a[3]),!s))return new P(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new ft(s||`Could not parse color from value '${typeof a=="string"?a:String(JSON.stringify(a))}'`)}if(this.type.kind==="number"){let a=null;for(const s of this.args){if(a=s.evaluate(e),a===null)return 0;const d=Number(a);if(!isNaN(d))return d}throw new ft(`Could not convert ${JSON.stringify(a)} to number.`)}return this.type.kind==="formatted"?G.fromString(_t(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?tt.fromString(_t(this.args[0].evaluate(e))):_t(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new ie([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new de(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(a=>{e.push(a.serialize())}),e}}const Pe=["Unknown","Point","LineString","Polygon"];class Ee{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Pe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let a=this._parseColorCache[e];return a||(a=this._parseColorCache[e]=P.parse(e)),a}}class we{constructor(e,a,s,d){this.name=e,this.type=a,this._evaluate=s,this.args=d}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,a){const s=e[0],d=we.definitions[s];if(!d)return a.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`,0);const f=Array.isArray(d)?d[0]:d.type,m=Array.isArray(d)?[[d[1],d[2]]]:d.overloads,x=m.filter(([A])=>!Array.isArray(A)||A.length===e.length-1);let b=null;for(const[A,I]of x){b=new Tl(a.registry,a.path,null,a.scope);const M=[];let D=!1;for(let R=1;R<e.length;R++){const B=e[R],X=Array.isArray(A)?A[R-1]:A.type,K=b.parse(B,1+M.length,X);if(!K){D=!0;break}M.push(K)}if(!D)if(Array.isArray(A)&&A.length!==M.length)b.error(`Expected ${A.length} arguments, but found ${M.length} instead.`);else{for(let R=0;R<M.length;R++){const B=Array.isArray(A)?A[R]:A.type,X=M[R];b.concat(R+1).checkSubtype(B,X.type)}if(b.errors.length===0)return new we(s,f,I,M)}}if(x.length===1)a.errors.push(...b.errors);else{const A=(x.length?x:m).map(([M])=>{return D=M,Array.isArray(D)?`(${D.map(rn).join(", ")})`:`(${rn(D.type)}...)`;var D}).join(" | "),I=[];for(let M=1;M<e.length;M++){const D=a.parse(e[M],1+I.length);if(!D)return null;I.push(rn(D.type))}a.error(`Expected arguments of type ${A}, but found (${I.join(", ")}) instead.`)}return null}static register(e,a){we.definitions=a;for(const s in a)e[s]=we}}class Fn{constructor(e,a,s){this.type=ra,this.locale=s,this.caseSensitive=e,this.diacriticSensitive=a}static parse(e,a){if(e.length!==2)return a.error("Expected one argument.");const s=e[1];if(typeof s!="object"||Array.isArray(s))return a.error("Collator options argument must be an object.");const d=a.parse(s["case-sensitive"]!==void 0&&s["case-sensitive"],1,be);if(!d)return null;const f=a.parse(s["diacritic-sensitive"]!==void 0&&s["diacritic-sensitive"],1,be);if(!f)return null;let m=null;return s.locale&&(m=a.parse(s.locale,1,ke),!m)?null:new Fn(d,f,m)}evaluate(e){return new O(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Mn=8192;function Yn(i,e){i[0]=Math.min(i[0],e[0]),i[1]=Math.min(i[1],e[1]),i[2]=Math.max(i[2],e[0]),i[3]=Math.max(i[3],e[1])}function ti(i,e){return!(i[0]<=e[0]||i[2]>=e[2]||i[1]<=e[1]||i[3]>=e[3])}function Zs(i,e){const a=(180+i[0])/360,s=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i[1]*Math.PI/360)))/360,d=Math.pow(2,e.z);return[Math.round(a*d*Mn),Math.round(s*d*Mn)]}function Ws(i,e,a){const s=i[0]-e[0],d=i[1]-e[1],f=i[0]-a[0],m=i[1]-a[1];return s*m-f*d==0&&s*f<=0&&d*m<=0}function an(i,e){let a=!1;for(let m=0,x=e.length;m<x;m++){const b=e[m];for(let A=0,I=b.length;A<I-1;A++){if(Ws(i,b[A],b[A+1]))return!1;(d=b[A])[1]>(s=i)[1]!=(f=b[A+1])[1]>s[1]&&s[0]<(f[0]-d[0])*(s[1]-d[1])/(f[1]-d[1])+d[0]&&(a=!a)}}var s,d,f;return a}function Pp(i,e){for(let a=0;a<e.length;a++)if(an(i,e[a]))return!0;return!1}function Hs(i,e,a,s){const d=s[0]-a[0],f=s[1]-a[1],m=(i[0]-a[0])*f-d*(i[1]-a[1]),x=(e[0]-a[0])*f-d*(e[1]-a[1]);return m>0&&x<0||m<0&&x>0}function Mp(i,e,a){for(const A of a)for(let I=0;I<A.length-1;++I)if((x=[(m=A[I+1])[0]-(f=A[I])[0],m[1]-f[1]])[0]*(b=[(d=e)[0]-(s=i)[0],d[1]-s[1]])[1]-x[1]*b[0]!=0&&Hs(s,d,f,m)&&Hs(f,m,s,d))return!0;var s,d,f,m,x,b;return!1}function Xs(i,e){for(let a=0;a<i.length;++a)if(!an(i[a],e))return!1;for(let a=0;a<i.length-1;++a)if(Mp(i[a],i[a+1],e))return!1;return!0}function Jc(i,e){for(let a=0;a<e.length;a++)if(Xs(i,e[a]))return!0;return!1}function Ks(i,e,a){const s=[];for(let d=0;d<i.length;d++){const f=[];for(let m=0;m<i[d].length;m++){const x=Zs(i[d][m],a);Yn(e,x),f.push(x)}s.push(f)}return s}function Ys(i,e,a){const s=[];for(let d=0;d<i.length;d++){const f=Ks(i[d],e,a);s.push(f)}return s}function Js(i,e,a,s){if(i[0]<a[0]||i[0]>a[2]){const d=.5*s;let f=i[0]-a[0]>d?-s:a[0]-i[0]>d?s:0;f===0&&(f=i[0]-a[2]>d?-s:a[2]-i[0]>d?s:0),i[0]+=f}Yn(e,i)}function Qc(i,e,a,s){const d=Math.pow(2,s.z)*Mn,f=[s.x*Mn,s.y*Mn],m=[];for(const x of i)for(const b of x){const A=[b.x+f[0],b.y+f[1]];Js(A,e,a,d),m.push(A)}return m}function td(i,e,a,s){const d=Math.pow(2,s.z)*Mn,f=[s.x*Mn,s.y*Mn],m=[];for(const b of i){const A=[];for(const I of b){const M=[I.x+f[0],I.y+f[1]];Yn(e,M),A.push(M)}m.push(A)}if(e[2]-e[0]<=d/2){(x=e)[0]=x[1]=1/0,x[2]=x[3]=-1/0;for(const b of m)for(const A of b)Js(A,e,a,d)}var x;return m}class oa{constructor(e,a){this.type=be,this.geojson=e,this.geometries=a}static parse(e,a){if(e.length!==2)return a.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Q(e[1])){const s=e[1];if(s.type==="FeatureCollection")for(let d=0;d<s.features.length;++d){const f=s.features[d].geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new oa(s,s.features[d].geometry)}else if(s.type==="Feature"){const d=s.geometry.type;if(d==="Polygon"||d==="MultiPolygon")return new oa(s,s.geometry)}else if(s.type==="Polygon"||s.type==="MultiPolygon")return new oa(s,s)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return function(a,s){const d=[1/0,1/0,-1/0,-1/0],f=[1/0,1/0,-1/0,-1/0],m=a.canonicalID();if(s.type==="Polygon"){const x=Ks(s.coordinates,f,m),b=Qc(a.geometry(),d,f,m);if(!ti(d,f))return!1;for(const A of b)if(!an(A,x))return!1}if(s.type==="MultiPolygon"){const x=Ys(s.coordinates,f,m),b=Qc(a.geometry(),d,f,m);if(!ti(d,f))return!1;for(const A of b)if(!Pp(A,x))return!1}return!0}(e,this.geometries);if(e.geometryType()==="LineString")return function(a,s){const d=[1/0,1/0,-1/0,-1/0],f=[1/0,1/0,-1/0,-1/0],m=a.canonicalID();if(s.type==="Polygon"){const x=Ks(s.coordinates,f,m),b=td(a.geometry(),d,f,m);if(!ti(d,f))return!1;for(const A of b)if(!Xs(A,x))return!1}if(s.type==="MultiPolygon"){const x=Ys(s.coordinates,f,m),b=td(a.geometry(),d,f,m);if(!ti(d,f))return!1;for(const A of b)if(!Jc(A,x))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Sl(i){if(i instanceof we&&(i.name==="get"&&i.args.length===1||i.name==="feature-state"||i.name==="has"&&i.args.length===1||i.name==="properties"||i.name==="geometry-type"||i.name==="id"||/^filter-/.test(i.name))||i instanceof oa)return!1;let e=!0;return i.eachChild(a=>{e&&!Sl(a)&&(e=!1)}),e}function Fa(i){if(i instanceof we&&i.name==="feature-state")return!1;let e=!0;return i.eachChild(a=>{e&&!Fa(a)&&(e=!1)}),e}function Co(i,e){if(i instanceof we&&e.indexOf(i.name)>=0)return!1;let a=!0;return i.eachChild(s=>{a&&!Co(s,e)&&(a=!1)}),a}class El{constructor(e,a){this.type=a.type,this.name=e,this.boundExpression=a}static parse(e,a){if(e.length!==2||typeof e[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");const s=e[1];return a.scope.has(s)?new El(s,a.scope.get(s)):a.error(`Unknown variable "${s}". Make sure "${s}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Tl{constructor(e,a=[],s,d=new ia,f=[]){this.registry=e,this.path=a,this.key=a.map(m=>`[${m}]`).join(""),this.scope=d,this.errors=f,this.expectedType=s}parse(e,a,s,d,f={}){return a?this.concat(a,s,d)._parse(e,f):this._parse(e,f)}_parse(e,a){function s(d,f,m){return m==="assert"?new Xt(f,[d]):m==="coerce"?new Le(f,[d]):d}if(e!==null&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"||(e=["literal",e]),Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const d=e[0];if(typeof d!="string")return this.error(`Expression name must be a string, but found ${typeof d} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const f=this.registry[d];if(f){let m=f.parse(e,this);if(!m)return null;if(this.expectedType){const x=this.expectedType,b=m.type;if(x.kind!=="string"&&x.kind!=="number"&&x.kind!=="boolean"&&x.kind!=="object"&&x.kind!=="array"||b.kind!=="value")if(x.kind!=="color"&&x.kind!=="formatted"&&x.kind!=="resolvedImage"||b.kind!=="value"&&b.kind!=="string"){if(this.checkSubtype(x,b))return null}else m=s(m,x,a.typeAnnotation||"coerce");else m=s(m,x,a.typeAnnotation||"assert")}if(!(m instanceof At)&&m.type.kind!=="resolvedImage"&&Io(m)){const x=new Ee;try{m=new At(m.type,m.evaluate(x))}catch(b){return this.error(b.message),null}}return m}return this.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(e===void 0?"'undefined' value invalid. Use null instead.":typeof e=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,a,s){const d=typeof e=="number"?this.path.concat(e):this.path,f=s?this.scope.concat(s):this.scope;return new Tl(this.registry,d,a||null,f,this.errors)}error(e,...a){const s=`${this.key}${a.map(d=>`[${d}]`).join("")}`;this.errors.push(new pi(s,e))}checkSubtype(e,a){const s=aa(e,a);return s&&this.error(s),s}}function Io(i){if(i instanceof El)return Io(i.boundExpression);if(i instanceof we&&i.name==="error"||i instanceof Fn||i instanceof oa)return!1;const e=i instanceof Le||i instanceof Xt;let a=!0;return i.eachChild(s=>{a=e?a&&Io(s):a&&s instanceof At}),!!a&&Sl(i)&&Co(i,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Al(i,e){const a=i.length-1;let s,d,f=0,m=a,x=0;for(;f<=m;)if(x=Math.floor((f+m)/2),s=i[x],d=i[x+1],s<=e){if(x===a||e<d)return x;f=x+1}else{if(!(s>e))throw new ft("Input is not a number.");m=x-1}return 0}class Po{constructor(e,a,s){this.type=e,this.input=a,this.labels=[],this.outputs=[];for(const[d,f]of s)this.labels.push(d),this.outputs.push(f)}static parse(e,a){if(e.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return a.error("Expected an even number of arguments.");const s=a.parse(e[1],1,Ut);if(!s)return null;const d=[];let f=null;a.expectedType&&a.expectedType.kind!=="value"&&(f=a.expectedType);for(let m=1;m<e.length;m+=2){const x=m===1?-1/0:e[m],b=e[m+1],A=m,I=m+1;if(typeof x!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(d.length&&d[d.length-1][0]>=x)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const M=a.parse(b,I,f);if(!M)return null;f=f||M.type,d.push([x,M])}return new Po(f,s,d)}evaluate(e){const a=this.labels,s=this.outputs;if(a.length===1)return s[0].evaluate(e);const d=this.input.evaluate(e);if(d<=a[0])return s[0].evaluate(e);const f=a.length;return d>=a[f-1]?s[f-1].evaluate(e):s[Al(a,d)].evaluate(e)}eachChild(e){e(this.input);for(const a of this.outputs)e(a)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let a=0;a<this.labels.length;a++)a>0&&e.push(this.labels[a]),e.push(this.outputs[a].serialize());return e}}function Un(i,e,a){return i*(1-a)+e*a}var Mo=Object.freeze({__proto__:null,number:Un,color:function(i,e,a){return new P(Un(i.r,e.r,a),Un(i.g,e.g,a),Un(i.b,e.b,a),Un(i.a,e.a,a))},array:function(i,e,a){return i.map((s,d)=>Un(s,e[d],a))}});const Qs=.95047,ed=1.08883,nd=4/29,kl=6/29,tu=3*kl*kl,zp=Math.PI/180,Dp=180/Math.PI;function eu(i){return i>.008856451679035631?Math.pow(i,1/3):i/tu+nd}function nu(i){return i>kl?i*i*i:tu*(i-nd)}function iu(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function ru(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function id(i){const e=ru(i.r),a=ru(i.g),s=ru(i.b),d=eu((.4124564*e+.3575761*a+.1804375*s)/Qs),f=eu((.2126729*e+.7151522*a+.072175*s)/1);return{l:116*f-16,a:500*(d-f),b:200*(f-eu((.0193339*e+.119192*a+.9503041*s)/ed)),alpha:i.a}}function Ge(i){let e=(i.l+16)/116,a=isNaN(i.a)?e:e+i.a/500,s=isNaN(i.b)?e:e-i.b/200;return e=1*nu(e),a=Qs*nu(a),s=ed*nu(s),new P(iu(3.2404542*a-1.5371385*e-.4985314*s),iu(-.969266*a+1.8760108*e+.041556*s),iu(.0556434*a-.2040259*e+1.0572252*s),i.alpha)}function Lp(i,e,a){const s=e-i;return i+a*(s>180||s<-180?s-360*Math.round(s/360):s)}const zo={forward:id,reverse:Ge,interpolate:function(i,e,a){return{l:Un(i.l,e.l,a),a:Un(i.a,e.a,a),b:Un(i.b,e.b,a),alpha:Un(i.alpha,e.alpha,a)}}},Do={forward:function(i){const{l:e,a,b:s}=id(i),d=Math.atan2(s,a)*Dp;return{h:d<0?d+360:d,c:Math.sqrt(a*a+s*s),l:e,alpha:i.a}},reverse:function(i){const e=i.h*zp,a=i.c;return Ge({l:i.l,a:Math.cos(e)*a,b:Math.sin(e)*a,alpha:i.alpha})},interpolate:function(i,e,a){return{h:Lp(i.h,e.h,a),c:Un(i.c,e.c,a),l:Un(i.l,e.l,a),alpha:Un(i.alpha,e.alpha,a)}}};var rd=Object.freeze({__proto__:null,lab:zo,hcl:Do});class Fi{constructor(e,a,s,d,f){this.type=e,this.operator=a,this.interpolation=s,this.input=d,this.labels=[],this.outputs=[];for(const[m,x]of f)this.labels.push(m),this.outputs.push(x)}static interpolationFactor(e,a,s,d){let f=0;if(e.name==="exponential")f=au(a,e.base,s,d);else if(e.name==="linear")f=au(a,1,s,d);else if(e.name==="cubic-bezier"){const m=e.controlPoints;f=new F(m[0],m[1],m[2],m[3]).solve(au(a,1,s,d))}return f}static parse(e,a){let[s,d,f,...m]=e;if(!Array.isArray(d)||d.length===0)return a.error("Expected an interpolation type expression.",1);if(d[0]==="linear")d={name:"linear"};else if(d[0]==="exponential"){const A=d[1];if(typeof A!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);d={name:"exponential",base:A}}else{if(d[0]!=="cubic-bezier")return a.error(`Unknown interpolation type ${String(d[0])}`,1,0);{const A=d.slice(1);if(A.length!==4||A.some(I=>typeof I!="number"||I<0||I>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);d={name:"cubic-bezier",controlPoints:A}}}if(e.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(f=a.parse(f,2,Ut),!f)return null;const x=[];let b=null;s==="interpolate-hcl"||s==="interpolate-lab"?b=gi:a.expectedType&&a.expectedType.kind!=="value"&&(b=a.expectedType);for(let A=0;A<m.length;A+=2){const I=m[A],M=m[A+1],D=A+3,R=A+4;if(typeof I!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(x.length&&x[x.length-1][0]>=I)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',D);const B=a.parse(M,R,b);if(!B)return null;b=b||B.type,x.push([I,B])}return b.kind==="number"||b.kind==="color"||b.kind==="array"&&b.itemType.kind==="number"&&typeof b.N=="number"?new Fi(b,s,d,f,x):a.error(`Type ${rn(b)} is not interpolatable.`)}evaluate(e){const a=this.labels,s=this.outputs;if(a.length===1)return s[0].evaluate(e);const d=this.input.evaluate(e);if(d<=a[0])return s[0].evaluate(e);const f=a.length;if(d>=a[f-1])return s[f-1].evaluate(e);const m=Al(a,d),x=Fi.interpolationFactor(this.interpolation,d,a[m],a[m+1]),b=s[m].evaluate(e),A=s[m+1].evaluate(e);return this.operator==="interpolate"?Mo[this.type.kind.toLowerCase()](b,A,x):this.operator==="interpolate-hcl"?Do.reverse(Do.interpolate(Do.forward(b),Do.forward(A),x)):zo.reverse(zo.interpolate(zo.forward(b),zo.forward(A),x))}eachChild(e){e(this.input);for(const a of this.outputs)e(a)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const a=[this.operator,e,this.input.serialize()];for(let s=0;s<this.labels.length;s++)a.push(this.labels[s],this.outputs[s].serialize());return a}}function au(i,e,a,s){const d=s-a,f=i-a;return d===0?0:e===1?f/d:(Math.pow(e,f)-1)/(Math.pow(e,d)-1)}class Cl{constructor(e,a){this.type=e,this.args=a}static parse(e,a){if(e.length<2)return a.error("Expectected at least one argument.");let s=null;const d=a.expectedType;d&&d.kind!=="value"&&(s=d);const f=[];for(const x of e.slice(1)){const b=a.parse(x,1+f.length,s,void 0,{typeAnnotation:"omit"});if(!b)return null;s=s||b.type,f.push(b)}const m=d&&f.some(x=>aa(d,x.type));return new Cl(m?Se:s,f)}evaluate(e){let a,s=null,d=0;for(const f of this.args)if(d++,s=f.evaluate(e),s&&s instanceof tt&&!s.available&&(a||(a=s.name),s=null,d===this.args.length&&(s=a)),s!==null)break;return s}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(a=>{e.push(a.serialize())}),e}}class Il{constructor(e,a){this.type=a.type,this.bindings=[].concat(e),this.result=a}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const a of this.bindings)e(a[1]);e(this.result)}static parse(e,a){if(e.length<4)return a.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const s=[];for(let f=1;f<e.length-1;f+=2){const m=e[f];if(typeof m!="string")return a.error(`Expected string, but found ${typeof m} instead.`,f);if(/[^a-zA-Z0-9_]/.test(m))return a.error("Variable names must contain only alphanumeric characters or '_'.",f);const x=a.parse(e[f+1],f+1);if(!x)return null;s.push([m,x])}const d=a.parse(e[e.length-1],e.length-1,a.expectedType,s);return d?new Il(s,d):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[a,s]of this.bindings)e.push(a,s.serialize());return e.push(this.result.serialize()),e}}class ou{constructor(e,a,s){this.type=e,this.index=a,this.input=s}static parse(e,a){if(e.length!==3)return a.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const s=a.parse(e[1],1,Ut),d=a.parse(e[2],2,On(a.expectedType||Se));return s&&d?new ou(d.type.itemType,s,d):null}evaluate(e){const a=this.index.evaluate(e),s=this.input.evaluate(e);if(a<0)throw new ft(`Array index out of bounds: ${a} < 0.`);if(a>=s.length)throw new ft(`Array index out of bounds: ${a} > ${s.length-1}.`);if(a!==Math.floor(a))throw new ft(`Array index must be an integer, but found ${a} instead.`);return s[a]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class lu{constructor(e,a){this.type=be,this.needle=e,this.haystack=a}static parse(e,a){if(e.length!==3)return a.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const s=a.parse(e[1],1,Se),d=a.parse(e[2],2,Se);return s&&d?Zn(s.type,[be,ke,Ut,cn,Se])?new lu(s,d):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${rn(s.type)} instead`):null}evaluate(e){const a=this.needle.evaluate(e),s=this.haystack.evaluate(e);if(!s)return!1;if(!lr(a,["boolean","string","number","null"]))throw new ft(`Expected first argument to be of type boolean, string, number or null, but found ${rn(et(a))} instead.`);if(!lr(s,["string","array"]))throw new ft(`Expected second argument to be of type array or string, but found ${rn(et(s))} instead.`);return s.indexOf(a)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Pl{constructor(e,a,s){this.type=Ut,this.needle=e,this.haystack=a,this.fromIndex=s}static parse(e,a){if(e.length<=2||e.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const s=a.parse(e[1],1,Se),d=a.parse(e[2],2,Se);if(!s||!d)return null;if(!Zn(s.type,[be,ke,Ut,cn,Se]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${rn(s.type)} instead`);if(e.length===4){const f=a.parse(e[3],3,Ut);return f?new Pl(s,d,f):null}return new Pl(s,d)}evaluate(e){const a=this.needle.evaluate(e),s=this.haystack.evaluate(e);if(!lr(a,["boolean","string","number","null"]))throw new ft(`Expected first argument to be of type boolean, string, number or null, but found ${rn(et(a))} instead.`);if(!lr(s,["string","array"]))throw new ft(`Expected second argument to be of type array or string, but found ${rn(et(s))} instead.`);if(this.fromIndex){const d=this.fromIndex.evaluate(e);return s.indexOf(a,d)}return s.indexOf(a)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class su{constructor(e,a,s,d,f,m){this.inputType=e,this.type=a,this.input=s,this.cases=d,this.outputs=f,this.otherwise=m}static parse(e,a){if(e.length<5)return a.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return a.error("Expected an even number of arguments.");let s,d;a.expectedType&&a.expectedType.kind!=="value"&&(d=a.expectedType);const f={},m=[];for(let A=2;A<e.length-1;A+=2){let I=e[A];const M=e[A+1];Array.isArray(I)||(I=[I]);const D=a.concat(A);if(I.length===0)return D.error("Expected at least one branch label.");for(const B of I){if(typeof B!="number"&&typeof B!="string")return D.error("Branch labels must be numbers or strings.");if(typeof B=="number"&&Math.abs(B)>Number.MAX_SAFE_INTEGER)return D.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof B=="number"&&Math.floor(B)!==B)return D.error("Numeric branch labels must be integer values.");if(s){if(D.checkSubtype(s,et(B)))return null}else s=et(B);if(f[String(B)]!==void 0)return D.error("Branch labels must be unique.");f[String(B)]=m.length}const R=a.parse(M,A,d);if(!R)return null;d=d||R.type,m.push(R)}const x=a.parse(e[1],1,Se);if(!x)return null;const b=a.parse(e[e.length-1],e.length-1,d);return b?x.type.kind!=="value"&&a.concat(1).checkSubtype(s,x.type)?null:new su(s,d,x,f,m,b):null}evaluate(e){const a=this.input.evaluate(e);return(et(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],a=Object.keys(this.cases).sort(),s=[],d={};for(const m of a){const x=d[this.cases[m]];x===void 0?(d[this.cases[m]]=s.length,s.push([this.cases[m],[m]])):s[x][1].push(m)}const f=m=>this.inputType.kind==="number"?Number(m):m;for(const[m,x]of s)e.push(x.length===1?f(x[0]):x.map(f)),e.push(this.outputs[m].serialize());return e.push(this.otherwise.serialize()),e}}class uu{constructor(e,a,s){this.type=e,this.branches=a,this.otherwise=s}static parse(e,a){if(e.length<4)return a.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return a.error("Expected an odd number of arguments.");let s;a.expectedType&&a.expectedType.kind!=="value"&&(s=a.expectedType);const d=[];for(let m=1;m<e.length-1;m+=2){const x=a.parse(e[m],m,be);if(!x)return null;const b=a.parse(e[m+1],m+1,s);if(!b)return null;d.push([x,b]),s=s||b.type}const f=a.parse(e[e.length-1],e.length-1,s);return f?new uu(s,d,f):null}evaluate(e){for(const[a,s]of this.branches)if(a.evaluate(e))return s.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[a,s]of this.branches)e(a),e(s);e(this.otherwise)}outputDefined(){return this.branches.every(([e,a])=>a.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(a=>{e.push(a.serialize())}),e}}class Ml{constructor(e,a,s,d){this.type=e,this.input=a,this.beginIndex=s,this.endIndex=d}static parse(e,a){if(e.length<=2||e.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const s=a.parse(e[1],1,Se),d=a.parse(e[2],2,Ut);if(!s||!d)return null;if(!Zn(s.type,[On(Se),ke,Se]))return a.error(`Expected first argument to be of type array or string, but found ${rn(s.type)} instead`);if(e.length===4){const f=a.parse(e[3],3,Ut);return f?new Ml(s.type,s,d,f):null}return new Ml(s.type,s,d)}evaluate(e){const a=this.input.evaluate(e),s=this.beginIndex.evaluate(e);if(!lr(a,["string","array"]))throw new ft(`Expected first argument to be of type array or string, but found ${rn(et(a))} instead.`);if(this.endIndex){const d=this.endIndex.evaluate(e);return a.slice(s,d)}return a.slice(s)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function ad(i,e){return i==="=="||i==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function od(i,e,a,s){return s.compare(e,a)===0}function Ba(i,e,a){const s=i!=="=="&&i!=="!=";return class Q8{constructor(f,m,x){this.type=be,this.lhs=f,this.rhs=m,this.collator=x,this.hasUntypedArgument=f.type.kind==="value"||m.type.kind==="value"}static parse(f,m){if(f.length!==3&&f.length!==4)return m.error("Expected two or three arguments.");const x=f[0];let b=m.parse(f[1],1,Se);if(!b)return null;if(!ad(x,b.type))return m.concat(1).error(`"${x}" comparisons are not supported for type '${rn(b.type)}'.`);let A=m.parse(f[2],2,Se);if(!A)return null;if(!ad(x,A.type))return m.concat(2).error(`"${x}" comparisons are not supported for type '${rn(A.type)}'.`);if(b.type.kind!==A.type.kind&&b.type.kind!=="value"&&A.type.kind!=="value")return m.error(`Cannot compare types '${rn(b.type)}' and '${rn(A.type)}'.`);s&&(b.type.kind==="value"&&A.type.kind!=="value"?b=new Xt(A.type,[b]):b.type.kind!=="value"&&A.type.kind==="value"&&(A=new Xt(b.type,[A])));let I=null;if(f.length===4){if(b.type.kind!=="string"&&A.type.kind!=="string"&&b.type.kind!=="value"&&A.type.kind!=="value")return m.error("Cannot use collator to compare non-string types.");if(I=m.parse(f[3],3,ra),!I)return null}return new Q8(b,A,I)}evaluate(f){const m=this.lhs.evaluate(f),x=this.rhs.evaluate(f);if(s&&this.hasUntypedArgument){const b=et(m),A=et(x);if(b.kind!==A.kind||b.kind!=="string"&&b.kind!=="number")throw new ft(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${b.kind}, ${A.kind}) instead.`)}if(this.collator&&!s&&this.hasUntypedArgument){const b=et(m),A=et(x);if(b.kind!=="string"||A.kind!=="string")return e(f,m,x)}return this.collator?a(f,m,x,this.collator.evaluate(f)):e(f,m,x)}eachChild(f){f(this.lhs),f(this.rhs),this.collator&&f(this.collator)}outputDefined(){return!0}serialize(){const f=[i];return this.eachChild(m=>{f.push(m.serialize())}),f}}}const Rp=Ba("==",function(i,e,a){return e===a},od),Fp=Ba("!=",function(i,e,a){return e!==a},function(i,e,a,s){return!od(0,e,a,s)}),Bp=Ba("<",function(i,e,a){return e<a},function(i,e,a,s){return s.compare(e,a)<0}),Op=Ba(">",function(i,e,a){return e>a},function(i,e,a,s){return s.compare(e,a)>0}),Up=Ba("<=",function(i,e,a){return e<=a},function(i,e,a,s){return s.compare(e,a)<=0}),Np=Ba(">=",function(i,e,a){return e>=a},function(i,e,a,s){return s.compare(e,a)>=0});class cu{constructor(e,a,s,d,f){this.type=ke,this.number=e,this.locale=a,this.currency=s,this.minFractionDigits=d,this.maxFractionDigits=f}static parse(e,a){if(e.length!==3)return a.error("Expected two arguments.");const s=a.parse(e[1],1,Ut);if(!s)return null;const d=e[2];if(typeof d!="object"||Array.isArray(d))return a.error("NumberFormat options argument must be an object.");let f=null;if(d.locale&&(f=a.parse(d.locale,1,ke),!f))return null;let m=null;if(d.currency&&(m=a.parse(d.currency,1,ke),!m))return null;let x=null;if(d["min-fraction-digits"]&&(x=a.parse(d["min-fraction-digits"],1,Ut),!x))return null;let b=null;return d["max-fraction-digits"]&&(b=a.parse(d["max-fraction-digits"],1,Ut),!b)?null:new cu(s,f,m,x,b)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class du{constructor(e){this.type=Ut,this.input=e}static parse(e,a){if(e.length!==2)return a.error(`Expected 1 argument, but found ${e.length-1} instead.`);const s=a.parse(e[1],1);return s?s.type.kind!=="array"&&s.type.kind!=="string"&&s.type.kind!=="value"?a.error(`Expected argument of type string or array, but found ${rn(s.type)} instead.`):new du(s):null}evaluate(e){const a=this.input.evaluate(e);if(typeof a=="string"||Array.isArray(a))return a.length;throw new ft(`Expected value to be of type string or array, but found ${rn(et(a))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(a=>{e.push(a.serialize())}),e}}const Oa={"==":Rp,"!=":Fp,">":Op,"<":Bp,">=":Np,"<=":Up,array:Xt,at:ou,boolean:Xt,case:uu,coalesce:Cl,collator:Fn,format:ie,image:de,in:lu,"index-of":Pl,interpolate:Fi,"interpolate-hcl":Fi,"interpolate-lab":Fi,length:du,let:Il,literal:At,match:su,number:Xt,"number-format":cu,object:Xt,slice:Ml,step:Po,string:Xt,"to-boolean":Le,"to-color":Le,"to-number":Le,"to-string":Le,var:El,within:oa};function ld(i,[e,a,s,d]){e=e.evaluate(i),a=a.evaluate(i),s=s.evaluate(i);const f=d?d.evaluate(i):1,m=Y(e,a,s,f);if(m)throw new ft(m);return new P(e/255*f,a/255*f,s/255*f,f)}function sd(i,e){return i in e}function hu(i,e){const a=e[i];return a===void 0?null:a}function la(i){return{type:i}}function ud(i){return{result:"success",value:i}}function sa(i){return{result:"error",value:i}}function Ua(i){return i["property-type"]==="data-driven"||i["property-type"]==="cross-faded-data-driven"}function cd(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function pu(i){return!!i.expression&&i.expression.interpolated}function ve(i){return i instanceof Number?"number":i instanceof String?"string":i instanceof Boolean?"boolean":Array.isArray(i)?"array":i===null?"null":typeof i}function zl(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function Xe(i){return i}function Dl(i,e){const a=e.type==="color",s=i.stops&&typeof i.stops[0][0]=="object",d=s||!(s||i.property!==void 0),f=i.type||(pu(e)?"exponential":"interval");if(a&&((i=_r({},i)).stops&&(i.stops=i.stops.map(A=>[A[0],P.parse(A[1])])),i.default=P.parse(i.default?i.default:e.default)),i.colorSpace&&i.colorSpace!=="rgb"&&!rd[i.colorSpace])throw new Error(`Unknown color space: ${i.colorSpace}`);let m,x,b;if(f==="exponential")m=gu;else if(f==="interval")m=Ll;else if(f==="categorical"){m=zn,x=Object.create(null);for(const A of i.stops)x[A[0]]=A[1];b=typeof i.stops[0][0]}else{if(f!=="identity")throw new Error(`Unknown function type "${f}"`);m=Vp}if(s){const A={},I=[];for(let R=0;R<i.stops.length;R++){const B=i.stops[R],X=B[0].zoom;A[X]===void 0&&(A[X]={zoom:X,type:i.type,property:i.property,default:i.default,stops:[]},I.push(X)),A[X].stops.push([B[0].value,B[1]])}const M=[];for(const R of I)M.push([A[R].zoom,Dl(A[R],e)]);const D={name:"linear"};return{kind:"composite",interpolationType:D,interpolationFactor:Fi.interpolationFactor.bind(void 0,D),zoomStops:M.map(R=>R[0]),evaluate:({zoom:R},B)=>gu({stops:M,base:i.base},e,R).evaluate(R,B)}}if(d){const A=f==="exponential"?{name:"exponential",base:i.base!==void 0?i.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:Fi.interpolationFactor.bind(void 0,A),zoomStops:i.stops.map(I=>I[0]),evaluate:({zoom:I})=>m(i,e,I,x,b)}}return{kind:"source",evaluate(A,I){const M=I&&I.properties?I.properties[i.property]:void 0;return M===void 0?hn(i.default,e.default):m(i,e,M,x,b)}}}function hn(i,e,a){return i!==void 0?i:e!==void 0?e:a!==void 0?a:void 0}function zn(i,e,a,s,d){return hn(typeof a===d?s[a]:void 0,i.default,e.default)}function Ll(i,e,a){if(ve(a)!=="number")return hn(i.default,e.default);const s=i.stops.length;if(s===1||a<=i.stops[0][0])return i.stops[0][1];if(a>=i.stops[s-1][0])return i.stops[s-1][1];const d=Al(i.stops.map(f=>f[0]),a);return i.stops[d][1]}function gu(i,e,a){const s=i.base!==void 0?i.base:1;if(ve(a)!=="number")return hn(i.default,e.default);const d=i.stops.length;if(d===1||a<=i.stops[0][0])return i.stops[0][1];if(a>=i.stops[d-1][0])return i.stops[d-1][1];const f=Al(i.stops.map(I=>I[0]),a),m=function(I,M,D,R){const B=R-D,X=I-D;return B===0?0:M===1?X/B:(Math.pow(M,X)-1)/(Math.pow(M,B)-1)}(a,s,i.stops[f][0],i.stops[f+1][0]),x=i.stops[f][1],b=i.stops[f+1][1];let A=Mo[e.type]||Xe;if(i.colorSpace&&i.colorSpace!=="rgb"){const I=rd[i.colorSpace];A=(M,D)=>I.reverse(I.interpolate(I.forward(M),I.forward(D),m))}return typeof x.evaluate=="function"?{evaluate(...I){const M=x.evaluate.apply(void 0,I),D=b.evaluate.apply(void 0,I);if(M!==void 0&&D!==void 0)return A(M,D,m)}}:A(x,b,m)}function Vp(i,e,a){return e.type==="color"?a=P.parse(a):e.type==="formatted"?a=G.fromString(a.toString()):e.type==="resolvedImage"?a=tt.fromString(a.toString()):ve(a)===e.type||e.type==="enum"&&e.values[a]||(a=void 0),hn(a,i.default,e.default)}we.register(Oa,{error:[{kind:"error"},[ke],(i,[e])=>{throw new ft(e.evaluate(i))}],typeof:[ke,[Se],(i,[e])=>rn(et(e.evaluate(i)))],"to-rgba":[On(Ut,4),[gi],(i,[e])=>e.evaluate(i).toArray()],rgb:[gi,[Ut,Ut,Ut],ld],rgba:[gi,[Ut,Ut,Ut,Ut],ld],has:{type:be,overloads:[[[ke],(i,[e])=>sd(e.evaluate(i),i.properties())],[[ke,ar],(i,[e,a])=>sd(e.evaluate(i),a.evaluate(i))]]},get:{type:Se,overloads:[[[ke],(i,[e])=>hu(e.evaluate(i),i.properties())],[[ke,ar],(i,[e,a])=>hu(e.evaluate(i),a.evaluate(i))]]},"feature-state":[Se,[ke],(i,[e])=>hu(e.evaluate(i),i.featureState||{})],properties:[ar,[],i=>i.properties()],"geometry-type":[ke,[],i=>i.geometryType()],id:[Se,[],i=>i.id()],zoom:[Ut,[],i=>i.globals.zoom],"heatmap-density":[Ut,[],i=>i.globals.heatmapDensity||0],"line-progress":[Ut,[],i=>i.globals.lineProgress||0],accumulated:[Se,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[Ut,la(Ut),(i,e)=>{let a=0;for(const s of e)a+=s.evaluate(i);return a}],"*":[Ut,la(Ut),(i,e)=>{let a=1;for(const s of e)a*=s.evaluate(i);return a}],"-":{type:Ut,overloads:[[[Ut,Ut],(i,[e,a])=>e.evaluate(i)-a.evaluate(i)],[[Ut],(i,[e])=>-e.evaluate(i)]]},"/":[Ut,[Ut,Ut],(i,[e,a])=>e.evaluate(i)/a.evaluate(i)],"%":[Ut,[Ut,Ut],(i,[e,a])=>e.evaluate(i)%a.evaluate(i)],ln2:[Ut,[],()=>Math.LN2],pi:[Ut,[],()=>Math.PI],e:[Ut,[],()=>Math.E],"^":[Ut,[Ut,Ut],(i,[e,a])=>Math.pow(e.evaluate(i),a.evaluate(i))],sqrt:[Ut,[Ut],(i,[e])=>Math.sqrt(e.evaluate(i))],log10:[Ut,[Ut],(i,[e])=>Math.log(e.evaluate(i))/Math.LN10],ln:[Ut,[Ut],(i,[e])=>Math.log(e.evaluate(i))],log2:[Ut,[Ut],(i,[e])=>Math.log(e.evaluate(i))/Math.LN2],sin:[Ut,[Ut],(i,[e])=>Math.sin(e.evaluate(i))],cos:[Ut,[Ut],(i,[e])=>Math.cos(e.evaluate(i))],tan:[Ut,[Ut],(i,[e])=>Math.tan(e.evaluate(i))],asin:[Ut,[Ut],(i,[e])=>Math.asin(e.evaluate(i))],acos:[Ut,[Ut],(i,[e])=>Math.acos(e.evaluate(i))],atan:[Ut,[Ut],(i,[e])=>Math.atan(e.evaluate(i))],min:[Ut,la(Ut),(i,e)=>Math.min(...e.map(a=>a.evaluate(i)))],max:[Ut,la(Ut),(i,e)=>Math.max(...e.map(a=>a.evaluate(i)))],abs:[Ut,[Ut],(i,[e])=>Math.abs(e.evaluate(i))],round:[Ut,[Ut],(i,[e])=>{const a=e.evaluate(i);return a<0?-Math.round(-a):Math.round(a)}],floor:[Ut,[Ut],(i,[e])=>Math.floor(e.evaluate(i))],ceil:[Ut,[Ut],(i,[e])=>Math.ceil(e.evaluate(i))],"filter-==":[be,[ke,Se],(i,[e,a])=>i.properties()[e.value]===a.value],"filter-id-==":[be,[Se],(i,[e])=>i.id()===e.value],"filter-type-==":[be,[ke],(i,[e])=>i.geometryType()===e.value],"filter-<":[be,[ke,Se],(i,[e,a])=>{const s=i.properties()[e.value],d=a.value;return typeof s==typeof d&&s<d}],"filter-id-<":[be,[Se],(i,[e])=>{const a=i.id(),s=e.value;return typeof a==typeof s&&a<s}],"filter->":[be,[ke,Se],(i,[e,a])=>{const s=i.properties()[e.value],d=a.value;return typeof s==typeof d&&s>d}],"filter-id->":[be,[Se],(i,[e])=>{const a=i.id(),s=e.value;return typeof a==typeof s&&a>s}],"filter-<=":[be,[ke,Se],(i,[e,a])=>{const s=i.properties()[e.value],d=a.value;return typeof s==typeof d&&s<=d}],"filter-id-<=":[be,[Se],(i,[e])=>{const a=i.id(),s=e.value;return typeof a==typeof s&&a<=s}],"filter->=":[be,[ke,Se],(i,[e,a])=>{const s=i.properties()[e.value],d=a.value;return typeof s==typeof d&&s>=d}],"filter-id->=":[be,[Se],(i,[e])=>{const a=i.id(),s=e.value;return typeof a==typeof s&&a>=s}],"filter-has":[be,[Se],(i,[e])=>e.value in i.properties()],"filter-has-id":[be,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[be,[On(ke)],(i,[e])=>e.value.indexOf(i.geometryType())>=0],"filter-id-in":[be,[On(Se)],(i,[e])=>e.value.indexOf(i.id())>=0],"filter-in-small":[be,[ke,On(Se)],(i,[e,a])=>a.value.indexOf(i.properties()[e.value])>=0],"filter-in-large":[be,[ke,On(Se)],(i,[e,a])=>function(s,d,f,m){for(;f<=m;){const x=f+m>>1;if(d[x]===s)return!0;d[x]>s?m=x-1:f=x+1}return!1}(i.properties()[e.value],a.value,0,a.value.length-1)],all:{type:be,overloads:[[[be,be],(i,[e,a])=>e.evaluate(i)&&a.evaluate(i)],[la(be),(i,e)=>{for(const a of e)if(!a.evaluate(i))return!1;return!0}]]},any:{type:be,overloads:[[[be,be],(i,[e,a])=>e.evaluate(i)||a.evaluate(i)],[la(be),(i,e)=>{for(const a of e)if(a.evaluate(i))return!0;return!1}]]},"!":[be,[be],(i,[e])=>!e.evaluate(i)],"is-supported-script":[be,[ke],(i,[e])=>{const a=i.globals&&i.globals.isSupportedScript;return!a||a(e.evaluate(i))}],upcase:[ke,[ke],(i,[e])=>e.evaluate(i).toUpperCase()],downcase:[ke,[ke],(i,[e])=>e.evaluate(i).toLowerCase()],concat:[ke,la(Se),(i,e)=>e.map(a=>_t(a.evaluate(i))).join("")],"resolved-locale":[ke,[ra],(i,[e])=>e.evaluate(i).resolvedLocale()]});class fu{constructor(e,a){this.expression=e,this._warningHistory={},this._evaluator=new Ee,this._defaultValue=a?function(s){return s.type==="color"&&zl(s.default)?new P(0,0,0,0):s.type==="color"?P.parse(s.default)||null:s.default===void 0?null:s.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null}evaluateWithoutErrorHandling(e,a,s,d,f,m){return this._evaluator.globals=e,this._evaluator.feature=a,this._evaluator.featureState=s,this._evaluator.canonical=d,this._evaluator.availableImages=f||null,this._evaluator.formattedSection=m,this.expression.evaluate(this._evaluator)}evaluate(e,a,s,d,f,m){this._evaluator.globals=e,this._evaluator.feature=a||null,this._evaluator.featureState=s||null,this._evaluator.canonical=d,this._evaluator.availableImages=f||null,this._evaluator.formattedSection=m||null;try{const x=this.expression.evaluate(this._evaluator);if(x==null||typeof x=="number"&&x!=x)return this._defaultValue;if(this._enumValues&&!(x in this._enumValues))throw new ft(`Expected value to be one of ${Object.keys(this._enumValues).map(b=>JSON.stringify(b)).join(", ")}, but found ${JSON.stringify(x)} instead.`);return x}catch(x){return this._warningHistory[x.message]||(this._warningHistory[x.message]=!0,typeof console!="undefined"&&console.warn(x.message)),this._defaultValue}}}function Rl(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in Oa}function Fl(i,e){const a=new Tl(Oa,[],e?function(d){const f={color:gi,string:ke,number:Ut,enum:ke,boolean:be,formatted:or,resolvedImage:Fr};return d.type==="array"?On(f[d.value]||Se,d.length):f[d.type]}(e):void 0),s=a.parse(i,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return s?ud(new fu(s,e)):sa(a.errors)}class Bl{constructor(e,a){this.kind=e,this._styleExpression=a,this.isStateDependent=e!=="constant"&&!Fa(a.expression)}evaluateWithoutErrorHandling(e,a,s,d,f,m){return this._styleExpression.evaluateWithoutErrorHandling(e,a,s,d,f,m)}evaluate(e,a,s,d,f,m){return this._styleExpression.evaluate(e,a,s,d,f,m)}}class Ol{constructor(e,a,s,d){this.kind=e,this.zoomStops=s,this._styleExpression=a,this.isStateDependent=e!=="camera"&&!Fa(a.expression),this.interpolationType=d}evaluateWithoutErrorHandling(e,a,s,d,f,m){return this._styleExpression.evaluateWithoutErrorHandling(e,a,s,d,f,m)}evaluate(e,a,s,d,f,m){return this._styleExpression.evaluate(e,a,s,d,f,m)}interpolationFactor(e,a,s){return this.interpolationType?Fi.interpolationFactor(this.interpolationType,e,a,s):0}}function mu(i,e){const a=Fl(i,e);if(a.result==="error")return a;const s=a.value.expression,d=Sl(s);if(!d&&!Ua(e))return sa([new pi("","data expressions not supported")]);const f=Co(s,["zoom"]);if(!f&&!cd(e))return sa([new pi("","zoom expressions not supported")]);const m=Ul(s);return m||f?m instanceof pi?sa([m]):m instanceof Fi&&!pu(e)?sa([new pi("",'"interpolate" expressions cannot be used with this property')]):ud(m?new Ol(d?"camera":"composite",a.value,m.labels,m instanceof Fi?m.interpolation:void 0):new Bl(d?"constant":"source",a.value)):sa([new pi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Na{constructor(e,a){this._parameters=e,this._specification=a,_r(this,Dl(this._parameters,this._specification))}static deserialize(e){return new Na(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Ul(i){let e=null;if(i instanceof Il)e=Ul(i.result);else if(i instanceof Cl){for(const a of i.args)if(e=Ul(a),e)break}else(i instanceof Po||i instanceof Fi)&&i.input instanceof we&&i.input.name==="zoom"&&(e=i);return e instanceof pi||i.eachChild(a=>{const s=Ul(a);s instanceof pi?e=s:!e&&s?e=new pi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&s&&e!==s&&(e=new pi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function ur(i){const e=i.key,a=i.value,s=i.valueSpec||{},d=i.objectElementValidators||{},f=i.style,m=i.styleSpec;let x=[];const b=ve(a);if(b!=="object")return[new Ot(e,a,`object expected, ${b} found`)];for(const A in a){const I=A.split(".")[0],M=s[I]||s["*"];let D;if(d[I])D=d[I];else if(s[I])D=Ai;else if(d["*"])D=d["*"];else{if(!s["*"]){x.push(new Ot(e,a[A],`unknown property "${A}"`));continue}D=Ai}x=x.concat(D({key:(e&&`${e}.`)+A,value:a[A],valueSpec:M,style:f,styleSpec:m,object:a,objectKey:A},a))}for(const A in s)d[A]||s[A].required&&s[A].default===void 0&&a[A]===void 0&&x.push(new Ot(e,a,`missing required property "${A}"`));return x}function dd(i){const e=i.value,a=i.valueSpec,s=i.style,d=i.styleSpec,f=i.key,m=i.arrayElementValidator||Ai;if(ve(e)!=="array")return[new Ot(f,e,`array expected, ${ve(e)} found`)];if(a.length&&e.length!==a.length)return[new Ot(f,e,`array length ${a.length} expected, length ${e.length} found`)];if(a["min-length"]&&e.length<a["min-length"])return[new Ot(f,e,`array length at least ${a["min-length"]} expected, length ${e.length} found`)];let x={type:a.value,values:a.values};d.$version<7&&(x.function=a.function),ve(a.value)==="object"&&(x=a.value);let b=[];for(let A=0;A<e.length;A++)b=b.concat(m({array:e,arrayIndex:A,value:e[A],valueSpec:x,style:s,styleSpec:d,key:`${f}[${A}]`}));return b}function hd(i){const e=i.key,a=i.value,s=i.valueSpec;let d=ve(a);return d==="number"&&a!=a&&(d="NaN"),d!=="number"?[new Ot(e,a,`number expected, ${d} found`)]:"minimum"in s&&a<s.minimum?[new Ot(e,a,`${a} is less than the minimum value ${s.minimum}`)]:"maximum"in s&&a>s.maximum?[new Ot(e,a,`${a} is greater than the maximum value ${s.maximum}`)]:[]}function pd(i){const e=i.valueSpec,a=He(i.value.type);let s,d,f,m={};const x=a!=="categorical"&&i.value.property===void 0,b=!x,A=ve(i.value.stops)==="array"&&ve(i.value.stops[0])==="array"&&ve(i.value.stops[0][0])==="object",I=ur({key:i.key,value:i.value,valueSpec:i.styleSpec.function,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{stops:function(R){if(a==="identity")return[new Ot(R.key,R.value,'identity function may not have a "stops" property')];let B=[];const X=R.value;return B=B.concat(dd({key:R.key,value:X,valueSpec:R.valueSpec,style:R.style,styleSpec:R.styleSpec,arrayElementValidator:M})),ve(X)==="array"&&X.length===0&&B.push(new Ot(R.key,X,"array must have at least one stop")),B},default:function(R){return Ai({key:R.key,value:R.value,valueSpec:e,style:R.style,styleSpec:R.styleSpec})}}});return a==="identity"&&x&&I.push(new Ot(i.key,i.value,'missing required property "property"')),a==="identity"||i.value.stops||I.push(new Ot(i.key,i.value,'missing required property "stops"')),a==="exponential"&&i.valueSpec.expression&&!pu(i.valueSpec)&&I.push(new Ot(i.key,i.value,"exponential functions not supported")),i.styleSpec.$version>=8&&(b&&!Ua(i.valueSpec)?I.push(new Ot(i.key,i.value,"property functions not supported")):x&&!cd(i.valueSpec)&&I.push(new Ot(i.key,i.value,"zoom functions not supported"))),a!=="categorical"&&!A||i.value.property!==void 0||I.push(new Ot(i.key,i.value,'"property" property is required')),I;function M(R){let B=[];const X=R.value,K=R.key;if(ve(X)!=="array")return[new Ot(K,X,`array expected, ${ve(X)} found`)];if(X.length!==2)return[new Ot(K,X,`array length 2 expected, length ${X.length} found`)];if(A){if(ve(X[0])!=="object")return[new Ot(K,X,`object expected, ${ve(X[0])} found`)];if(X[0].zoom===void 0)return[new Ot(K,X,"object stop key must have zoom")];if(X[0].value===void 0)return[new Ot(K,X,"object stop key must have value")];if(f&&f>He(X[0].zoom))return[new Ot(K,X[0].zoom,"stop zoom values must appear in ascending order")];He(X[0].zoom)!==f&&(f=He(X[0].zoom),d=void 0,m={}),B=B.concat(ur({key:`${K}[0]`,value:X[0],valueSpec:{zoom:{}},style:R.style,styleSpec:R.styleSpec,objectElementValidators:{zoom:hd,value:D}}))}else B=B.concat(D({key:`${K}[0]`,value:X[0],valueSpec:{},style:R.style,styleSpec:R.styleSpec},X));return Rl(Ti(X[1]))?B.concat([new Ot(`${K}[1]`,X[1],"expressions are not allowed in function stops.")]):B.concat(Ai({key:`${K}[1]`,value:X[1],valueSpec:e,style:R.style,styleSpec:R.styleSpec}))}function D(R,B){const X=ve(R.value),K=He(R.value),lt=R.value!==null?R.value:B;if(s){if(X!==s)return[new Ot(R.key,lt,`${X} stop domain type must match previous stop domain type ${s}`)]}else s=X;if(X!=="number"&&X!=="string"&&X!=="boolean")return[new Ot(R.key,lt,"stop domain value must be a number, string, or boolean")];if(X!=="number"&&a!=="categorical"){let ht=`number expected, ${X} found`;return Ua(e)&&a===void 0&&(ht+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ot(R.key,lt,ht)]}return a!=="categorical"||X!=="number"||isFinite(K)&&Math.floor(K)===K?a!=="categorical"&&X==="number"&&d!==void 0&&K<d?[new Ot(R.key,lt,"stop domain values must appear in ascending order")]:(d=K,a==="categorical"&&K in m?[new Ot(R.key,lt,"stop domain values must be unique")]:(m[K]=!0,[])):[new Ot(R.key,lt,`integer expected, found ${K}`)]}}function Va(i){const e=(i.expressionContext==="property"?mu:Fl)(Ti(i.value),i.valueSpec);if(e.result==="error")return e.value.map(s=>new Ot(`${i.key}${s.key}`,i.value,s.message));const a=e.value.expression||e.value._styleExpression.expression;if(i.expressionContext==="property"&&i.propertyKey==="text-font"&&!a.outputDefined())return[new Ot(i.key,i.value,`Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];if(i.expressionContext==="property"&&i.propertyType==="layout"&&!Fa(a))return[new Ot(i.key,i.value,'"feature-state" data expressions are not supported with layout properties.')];if(i.expressionContext==="filter"&&!Fa(a))return[new Ot(i.key,i.value,'"feature-state" data expressions are not supported with filters.')];if(i.expressionContext&&i.expressionContext.indexOf("cluster")===0){if(!Co(a,["zoom","feature-state"]))return[new Ot(i.key,i.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(i.expressionContext==="cluster-initial"&&!Sl(a))return[new Ot(i.key,i.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Nl(i){const e=i.key,a=i.value,s=i.valueSpec,d=[];return Array.isArray(s.values)?s.values.indexOf(He(a))===-1&&d.push(new Ot(e,a,`expected one of [${s.values.join(", ")}], ${JSON.stringify(a)} found`)):Object.keys(s.values).indexOf(He(a))===-1&&d.push(new Ot(e,a,`expected one of [${Object.keys(s.values).join(", ")}], ${JSON.stringify(a)} found`)),d}function yu(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const e of i.slice(1))if(!yu(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const gd={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Vl(i){if(i==null)return{filter:()=>!0,needGeometry:!1};yu(i)||(i=Lo(i));const e=Fl(i,gd);if(e.result==="error")throw new Error(e.value.map(a=>`${a.key}: ${a.message}`).join(", "));return{filter:(a,s,d)=>e.value.evaluate(a,s,{},d),needGeometry:fd(i)}}function jl(i,e){return i<e?-1:i>e?1:0}function fd(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let e=1;e<i.length;e++)if(fd(i[e]))return!0;return!1}function Lo(i){if(!i)return!0;const e=i[0];return i.length<=1?e!=="any":e==="=="?_u(i[1],i[2],"=="):e==="!="?ja(_u(i[1],i[2],"==")):e==="<"||e===">"||e==="<="||e===">="?_u(i[1],i[2],e):e==="any"?(a=i.slice(1),["any"].concat(a.map(Lo))):e==="all"?["all"].concat(i.slice(1).map(Lo)):e==="none"?["all"].concat(i.slice(1).map(Lo).map(ja)):e==="in"?$l(i[1],i.slice(2)):e==="!in"?ja($l(i[1],i.slice(2))):e==="has"?Gl(i[1]):e==="!has"?ja(Gl(i[1])):e!=="within"||i;var a}function _u(i,e,a){switch(i){case"$type":return[`filter-type-${a}`,e];case"$id":return[`filter-id-${a}`,e];default:return[`filter-${a}`,i,e]}}function $l(i,e){if(e.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(a=>typeof a!=typeof e[0])?["filter-in-large",i,["literal",e.sort(jl)]]:["filter-in-small",i,["literal",e]]}}function Gl(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function ja(i){return["!",i]}function Ro(i){return yu(Ti(i.value))?Va(_r({},i,{expressionContext:"filter",valueSpec:{value:"boolean"}})):md(i)}function md(i){const e=i.value,a=i.key;if(ve(e)!=="array")return[new Ot(a,e,`array expected, ${ve(e)} found`)];const s=i.styleSpec;let d,f=[];if(e.length<1)return[new Ot(a,e,"filter array must have at least 1 element")];switch(f=f.concat(Nl({key:`${a}[0]`,value:e[0],valueSpec:s.filter_operator,style:i.style,styleSpec:i.styleSpec})),He(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&He(e[1])==="$type"&&f.push(new Ot(a,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":e.length!==3&&f.push(new Ot(a,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(d=ve(e[1]),d!=="string"&&f.push(new Ot(`${a}[1]`,e[1],`string expected, ${d} found`)));for(let m=2;m<e.length;m++)d=ve(e[m]),He(e[1])==="$type"?f=f.concat(Nl({key:`${a}[${m}]`,value:e[m],valueSpec:s.geometry_type,style:i.style,styleSpec:i.styleSpec})):d!=="string"&&d!=="number"&&d!=="boolean"&&f.push(new Ot(`${a}[${m}]`,e[m],`string, number, or boolean expected, ${d} found`));break;case"any":case"all":case"none":for(let m=1;m<e.length;m++)f=f.concat(md({key:`${a}[${m}]`,value:e[m],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":d=ve(e[1]),e.length!==2?f.push(new Ot(a,e,`filter array for "${e[0]}" operator must have 2 elements`)):d!=="string"&&f.push(new Ot(`${a}[1]`,e[1],`string expected, ${d} found`));break;case"within":d=ve(e[1]),e.length!==2?f.push(new Ot(a,e,`filter array for "${e[0]}" operator must have 2 elements`)):d!=="object"&&f.push(new Ot(`${a}[1]`,e[1],`object expected, ${d} found`))}return f}function Fo(i,e){const a=i.key,s=i.style,d=i.styleSpec,f=i.value,m=i.objectKey,x=d[`${e}_${i.layerType}`];if(!x)return[];const b=m.match(/^(.*)-transition$/);if(e==="paint"&&b&&x[b[1]]&&x[b[1]].transition)return Ai({key:a,value:f,valueSpec:d.transition,style:s,styleSpec:d});const A=i.valueSpec||x[m];if(!A)return[new Ot(a,f,`unknown property "${m}"`)];let I;if(ve(f)==="string"&&Ua(A)&&!A.tokens&&(I=/^{([^}]+)}$/.exec(f)))return[new Ot(a,f,`"${m}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(I[1])} }\`.`)];const M=[];return i.layerType==="symbol"&&(m==="text-field"&&s&&!s.glyphs&&M.push(new Ot(a,f,'use of "text-field" requires a style "glyphs" property')),m==="text-font"&&zl(Ti(f))&&He(f.type)==="identity"&&M.push(new Ot(a,f,'"text-font" does not support identity functions'))),M.concat(Ai({key:i.key,value:f,valueSpec:A,style:s,styleSpec:d,expressionContext:"property",propertyType:e,propertyKey:m}))}function yd(i){return Fo(i,"paint")}function _d(i){return Fo(i,"layout")}function vd(i){let e=[];const a=i.value,s=i.key,d=i.style,f=i.styleSpec;a.type||a.ref||e.push(new Ot(s,a,'either "type" or "ref" is required'));let m=He(a.type);const x=He(a.ref);if(a.id){const b=He(a.id);for(let A=0;A<i.arrayIndex;A++){const I=d.layers[A];He(I.id)===b&&e.push(new Ot(s,a.id,`duplicate layer id "${a.id}", previously used at line ${I.id.__line__}`))}}if("ref"in a){let b;["type","source","source-layer","filter","layout"].forEach(A=>{A in a&&e.push(new Ot(s,a[A],`"${A}" is prohibited for ref layers`))}),d.layers.forEach(A=>{He(A.id)===x&&(b=A)}),b?b.ref?e.push(new Ot(s,a.ref,"ref cannot reference another ref layer")):m=He(b.type):e.push(new Ot(s,a.ref,`ref layer "${x}" not found`))}else if(m!=="background")if(a.source){const b=d.sources&&d.sources[a.source],A=b&&He(b.type);b?A==="vector"&&m==="raster"?e.push(new Ot(s,a.source,`layer "${a.id}" requires a raster source`)):A==="raster"&&m!=="raster"?e.push(new Ot(s,a.source,`layer "${a.id}" requires a vector source`)):A!=="vector"||a["source-layer"]?A==="raster-dem"&&m!=="hillshade"?e.push(new Ot(s,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):m!=="line"||!a.paint||!a.paint["line-gradient"]||A==="geojson"&&b.lineMetrics||e.push(new Ot(s,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new Ot(s,a,`layer "${a.id}" must specify a "source-layer"`)):e.push(new Ot(s,a.source,`source "${a.source}" not found`))}else e.push(new Ot(s,a,'missing required property "source"'));return e=e.concat(ur({key:s,value:a,valueSpec:f.layer,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ai({key:`${s}.type`,value:a.type,valueSpec:f.layer.type,style:i.style,styleSpec:i.styleSpec,object:a,objectKey:"type"}),filter:Ro,layout:b=>ur({layer:a,key:b.key,value:b.value,style:b.style,styleSpec:b.styleSpec,objectElementValidators:{"*":A=>_d(_r({layerType:m},A))}}),paint:b=>ur({layer:a,key:b.key,value:b.value,style:b.style,styleSpec:b.styleSpec,objectElementValidators:{"*":A=>yd(_r({layerType:m},A))}})}})),e}function $a(i){const e=i.value,a=i.key,s=ve(e);return s!=="string"?[new Ot(a,e,`string expected, ${s} found`)]:[]}const xd={promoteId:function({key:i,value:e}){if(ve(e)==="string")return $a({key:i,value:e});{const a=[];for(const s in e)a.push(...$a({key:`${i}.${s}`,value:e[s]}));return a}}};function Bo(i){const e=i.value,a=i.key,s=i.styleSpec,d=i.style;if(!e.type)return[new Ot(a,e,'"type" is required')];const f=He(e.type);let m;switch(f){case"vector":case"raster":case"raster-dem":return m=ur({key:a,value:e,valueSpec:s[`source_${f.replace("-","_")}`],style:i.style,styleSpec:s,objectElementValidators:xd}),m;case"geojson":if(m=ur({key:a,value:e,valueSpec:s.source_geojson,style:d,styleSpec:s,objectElementValidators:xd}),e.cluster)for(const x in e.clusterProperties){const[b,A]=e.clusterProperties[x],I=typeof b=="string"?[b,["accumulated"],["get",x]]:b;m.push(...Va({key:`${a}.${x}.map`,value:A,expressionContext:"cluster-map"})),m.push(...Va({key:`${a}.${x}.reduce`,value:I,expressionContext:"cluster-reduce"}))}return m;case"video":return ur({key:a,value:e,valueSpec:s.source_video,style:d,styleSpec:s});case"image":return ur({key:a,value:e,valueSpec:s.source_image,style:d,styleSpec:s});case"canvas":return[new Ot(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Nl({key:`${a}.type`,value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:d,styleSpec:s})}}function Oo(i){const e=i.value,a=i.styleSpec,s=a.light,d=i.style;let f=[];const m=ve(e);if(e===void 0)return f;if(m!=="object")return f=f.concat([new Ot("light",e,`object expected, ${m} found`)]),f;for(const x in e){const b=x.match(/^(.*)-transition$/);f=f.concat(b&&s[b[1]]&&s[b[1]].transition?Ai({key:x,value:e[x],valueSpec:a.transition,style:d,styleSpec:a}):s[x]?Ai({key:x,value:e[x],valueSpec:s[x],style:d,styleSpec:a}):[new Ot(x,e[x],`unknown property "${x}"`)])}return f}const Bi={"*":()=>[],array:dd,boolean:function(i){const e=i.value,a=i.key,s=ve(e);return s!=="boolean"?[new Ot(a,e,`boolean expected, ${s} found`)]:[]},number:hd,color:function(i){const e=i.key,a=i.value,s=ve(a);return s!=="string"?[new Ot(e,a,`color expected, ${s} found`)]:sr(a)===null?[new Ot(e,a,`color expected, "${a}" found`)]:[]},constants:Rr,enum:Nl,filter:Ro,function:pd,layer:vd,object:ur,source:Bo,light:Oo,string:$a,formatted:function(i){return $a(i).length===0?[]:Va(i)},resolvedImage:function(i){return $a(i).length===0?[]:Va(i)}};function Ai(i){const e=i.value,a=i.valueSpec,s=i.styleSpec;return a.expression&&zl(He(e))?pd(i):a.expression&&Rl(Ti(e))?Va(i):a.type&&Bi[a.type]?Bi[a.type](i):ur(_r({},i,{valueSpec:a.type?s[a.type]:a}))}function jp(i){const e=i.value,a=i.key,s=$a(i);return s.length||(e.indexOf("{fontstack}")===-1&&s.push(new Ot(a,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&s.push(new Ot(a,e,'"glyphs" url must include a "{range}" token'))),s}function ua(i,e=pt){let a=[];return a=a.concat(Ai({key:"",value:i,valueSpec:e.$root,styleSpec:e,style:i,objectElementValidators:{glyphs:jp,"*":()=>[]}})),i.constants&&(a=a.concat(Rr({key:"constants",value:i.constants,style:i,styleSpec:e}))),wd(a)}function wd(i){return[].concat(i).sort((e,a)=>e.line-a.line)}function Ga(i){return function(...e){return wd(i.apply(this,e))}}ua.source=Ga(Bo),ua.light=Ga(Oo),ua.layer=Ga(vd),ua.filter=Ga(Ro),ua.paintProperty=Ga(yd),ua.layoutProperty=Ga(_d);const ca=ua,$p=ca.light,vu=ca.paintProperty,Gp=ca.layoutProperty;function bd(i,e){let a=!1;if(e&&e.length)for(const s of e)i.fire(new nn(new Error(s.message))),a=!0;return a}class da{constructor(e,a,s){const d=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const m=new Int32Array(this.arrayBuffer);e=m[0],this.d=(a=m[1])+2*(s=m[2]);for(let b=0;b<this.d*this.d;b++){const A=m[3+b],I=m[3+b+1];d.push(A===I?null:m.subarray(A,I))}const x=m[3+d.length+1];this.keys=m.subarray(m[3+d.length],x),this.bboxes=m.subarray(x),this.insert=this._insertReadonly}else{this.d=a+2*s;for(let m=0;m<this.d*this.d;m++)d.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=e,this.padding=s,this.scale=a/e,this.uid=0;const f=s/a*e;this.min=-f,this.max=e+f}insert(e,a,s,d,f){this._forEachCell(a,s,d,f,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(a),this.bboxes.push(s),this.bboxes.push(d),this.bboxes.push(f)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,a,s,d,f,m){this.cells[f].push(m)}query(e,a,s,d,f){const m=this.min,x=this.max;if(e<=m&&a<=m&&x<=s&&x<=d&&!f)return Array.prototype.slice.call(this.keys);{const b=[];return this._forEachCell(e,a,s,d,this._queryCell,b,{},f),b}}_queryCell(e,a,s,d,f,m,x,b){const A=this.cells[f];if(A!==null){const I=this.keys,M=this.bboxes;for(let D=0;D<A.length;D++){const R=A[D];if(x[R]===void 0){const B=4*R;(b?b(M[B+0],M[B+1],M[B+2],M[B+3]):e<=M[B+2]&&a<=M[B+3]&&s>=M[B+0]&&d>=M[B+1])?(x[R]=!0,m.push(I[R])):x[R]=!1}}}}_forEachCell(e,a,s,d,f,m,x,b){const A=this._convertToCellCoord(e),I=this._convertToCellCoord(a),M=this._convertToCellCoord(s),D=this._convertToCellCoord(d);for(let R=A;R<=M;R++)for(let B=I;B<=D;B++){const X=this.d*B+R;if((!b||b(this._convertFromCellCoord(R),this._convertFromCellCoord(B),this._convertFromCellCoord(R+1),this._convertFromCellCoord(B+1)))&&f.call(this,e,a,s,d,X,m,x,b))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,a=3+this.cells.length+1+1;let s=0;for(let m=0;m<this.cells.length;m++)s+=this.cells[m].length;const d=new Int32Array(a+s+this.keys.length+this.bboxes.length);d[0]=this.extent,d[1]=this.n,d[2]=this.padding;let f=a;for(let m=0;m<e.length;m++){const x=e[m];d[3+m]=f,d.set(x,f),f+=x.length}return d[3+e.length]=f,d.set(this.keys,f),f+=this.keys.length,d[3+e.length+1]=f,d.set(this.bboxes,f),f+=this.bboxes.length,d.buffer}static serialize(e,a){const s=e.toArrayBuffer();return a&&a.push(s),{buffer:s}}static deserialize(e){return new da(e.buffer)}}const qa={};function Jt(i,e,a={}){Object.defineProperty(e,"_classRegistryKey",{value:i,writeable:!1}),qa[i]={klass:e,omit:a.omit||[],shallow:a.shallow||[]}}Jt("Object",Object),Jt("TransferableGridIndex",da),Jt("Color",P),Jt("Error",Error),Jt("AJAXError",me),Jt("ResolvedImage",tt),Jt("StylePropertyFunction",Na),Jt("StyleExpression",fu,{omit:["_evaluator"]}),Jt("ZoomDependentExpression",Ol),Jt("ZoomConstantExpression",Bl),Jt("CompoundExpression",we,{omit:["_evaluate"]});for(const i in Oa)Oa[i]._classRegistryKey||Jt(`Expression_${i}`,Oa[i]);function xu(i){return i&&typeof ArrayBuffer!="undefined"&&(i instanceof ArrayBuffer||i.constructor&&i.constructor.name==="ArrayBuffer")}function Uo(i,e){if(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||i instanceof Blob)return i;if(xu(i)||wn(i))return e&&e.push(i),i;if(ArrayBuffer.isView(i)){const a=i;return e&&e.push(a.buffer),a}if(i instanceof ImageData)return e&&e.push(i.data.buffer),i;if(Array.isArray(i)){const a=[];for(const s of i)a.push(Uo(s,e));return a}if(typeof i=="object"){const a=i.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");const d=a.serialize?a.serialize(i,e):{};if(!a.serialize){for(const f in i){if(!i.hasOwnProperty(f)||qa[s].omit.indexOf(f)>=0)continue;const m=i[f];d[f]=qa[s].shallow.indexOf(f)>=0?m:Uo(m,e)}i instanceof Error&&(d.message=i.message)}if(d.$name)throw new Error("$name property is reserved for worker serialization logic.");return s!=="Object"&&(d.$name=s),d}throw new Error("can't serialize object of type "+typeof i)}function ha(i){if(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||i instanceof Blob||xu(i)||wn(i)||ArrayBuffer.isView(i)||i instanceof ImageData)return i;if(Array.isArray(i))return i.map(ha);if(typeof i=="object"){const e=i.$name||"Object";if(!qa[e])throw new Error(`can't deserialize unregistered class ${e}`);const{klass:a}=qa[e];if(!a)throw new Error(`can't deserialize unregistered class ${e}`);if(a.deserialize)return a.deserialize(i);const s=Object.create(a.prototype);for(const d of Object.keys(i)){if(d==="$name")continue;const f=i[d];s[d]=qa[e].shallow.indexOf(d)>=0?f:ha(f)}return s}throw new Error("can't deserialize object of type "+typeof i)}class No{constructor(){this.first=!0}update(e,a){const s=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=s,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=s,!0):(this.lastFloorZoom>s?(this.lastIntegerZoom=s+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<s&&(this.lastIntegerZoom=s,this.lastIntegerZoomTime=a),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=s,!0))}}const $t={"Latin-1 Supplement":i=>i>=128&&i<=255,Arabic:i=>i>=1536&&i<=1791,"Arabic Supplement":i=>i>=1872&&i<=1919,"Arabic Extended-A":i=>i>=2208&&i<=2303,"Hangul Jamo":i=>i>=4352&&i<=4607,"Unified Canadian Aboriginal Syllabics":i=>i>=5120&&i<=5759,Khmer:i=>i>=6016&&i<=6143,"Unified Canadian Aboriginal Syllabics Extended":i=>i>=6320&&i<=6399,"General Punctuation":i=>i>=8192&&i<=8303,"Letterlike Symbols":i=>i>=8448&&i<=8527,"Number Forms":i=>i>=8528&&i<=8591,"Miscellaneous Technical":i=>i>=8960&&i<=9215,"Control Pictures":i=>i>=9216&&i<=9279,"Optical Character Recognition":i=>i>=9280&&i<=9311,"Enclosed Alphanumerics":i=>i>=9312&&i<=9471,"Geometric Shapes":i=>i>=9632&&i<=9727,"Miscellaneous Symbols":i=>i>=9728&&i<=9983,"Miscellaneous Symbols and Arrows":i=>i>=11008&&i<=11263,"CJK Radicals Supplement":i=>i>=11904&&i<=12031,"Kangxi Radicals":i=>i>=12032&&i<=12255,"Ideographic Description Characters":i=>i>=12272&&i<=12287,"CJK Symbols and Punctuation":i=>i>=12288&&i<=12351,Hiragana:i=>i>=12352&&i<=12447,Katakana:i=>i>=12448&&i<=12543,Bopomofo:i=>i>=12544&&i<=12591,"Hangul Compatibility Jamo":i=>i>=12592&&i<=12687,Kanbun:i=>i>=12688&&i<=12703,"Bopomofo Extended":i=>i>=12704&&i<=12735,"CJK Strokes":i=>i>=12736&&i<=12783,"Katakana Phonetic Extensions":i=>i>=12784&&i<=12799,"Enclosed CJK Letters and Months":i=>i>=12800&&i<=13055,"CJK Compatibility":i=>i>=13056&&i<=13311,"CJK Unified Ideographs Extension A":i=>i>=13312&&i<=19903,"Yijing Hexagram Symbols":i=>i>=19904&&i<=19967,"CJK Unified Ideographs":i=>i>=19968&&i<=40959,"Yi Syllables":i=>i>=40960&&i<=42127,"Yi Radicals":i=>i>=42128&&i<=42191,"Hangul Jamo Extended-A":i=>i>=43360&&i<=43391,"Hangul Syllables":i=>i>=44032&&i<=55215,"Hangul Jamo Extended-B":i=>i>=55216&&i<=55295,"Private Use Area":i=>i>=57344&&i<=63743,"CJK Compatibility Ideographs":i=>i>=63744&&i<=64255,"Arabic Presentation Forms-A":i=>i>=64336&&i<=65023,"Vertical Forms":i=>i>=65040&&i<=65055,"CJK Compatibility Forms":i=>i>=65072&&i<=65103,"Small Form Variants":i=>i>=65104&&i<=65135,"Arabic Presentation Forms-B":i=>i>=65136&&i<=65279,"Halfwidth and Fullwidth Forms":i=>i>=65280&&i<=65519};function wu(i){for(const e of i)if(Vo(e.charCodeAt(0)))return!0;return!1}function Sd(i){for(const e of i)if(!qp(e.charCodeAt(0)))return!1;return!0}function qp(i){return!($t.Arabic(i)||$t["Arabic Supplement"](i)||$t["Arabic Extended-A"](i)||$t["Arabic Presentation Forms-A"](i)||$t["Arabic Presentation Forms-B"](i))}function Vo(i){return!(i!==746&&i!==747&&(i<4352||!($t["Bopomofo Extended"](i)||$t.Bopomofo(i)||$t["CJK Compatibility Forms"](i)&&!(i>=65097&&i<=65103)||$t["CJK Compatibility Ideographs"](i)||$t["CJK Compatibility"](i)||$t["CJK Radicals Supplement"](i)||$t["CJK Strokes"](i)||!(!$t["CJK Symbols and Punctuation"](i)||i>=12296&&i<=12305||i>=12308&&i<=12319||i===12336)||$t["CJK Unified Ideographs Extension A"](i)||$t["CJK Unified Ideographs"](i)||$t["Enclosed CJK Letters and Months"](i)||$t["Hangul Compatibility Jamo"](i)||$t["Hangul Jamo Extended-A"](i)||$t["Hangul Jamo Extended-B"](i)||$t["Hangul Jamo"](i)||$t["Hangul Syllables"](i)||$t.Hiragana(i)||$t["Ideographic Description Characters"](i)||$t.Kanbun(i)||$t["Kangxi Radicals"](i)||$t["Katakana Phonetic Extensions"](i)||$t.Katakana(i)&&i!==12540||!(!$t["Halfwidth and Fullwidth Forms"](i)||i===65288||i===65289||i===65293||i>=65306&&i<=65310||i===65339||i===65341||i===65343||i>=65371&&i<=65503||i===65507||i>=65512&&i<=65519)||!(!$t["Small Form Variants"](i)||i>=65112&&i<=65118||i>=65123&&i<=65126)||$t["Unified Canadian Aboriginal Syllabics"](i)||$t["Unified Canadian Aboriginal Syllabics Extended"](i)||$t["Vertical Forms"](i)||$t["Yijing Hexagram Symbols"](i)||$t["Yi Syllables"](i)||$t["Yi Radicals"](i))))}function Ed(i){return!(Vo(i)||function(e){return!!($t["Latin-1 Supplement"](e)&&(e===167||e===169||e===174||e===177||e===188||e===189||e===190||e===215||e===247)||$t["General Punctuation"](e)&&(e===8214||e===8224||e===8225||e===8240||e===8241||e===8251||e===8252||e===8258||e===8263||e===8264||e===8265||e===8273)||$t["Letterlike Symbols"](e)||$t["Number Forms"](e)||$t["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||e===9003||e>=9085&&e<=9114||e>=9150&&e<=9165||e===9167||e>=9169&&e<=9179||e>=9186&&e<=9215)||$t["Control Pictures"](e)&&e!==9251||$t["Optical Character Recognition"](e)||$t["Enclosed Alphanumerics"](e)||$t["Geometric Shapes"](e)||$t["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||$t["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||$t["CJK Symbols and Punctuation"](e)||$t.Katakana(e)||$t["Private Use Area"](e)||$t["CJK Compatibility Forms"](e)||$t["Small Form Variants"](e)||$t["Halfwidth and Fullwidth Forms"](e)||e===8734||e===8756||e===8757||e>=9984&&e<=10087||e>=10102&&e<=10131||e===65532||e===65533)}(i))}function Td(i){return i>=1424&&i<=2303||$t["Arabic Presentation Forms-A"](i)||$t["Arabic Presentation Forms-B"](i)}function Zp(i,e){return!(!e&&Td(i)||i>=2304&&i<=3583||i>=3840&&i<=4255||$t.Khmer(i))}function Wp(i){for(const e of i)if(Td(e.charCodeAt(0)))return!0;return!1}const ql="deferred",bu="loading",Su="loaded";let Eu=null,ki="unavailable",Wr=null;const Ad=function(i){i&&typeof i=="string"&&i.indexOf("NetworkError")>-1&&(ki="error"),Eu&&Eu(i)};function Tu(){Za.fire(new Ie("pluginStateChange",{pluginStatus:ki,pluginURL:Wr}))}const Za=new xe,Au=function(){return ki},Zl=function(){if(ki!==ql||!Wr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ki=bu,Tu(),Wr&&ri({url:Wr},i=>{i?Ad(i):(ki=Su,Tu())})},Ki={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ki===Su||Ki.applyArabicShaping!=null,isLoading:()=>ki===bu,setState(i){ki=i.pluginStatus,Wr=i.pluginURL},isParsed:()=>Ki.applyArabicShaping!=null&&Ki.processBidirectionalText!=null&&Ki.processStyledBidirectionalText!=null,getPluginURL:()=>Wr};class pn{constructor(e,a){this.zoom=e,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new No,this.transition={})}isSupportedScript(e){return function(a,s){for(const d of a)if(!Zp(d.charCodeAt(0),s))return!1;return!0}(e,Ki.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,a=e-Math.floor(e),s=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*s}:{fromScale:.5,toScale:1,t:1-(1-s)*a}}}class Wl{constructor(e,a){this.property=e,this.value=a,this.expression=function(s,d){if(zl(s))return new Na(s,d);if(Rl(s)){const f=mu(s,d);if(f.result==="error")throw new Error(f.value.map(m=>`${m.key}: ${m.message}`).join(", "));return f.value}{let f=s;return typeof s=="string"&&d.type==="color"&&(f=P.parse(s)),{kind:"constant",evaluate:()=>f}}}(a===void 0?e.specification.default:a,e.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(e,a,s){return this.property.possiblyEvaluate(this,e,a,s)}}class Hl{constructor(e){this.property=e,this.value=new Wl(e,void 0)}transitioned(e,a){return new kd(this.property,this.value,a,It({},e.transition,this.transition),e.now)}untransitioned(){return new kd(this.property,this.value,null,{},0)}}class ku{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return ut(this._values[e].value.value)}setValue(e,a){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Hl(this._values[e].property)),this._values[e].value=new Wl(this._values[e].property,a===null?void 0:ut(a))}getTransition(e){return ut(this._values[e].transition)}setTransition(e,a){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Hl(this._values[e].property)),this._values[e].transition=ut(a)||void 0}serialize(){const e={};for(const a of Object.keys(this._values)){const s=this.getValue(a);s!==void 0&&(e[a]=s);const d=this.getTransition(a);d!==void 0&&(e[`${a}-transition`]=d)}return e}transitioned(e,a){const s=new Cd(this._properties);for(const d of Object.keys(this._values))s._values[d]=this._values[d].transitioned(e,a._values[d]);return s}untransitioned(){const e=new Cd(this._properties);for(const a of Object.keys(this._values))e._values[a]=this._values[a].untransitioned();return e}}class kd{constructor(e,a,s,d,f){this.property=e,this.value=a,this.begin=f+d.delay||0,this.end=this.begin+d.duration||0,e.specification.transition&&(d.delay||d.duration)&&(this.prior=s)}possiblyEvaluate(e,a,s){const d=e.now||0,f=this.value.possiblyEvaluate(e,a,s),m=this.prior;if(m){if(d>this.end)return this.prior=null,f;if(this.value.isDataDriven())return this.prior=null,f;if(d<this.begin)return m.possiblyEvaluate(e,a,s);{const x=(d-this.begin)/(this.end-this.begin);return this.property.interpolate(m.possiblyEvaluate(e,a,s),f,function(b){if(b<=0)return 0;if(b>=1)return 1;const A=b*b,I=A*b;return 4*(b<.5?I:3*(b-A)+I-.75)}(x))}}return f}}class Cd{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,a,s){const d=new Xl(this._properties);for(const f of Object.keys(this._values))d._values[f]=this._values[f].possiblyEvaluate(e,a,s);return d}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Hp{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return ut(this._values[e].value)}setValue(e,a){this._values[e]=new Wl(this._values[e].property,a===null?void 0:ut(a))}serialize(){const e={};for(const a of Object.keys(this._values)){const s=this.getValue(a);s!==void 0&&(e[a]=s)}return e}possiblyEvaluate(e,a,s){const d=new Xl(this._properties);for(const f of Object.keys(this._values))d._values[f]=this._values[f].possiblyEvaluate(e,a,s);return d}}class vr{constructor(e,a,s){this.property=e,this.value=a,this.parameters=s}isConstant(){return this.value.kind==="constant"}constantOr(e){return this.value.kind==="constant"?this.value.value:e}evaluate(e,a,s,d){return this.property.evaluate(this.value,this.parameters,e,a,s,d)}}class Xl{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class ne{constructor(e){this.specification=e}possiblyEvaluate(e,a){return e.expression.evaluate(a)}interpolate(e,a,s){const d=Mo[this.specification.type];return d?d(e,a,s):e}}class he{constructor(e,a){this.specification=e,this.overrides=a}possiblyEvaluate(e,a,s,d){return new vr(this,e.expression.kind==="constant"||e.expression.kind==="camera"?{kind:"constant",value:e.expression.evaluate(a,null,{},s,d)}:e.expression,a)}interpolate(e,a,s){if(e.value.kind!=="constant"||a.value.kind!=="constant")return e;if(e.value.value===void 0||a.value.value===void 0)return new vr(this,{kind:"constant",value:void 0},e.parameters);const d=Mo[this.specification.type];return d?new vr(this,{kind:"constant",value:d(e.value.value,a.value.value,s)},e.parameters):e}evaluate(e,a,s,d,f,m){return e.kind==="constant"?e.value:e.evaluate(a,s,d,f,m)}}class jo extends he{possiblyEvaluate(e,a,s,d){if(e.value===void 0)return new vr(this,{kind:"constant",value:void 0},a);if(e.expression.kind==="constant"){const f=e.expression.evaluate(a,null,{},s,d),m=e.property.specification.type==="resolvedImage"&&typeof f!="string"?f.name:f,x=this._calculate(m,m,m,a);return new vr(this,{kind:"constant",value:x},a)}if(e.expression.kind==="camera"){const f=this._calculate(e.expression.evaluate({zoom:a.zoom-1}),e.expression.evaluate({zoom:a.zoom}),e.expression.evaluate({zoom:a.zoom+1}),a);return new vr(this,{kind:"constant",value:f},a)}return new vr(this,e.expression,a)}evaluate(e,a,s,d,f,m){if(e.kind==="source"){const x=e.evaluate(a,s,d,f,m);return this._calculate(x,x,x,a)}return e.kind==="composite"?this._calculate(e.evaluate({zoom:Math.floor(a.zoom)-1},s,d),e.evaluate({zoom:Math.floor(a.zoom)},s,d),e.evaluate({zoom:Math.floor(a.zoom)+1},s,d),a):e.value}_calculate(e,a,s,d){return d.zoom>d.zoomHistory.lastIntegerZoom?{from:e,to:a}:{from:s,to:a}}interpolate(e){return e}}class $o{constructor(e){this.specification=e}possiblyEvaluate(e,a,s,d){if(e.value!==void 0){if(e.expression.kind==="constant"){const f=e.expression.evaluate(a,null,{},s,d);return this._calculate(f,f,f,a)}return this._calculate(e.expression.evaluate(new pn(Math.floor(a.zoom-1),a)),e.expression.evaluate(new pn(Math.floor(a.zoom),a)),e.expression.evaluate(new pn(Math.floor(a.zoom+1),a)),a)}}_calculate(e,a,s,d){return d.zoom>d.zoomHistory.lastIntegerZoom?{from:e,to:a}:{from:s,to:a}}interpolate(e){return e}}class Cu{constructor(e){this.specification=e}possiblyEvaluate(e,a,s,d){return!!e.expression.evaluate(a,null,{},s,d)}interpolate(){return!1}}class Wn{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const a in e){const s=e[a];s.specification.overridable&&this.overridableProperties.push(a);const d=this.defaultPropertyValues[a]=new Wl(s,void 0),f=this.defaultTransitionablePropertyValues[a]=new Hl(s);this.defaultTransitioningPropertyValues[a]=f.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=d.possiblyEvaluate({})}}}Jt("DataDrivenProperty",he),Jt("DataConstantProperty",ne),Jt("CrossFadedDataDrivenProperty",jo),Jt("CrossFadedProperty",$o),Jt("ColorRampProperty",Cu);const pa="-transition";class Ci extends xe{constructor(e,a){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},e.type!=="custom"&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,e.type!=="background"&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),a.layout&&(this._unevaluatedLayout=new Hp(a.layout)),a.paint)){this._transitionablePaint=new ku(a.paint);for(const s in e.paint)this.setPaintProperty(s,e.paint[s],{validate:!1});for(const s in e.layout)this.setLayoutProperty(s,e.layout[s],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xl(a.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return e==="visibility"?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,a,s={}){a!=null&&this._validate(Gp,`layers.${this.id}.layout.${e}`,e,a,s)||(e!=="visibility"?this._unevaluatedLayout.setValue(e,a):this.visibility=a)}getPaintProperty(e){return e.endsWith(pa)?this._transitionablePaint.getTransition(e.slice(0,-pa.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,a,s={}){if(a!=null&&this._validate(vu,`layers.${this.id}.paint.${e}`,e,a,s))return!1;if(e.endsWith(pa))return this._transitionablePaint.setTransition(e.slice(0,-pa.length),a||void 0),!1;{const d=this._transitionablePaint._values[e],f=d.property.specification["property-type"]==="cross-faded-data-driven",m=d.value.isDataDriven(),x=d.value;this._transitionablePaint.setValue(e,a),this._handleSpecialPaintPropertyUpdate(e);const b=this._transitionablePaint._values[e].value;return b.isDataDriven()||m||f||this._handleOverridablePaintPropertyUpdate(e,x,b)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,a,s){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||this.visibility==="none"}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,a){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,a)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),nt(e,(a,s)=>!(a===void 0||s==="layout"&&!Object.keys(a).length||s==="paint"&&!Object.keys(a).length))}_validate(e,a,s,d,f={}){return(!f||f.validate!==!1)&&bd(this,e.call(ca,{key:a,layerType:this.type,objectKey:s,value:d,styleSpec:pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const a=this.paint.get(e);if(a instanceof vr&&Ua(a.property.specification)&&(a.value.kind==="source"||a.value.kind==="composite")&&a.value.isStateDependent)return!0}return!1}}const Xp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Go{constructor(e,a){this._structArray=e,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class dn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,a){return e._trim(),a&&(e.isTransferred=!0,a.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const a=Object.create(this.prototype);return a.arrayBuffer=e.arrayBuffer,a.length=e.length,a.capacity=e.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Hn(i,e=1){let a=0,s=0;return{members:i.map(d=>{const f=Xp[d.type].BYTES_PER_ELEMENT,m=a=Id(a,Math.max(e,f)),x=d.components||1;return s=Math.max(s,f),a+=f*x,{name:d.name,type:d.type,components:x,offset:m}}),size:Id(a,Math.max(s,e)),alignment:e}}function Id(i,e){return Math.ceil(i/e)*e}class Wa extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,a)}emplace(e,a,s){const d=2*e;return this.int16[d+0]=a,this.int16[d+1]=s,e}}Wa.prototype.bytesPerElement=4,Jt("StructArrayLayout2i4",Wa);class qo extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,e,a,s,d)}emplace(e,a,s,d,f){const m=4*e;return this.int16[m+0]=a,this.int16[m+1]=s,this.int16[m+2]=d,this.int16[m+3]=f,e}}qo.prototype.bytesPerElement=8,Jt("StructArrayLayout4i8",qo);class h extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,a,s,d,f,m)}emplace(e,a,s,d,f,m,x){const b=6*e;return this.int16[b+0]=a,this.int16[b+1]=s,this.int16[b+2]=d,this.int16[b+3]=f,this.int16[b+4]=m,this.int16[b+5]=x,e}}h.prototype.bytesPerElement=12,Jt("StructArrayLayout2i4i12",h);class n extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,a,s,d,f,m)}emplace(e,a,s,d,f,m,x){const b=4*e,A=8*e;return this.int16[b+0]=a,this.int16[b+1]=s,this.uint8[A+4]=d,this.uint8[A+5]=f,this.uint8[A+6]=m,this.uint8[A+7]=x,e}}n.prototype.bytesPerElement=8,Jt("StructArrayLayout2i4ub8",n);class o extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,a)}emplace(e,a,s){const d=2*e;return this.float32[d+0]=a,this.float32[d+1]=s,e}}o.prototype.bytesPerElement=8,Jt("StructArrayLayout2f8",o);class c extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m,x,b,A,I){const M=this.length;return this.resize(M+1),this.emplace(M,e,a,s,d,f,m,x,b,A,I)}emplace(e,a,s,d,f,m,x,b,A,I,M){const D=10*e;return this.uint16[D+0]=a,this.uint16[D+1]=s,this.uint16[D+2]=d,this.uint16[D+3]=f,this.uint16[D+4]=m,this.uint16[D+5]=x,this.uint16[D+6]=b,this.uint16[D+7]=A,this.uint16[D+8]=I,this.uint16[D+9]=M,e}}c.prototype.bytesPerElement=20,Jt("StructArrayLayout10ui20",c);class g extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m,x,b,A,I,M,D){const R=this.length;return this.resize(R+1),this.emplace(R,e,a,s,d,f,m,x,b,A,I,M,D)}emplace(e,a,s,d,f,m,x,b,A,I,M,D,R){const B=12*e;return this.int16[B+0]=a,this.int16[B+1]=s,this.int16[B+2]=d,this.int16[B+3]=f,this.uint16[B+4]=m,this.uint16[B+5]=x,this.uint16[B+6]=b,this.uint16[B+7]=A,this.int16[B+8]=I,this.int16[B+9]=M,this.int16[B+10]=D,this.int16[B+11]=R,e}}g.prototype.bytesPerElement=24,Jt("StructArrayLayout4i4ui4i24",g);class y extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,a,s){const d=this.length;return this.resize(d+1),this.emplace(d,e,a,s)}emplace(e,a,s,d){const f=3*e;return this.float32[f+0]=a,this.float32[f+1]=s,this.float32[f+2]=d,e}}y.prototype.bytesPerElement=12,Jt("StructArrayLayout3f12",y);class w extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const a=this.length;return this.resize(a+1),this.emplace(a,e)}emplace(e,a){return this.uint32[1*e+0]=a,e}}w.prototype.bytesPerElement=4,Jt("StructArrayLayout1ul4",w);class S extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m,x,b,A){const I=this.length;return this.resize(I+1),this.emplace(I,e,a,s,d,f,m,x,b,A)}emplace(e,a,s,d,f,m,x,b,A,I){const M=10*e,D=5*e;return this.int16[M+0]=a,this.int16[M+1]=s,this.int16[M+2]=d,this.int16[M+3]=f,this.int16[M+4]=m,this.int16[M+5]=x,this.uint32[D+3]=b,this.uint16[M+8]=A,this.uint16[M+9]=I,e}}S.prototype.bytesPerElement=20,Jt("StructArrayLayout6i1ul2ui20",S);class E extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m){const x=this.length;return this.resize(x+1),this.emplace(x,e,a,s,d,f,m)}emplace(e,a,s,d,f,m,x){const b=6*e;return this.int16[b+0]=a,this.int16[b+1]=s,this.int16[b+2]=d,this.int16[b+3]=f,this.int16[b+4]=m,this.int16[b+5]=x,e}}E.prototype.bytesPerElement=12,Jt("StructArrayLayout2i2i2i12",E);class C extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f){const m=this.length;return this.resize(m+1),this.emplace(m,e,a,s,d,f)}emplace(e,a,s,d,f,m){const x=4*e,b=8*e;return this.float32[x+0]=a,this.float32[x+1]=s,this.float32[x+2]=d,this.int16[b+6]=f,this.int16[b+7]=m,e}}C.prototype.bytesPerElement=16,Jt("StructArrayLayout2f1f2i16",C);class z extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,a,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,e,a,s,d)}emplace(e,a,s,d,f){const m=12*e,x=3*e;return this.uint8[m+0]=a,this.uint8[m+1]=s,this.float32[x+1]=d,this.float32[x+2]=f,e}}z.prototype.bytesPerElement=12,Jt("StructArrayLayout2ub2f12",z);class L extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,a,s){const d=this.length;return this.resize(d+1),this.emplace(d,e,a,s)}emplace(e,a,s,d){const f=3*e;return this.uint16[f+0]=a,this.uint16[f+1]=s,this.uint16[f+2]=d,e}}L.prototype.bytesPerElement=6,Jt("StructArrayLayout3ui6",L);class U extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m,x,b,A,I,M,D,R,B,X,K,lt){const ht=this.length;return this.resize(ht+1),this.emplace(ht,e,a,s,d,f,m,x,b,A,I,M,D,R,B,X,K,lt)}emplace(e,a,s,d,f,m,x,b,A,I,M,D,R,B,X,K,lt,ht){const ct=24*e,wt=12*e,Ct=48*e;return this.int16[ct+0]=a,this.int16[ct+1]=s,this.uint16[ct+2]=d,this.uint16[ct+3]=f,this.uint32[wt+2]=m,this.uint32[wt+3]=x,this.uint32[wt+4]=b,this.uint16[ct+10]=A,this.uint16[ct+11]=I,this.uint16[ct+12]=M,this.float32[wt+7]=D,this.float32[wt+8]=R,this.uint8[Ct+36]=B,this.uint8[Ct+37]=X,this.uint8[Ct+38]=K,this.uint32[wt+10]=lt,this.int16[ct+22]=ht,e}}U.prototype.bytesPerElement=48,Jt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",U);class W extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,a,s,d,f,m,x,b,A,I,M,D,R,B,X,K,lt,ht,ct,wt,Ct,Tt,Qt,le,Zt,Wt,Bt,Yt){const Ht=this.length;return this.resize(Ht+1),this.emplace(Ht,e,a,s,d,f,m,x,b,A,I,M,D,R,B,X,K,lt,ht,ct,wt,Ct,Tt,Qt,le,Zt,Wt,Bt,Yt)}emplace(e,a,s,d,f,m,x,b,A,I,M,D,R,B,X,K,lt,ht,ct,wt,Ct,Tt,Qt,le,Zt,Wt,Bt,Yt,Ht){const zt=34*e,pe=17*e;return this.int16[zt+0]=a,this.int16[zt+1]=s,this.int16[zt+2]=d,this.int16[zt+3]=f,this.int16[zt+4]=m,this.int16[zt+5]=x,this.int16[zt+6]=b,this.int16[zt+7]=A,this.uint16[zt+8]=I,this.uint16[zt+9]=M,this.uint16[zt+10]=D,this.uint16[zt+11]=R,this.uint16[zt+12]=B,this.uint16[zt+13]=X,this.uint16[zt+14]=K,this.uint16[zt+15]=lt,this.uint16[zt+16]=ht,this.uint16[zt+17]=ct,this.uint16[zt+18]=wt,this.uint16[zt+19]=Ct,this.uint16[zt+20]=Tt,this.uint16[zt+21]=Qt,this.uint16[zt+22]=le,this.uint32[pe+12]=Zt,this.float32[pe+13]=Wt,this.float32[pe+14]=Bt,this.float32[pe+15]=Yt,this.float32[pe+16]=Ht,e}}W.prototype.bytesPerElement=68,Jt("StructArrayLayout8i15ui1ul4f68",W);class N extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const a=this.length;return this.resize(a+1),this.emplace(a,e)}emplace(e,a){return this.float32[1*e+0]=a,e}}N.prototype.bytesPerElement=4,Jt("StructArrayLayout1f4",N);class q extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,a,s){const d=this.length;return this.resize(d+1),this.emplace(d,e,a,s)}emplace(e,a,s,d){const f=3*e;return this.int16[f+0]=a,this.int16[f+1]=s,this.int16[f+2]=d,e}}q.prototype.bytesPerElement=6,Jt("StructArrayLayout3i6",q);class it extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,a,s){const d=this.length;return this.resize(d+1),this.emplace(d,e,a,s)}emplace(e,a,s,d){const f=4*e;return this.uint32[2*e+0]=a,this.uint16[f+2]=s,this.uint16[f+3]=d,e}}it.prototype.bytesPerElement=8,Jt("StructArrayLayout1ul2ui8",it);class rt extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,a)}emplace(e,a,s){const d=2*e;return this.uint16[d+0]=a,this.uint16[d+1]=s,e}}rt.prototype.bytesPerElement=4,Jt("StructArrayLayout2ui4",rt);class st extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const a=this.length;return this.resize(a+1),this.emplace(a,e)}emplace(e,a){return this.uint16[1*e+0]=a,e}}st.prototype.bytesPerElement=2,Jt("StructArrayLayout1ui2",st);class ot extends dn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,a,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,e,a,s,d)}emplace(e,a,s,d,f){const m=4*e;return this.float32[m+0]=a,this.float32[m+1]=s,this.float32[m+2]=d,this.float32[m+3]=f,e}}ot.prototype.bytesPerElement=16,Jt("StructArrayLayout4f16",ot);class Et extends Go{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ae(this.anchorPointX,this.anchorPointY)}}Et.prototype.size=20;class mt extends S{get(e){return new Et(this,e)}}Jt("CollisionBoxArray",mt);class xt extends Go{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}xt.prototype.size=48;class Mt extends U{get(e){return new xt(this,e)}}Jt("PlacedSymbolArray",Mt);class Rt extends Go{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Rt.prototype.size=68;class St extends W{get(e){return new Rt(this,e)}}Jt("SymbolInstanceArray",St);class te extends N{getoffsetX(e){return this.float32[1*e+0]}}Jt("GlyphOffsetArray",te);class Gt extends q{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Jt("SymbolLineVertexArray",Gt);class fe extends Go{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}fe.prototype.size=8;class Oe extends it{get(e){return new fe(this,e)}}Jt("FeatureIndexArray",Oe);class Me extends Wa{}class Re extends Wa{}class An extends h{}class _e extends n{}class Ve extends o{}class Je extends c{}class ei extends g{}class Oi extends y{}class Yi extends w{}class Ji extends E{}class Hr extends z{}class Ii extends L{}class xr extends rt{}const ga=Hn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ui}=ga;class je{constructor(e=[]){this.segments=e}prepareSegment(e,a,s,d){let f=this.segments[this.segments.length-1];return e>je.MAX_VERTEX_ARRAY_LENGTH&&bt(`Max vertices per segment is ${je.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!f||f.vertexLength+e>je.MAX_VERTEX_ARRAY_LENGTH||f.sortKey!==d)&&(f={vertexOffset:a.length,primitiveOffset:s.length,vertexLength:0,primitiveLength:0},d!==void 0&&(f.sortKey=d),this.segments.push(f)),f}get(){return this.segments}destroy(){for(const e of this.segments)for(const a in e.vaos)e.vaos[a].destroy()}static simpleSegment(e,a,s,d){return new je([{vertexOffset:e,primitiveOffset:a,vertexLength:s,primitiveLength:d,vaos:{},sortKey:0}])}}function Ze(i,e){return 256*(i=V(Math.floor(i),0,255))+V(Math.floor(e),0,255)}je.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Jt("SegmentVector",je);const Nn=Hn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var fi={exports:{}},gn={exports:{}};gn.exports=function(i,e){var a,s,d,f,m,x,b,A;for(s=i.length-(a=3&i.length),d=e,m=3432918353,x=461845907,A=0;A<s;)b=255&i.charCodeAt(A)|(255&i.charCodeAt(++A))<<8|(255&i.charCodeAt(++A))<<16|(255&i.charCodeAt(++A))<<24,++A,d=27492+(65535&(f=5*(65535&(d=(d^=b=(65535&(b=(b=(65535&b)*m+(((b>>>16)*m&65535)<<16)&4294967295)<<15|b>>>17))*x+(((b>>>16)*x&65535)<<16)&4294967295)<<13|d>>>19))+((5*(d>>>16)&65535)<<16)&4294967295))+((58964+(f>>>16)&65535)<<16);switch(b=0,a){case 3:b^=(255&i.charCodeAt(A+2))<<16;case 2:b^=(255&i.charCodeAt(A+1))<<8;case 1:d^=b=(65535&(b=(b=(65535&(b^=255&i.charCodeAt(A)))*m+(((b>>>16)*m&65535)<<16)&4294967295)<<15|b>>>17))*x+(((b>>>16)*x&65535)<<16)&4294967295}return d^=i.length,d=2246822507*(65535&(d^=d>>>16))+((2246822507*(d>>>16)&65535)<<16)&4294967295,d=3266489909*(65535&(d^=d>>>13))+((3266489909*(d>>>16)&65535)<<16)&4294967295,(d^=d>>>16)>>>0};var fa={exports:{}};fa.exports=function(i,e){for(var a,s=i.length,d=e^s,f=0;s>=4;)a=1540483477*(65535&(a=255&i.charCodeAt(f)|(255&i.charCodeAt(++f))<<8|(255&i.charCodeAt(++f))<<16|(255&i.charCodeAt(++f))<<24))+((1540483477*(a>>>16)&65535)<<16),d=1540483477*(65535&d)+((1540483477*(d>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),s-=4,++f;switch(s){case 3:d^=(255&i.charCodeAt(f+2))<<16;case 2:d^=(255&i.charCodeAt(f+1))<<8;case 1:d=1540483477*(65535&(d^=255&i.charCodeAt(f)))+((1540483477*(d>>>16)&65535)<<16)}return d=1540483477*(65535&(d^=d>>>13))+((1540483477*(d>>>16)&65535)<<16),(d^=d>>>15)>>>0};var wr=gn.exports,Kl=fa.exports;fi.exports=wr,fi.exports.murmur3=wr,fi.exports.murmur2=Kl;var Iu=fi.exports;class Yl{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,a,s,d){this.ids.push(Pd(e)),this.positions.push(a,s,d)}getPositions(e){const a=Pd(e);let s=0,d=this.ids.length-1;for(;s<d;){const m=s+d>>1;this.ids[m]>=a?d=m:s=m+1}const f=[];for(;this.ids[s]===a;)f.push({index:this.positions[3*s],start:this.positions[3*s+1],end:this.positions[3*s+2]}),s++;return f}static serialize(e,a){const s=new Float64Array(e.ids),d=new Uint32Array(e.positions);return ma(s,d,0,s.length-1),a&&a.push(s.buffer,d.buffer),{ids:s,positions:d}}static deserialize(e){const a=new Yl;return a.ids=e.ids,a.positions=e.positions,a.indexed=!0,a}}function Pd(i){const e=+i;return!isNaN(e)&&e<=Number.MAX_SAFE_INTEGER?e:Iu(String(i))}function ma(i,e,a,s){for(;a<s;){const d=i[a+s>>1];let f=a-1,m=s+1;for(;;){do f++;while(i[f]<d);do m--;while(i[m]>d);if(f>=m)break;Jl(i,f,m),Jl(e,3*f,3*m),Jl(e,3*f+1,3*m+1),Jl(e,3*f+2,3*m+2)}m-a<s-m?(ma(i,e,a,m),a=m+1):(ma(i,e,m+1,s),s=m)}}function Jl(i,e,a){const s=i[e];i[e]=i[a],i[a]=s}Jt("FeaturePositionMap",Yl);class br{constructor(e,a){this.gl=e.gl,this.location=a}}class Ha extends br{constructor(e,a){super(e,a),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class B0 extends br{constructor(e,a){super(e,a),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class O0 extends br{constructor(e,a){super(e,a),this.current=P.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const C7=new Float32Array(16);function Kp(i){return[Ze(255*i.r,255*i.g),Ze(255*i.b,255*i.a)]}class Pu{constructor(e,a,s){this.value=e,this.uniformNames=a.map(d=>`u_${d}`),this.type=s}setUniform(e,a,s){e.set(s.constantOr(this.value))}getBinding(e,a,s){return this.type==="color"?new O0(e,a):new Ha(e,a)}}class Ql{constructor(e,a){this.uniformNames=a.map(s=>`u_${s}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=e.tlbr}setUniform(e,a,s,d){const f=d==="u_pattern_to"?this.patternTo:d==="u_pattern_from"?this.patternFrom:d==="u_pixel_ratio_to"?this.pixelRatioTo:d==="u_pixel_ratio_from"?this.pixelRatioFrom:null;f&&e.set(f)}getBinding(e,a,s){return s.substr(0,9)==="u_pattern"?new B0(e,a):new Ha(e,a)}}class ya{constructor(e,a,s,d){this.expression=e,this.type=s,this.maxValue=0,this.paintVertexAttributes=a.map(f=>({name:`a_${f}`,type:"Float32",components:s==="color"?2:1,offset:0})),this.paintVertexArray=new d}populatePaintArray(e,a,s,d,f){const m=this.paintVertexArray.length,x=this.expression.evaluate(new pn(0),a,{},d,[],f);this.paintVertexArray.resize(e),this._setPaintValue(m,e,x)}updatePaintArray(e,a,s,d){const f=this.expression.evaluate({zoom:0},s,d);this._setPaintValue(e,a,f)}_setPaintValue(e,a,s){if(this.type==="color"){const d=Kp(s);for(let f=e;f<a;f++)this.paintVertexArray.emplace(f,d[0],d[1])}else{for(let d=e;d<a;d++)this.paintVertexArray.emplace(d,s);this.maxValue=Math.max(this.maxValue,Math.abs(s))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Br{constructor(e,a,s,d,f,m){this.expression=e,this.uniformNames=a.map(x=>`u_${x}_t`),this.type=s,this.useIntegerZoom=d,this.zoom=f,this.maxValue=0,this.paintVertexAttributes=a.map(x=>({name:`a_${x}`,type:"Float32",components:s==="color"?4:2,offset:0})),this.paintVertexArray=new m}populatePaintArray(e,a,s,d,f){const m=this.expression.evaluate(new pn(this.zoom),a,{},d,[],f),x=this.expression.evaluate(new pn(this.zoom+1),a,{},d,[],f),b=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(b,e,m,x)}updatePaintArray(e,a,s,d){const f=this.expression.evaluate({zoom:this.zoom},s,d),m=this.expression.evaluate({zoom:this.zoom+1},s,d);this._setPaintValue(e,a,f,m)}_setPaintValue(e,a,s,d){if(this.type==="color"){const f=Kp(s),m=Kp(d);for(let x=e;x<a;x++)this.paintVertexArray.emplace(x,f[0],f[1],m[0],m[1])}else{for(let f=e;f<a;f++)this.paintVertexArray.emplace(f,s,d);this.maxValue=Math.max(this.maxValue,Math.abs(s),Math.abs(d))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,a){const s=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,d=V(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);e.set(d)}getBinding(e,a,s){return new Ha(e,a)}}class Xa{constructor(e,a,s,d,f,m){this.expression=e,this.type=a,this.useIntegerZoom=s,this.zoom=d,this.layerId=m,this.zoomInPaintVertexArray=new f,this.zoomOutPaintVertexArray=new f}populatePaintArray(e,a,s){const d=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(d,e,a.patterns&&a.patterns[this.layerId],s)}updatePaintArray(e,a,s,d,f){this._setPaintValues(e,a,s.patterns&&s.patterns[this.layerId],f)}_setPaintValues(e,a,s,d){if(!d||!s)return;const{min:f,mid:m,max:x}=s,b=d[f],A=d[m],I=d[x];if(b&&A&&I)for(let M=e;M<a;M++)this.zoomInPaintVertexArray.emplace(M,A.tl[0],A.tl[1],A.br[0],A.br[1],b.tl[0],b.tl[1],b.br[0],b.br[1],A.pixelRatio,b.pixelRatio),this.zoomOutPaintVertexArray.emplace(M,A.tl[0],A.tl[1],A.br[0],A.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],A.pixelRatio,I.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,Nn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,Nn.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class U0{constructor(e,a,s){this.binders={},this._buffers=[];const d=[];for(const f in e.paint._values){if(!s(f))continue;const m=e.paint.get(f);if(!(m instanceof vr&&Ua(m.property.specification)))continue;const x=I7(f,e.type),b=m.value,A=m.property.specification.type,I=m.property.useIntegerZoom,M=m.property.specification["property-type"],D=M==="cross-faded"||M==="cross-faded-data-driven";if(b.kind==="constant")this.binders[f]=D?new Ql(b.value,x):new Pu(b.value,x,A),d.push(`/u_${f}`);else if(b.kind==="source"||D){const R=N0(f,A,"source");this.binders[f]=D?new Xa(b,A,I,a,R,e.id):new ya(b,x,A,R),d.push(`/a_${f}`)}else{const R=N0(f,A,"composite");this.binders[f]=new Br(b,x,A,I,a,R),d.push(`/z_${f}`)}}this.cacheKey=d.sort().join("")}getMaxValue(e){const a=this.binders[e];return a instanceof ya||a instanceof Br?a.maxValue:0}populatePaintArrays(e,a,s,d,f){for(const m in this.binders){const x=this.binders[m];(x instanceof ya||x instanceof Br||x instanceof Xa)&&x.populatePaintArray(e,a,s,d,f)}}setConstantPatternPositions(e,a){for(const s in this.binders){const d=this.binders[s];d instanceof Ql&&d.setConstantPatternPositions(e,a)}}updatePaintArrays(e,a,s,d,f){let m=!1;for(const x in e){const b=a.getPositions(x);for(const A of b){const I=s.feature(A.index);for(const M in this.binders){const D=this.binders[M];if((D instanceof ya||D instanceof Br||D instanceof Xa)&&D.expression.isStateDependent===!0){const R=d.paint.get(M);D.expression=R.value,D.updatePaintArray(A.start,A.end,I,e[x],f),m=!0}}}}return m}defines(){const e=[];for(const a in this.binders){const s=this.binders[a];(s instanceof Pu||s instanceof Ql)&&e.push(...s.uniformNames.map(d=>`#define HAS_UNIFORM_${d}`))}return e}getBinderAttributes(){const e=[];for(const a in this.binders){const s=this.binders[a];if(s instanceof ya||s instanceof Br)for(let d=0;d<s.paintVertexAttributes.length;d++)e.push(s.paintVertexAttributes[d].name);else if(s instanceof Xa)for(let d=0;d<Nn.members.length;d++)e.push(Nn.members[d].name)}return e}getBinderUniforms(){const e=[];for(const a in this.binders){const s=this.binders[a];if(s instanceof Pu||s instanceof Ql||s instanceof Br)for(const d of s.uniformNames)e.push(d)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,a){const s=[];for(const d in this.binders){const f=this.binders[d];if(f instanceof Pu||f instanceof Ql||f instanceof Br){for(const m of f.uniformNames)if(a[m]){const x=f.getBinding(e,a[m],m);s.push({name:m,property:d,binding:x})}}}return s}setUniforms(e,a,s,d){for(const{name:f,property:m,binding:x}of a)this.binders[m].setUniform(x,d,s.get(m),f)}updatePaintBuffers(e){this._buffers=[];for(const a in this.binders){const s=this.binders[a];if(e&&s instanceof Xa){const d=e.fromScale===2?s.zoomInPaintVertexBuffer:s.zoomOutPaintVertexBuffer;d&&this._buffers.push(d)}else(s instanceof ya||s instanceof Br)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(e){for(const a in this.binders){const s=this.binders[a];(s instanceof ya||s instanceof Br||s instanceof Xa)&&s.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const a=this.binders[e];(a instanceof ya||a instanceof Br||a instanceof Xa)&&a.destroy()}}}class Zo{constructor(e,a,s=()=>!0){this.programConfigurations={};for(const d of e)this.programConfigurations[d.id]=new U0(d,a,s);this.needsUpload=!1,this._featureMap=new Yl,this._bufferOffset=0}populatePaintArrays(e,a,s,d,f,m){for(const x in this.programConfigurations)this.programConfigurations[x].populatePaintArrays(e,a,d,f,m);a.id!==void 0&&this._featureMap.add(a.id,s,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,a,s,d){for(const f of s)this.needsUpload=this.programConfigurations[f.id].updatePaintArrays(e,this._featureMap,a,f,d)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function I7(i,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[i]||[i.replace(`${e}-`,"").replace(/-/g,"_")]}function N0(i,e,a){const s={color:{source:o,composite:ot},number:{source:N,composite:o}},d=function(f){return{"line-pattern":{source:Je,composite:Je},"fill-pattern":{source:Je,composite:Je},"fill-extrusion-pattern":{source:Je,composite:Je}}[f]}(i);return d&&d[a]||s[e][a]}Jt("ConstantBinder",Pu),Jt("CrossFadedConstantBinder",Ql),Jt("SourceExpressionBinder",ya),Jt("CrossFadedCompositeBinder",Xa),Jt("CompositeExpressionBinder",Br),Jt("ProgramConfiguration",U0,{omit:["_buffers"]}),Jt("ProgramConfigurationSet",Zo);var Xn=8192;const Yp=Math.pow(2,14)-1,V0=-Yp-1;function Wo(i){const e=Xn/i.extent,a=i.loadGeometry();for(let s=0;s<a.length;s++){const d=a[s];for(let f=0;f<d.length;f++){const m=d[f],x=Math.round(m.x*e),b=Math.round(m.y*e);m.x=V(x,V0,Yp),m.y=V(b,V0,Yp),(x<m.x||x>m.x+1||b<m.y||b>m.y+1)&&bt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return a}function Ho(i,e){return{type:i.type,id:i.id,properties:i.properties,geometry:e?Wo(i):[]}}function Md(i,e,a,s,d){i.emplaceBack(2*e+(s+1)/2,2*a+(d+1)/2)}class Jp{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(a=>a.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Me,this.indexArray=new Ii,this.segments=new je,this.programConfigurations=new Zo(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(e,a,s){const d=this.layers[0],f=[];let m=null,x=!1;d.type==="circle"&&(m=d.layout.get("circle-sort-key"),x=!m.isConstant());for(const{feature:b,id:A,index:I,sourceLayerIndex:M}of e){const D=this.layers[0]._featureFilter.needGeometry,R=Ho(b,D);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),R,s))continue;const B=x?m.evaluate(R,{},s):void 0,X={id:A,properties:b.properties,type:b.type,sourceLayerIndex:M,index:I,geometry:D?R.geometry:Wo(b),patterns:{},sortKey:B};f.push(X)}x&&f.sort((b,A)=>b.sortKey-A.sortKey);for(const b of f){const{geometry:A,index:I,sourceLayerIndex:M}=b,D=e[I].feature;this.addFeature(b,A,I,s),a.featureIndex.insert(D,A,I,M,this.index)}}update(e,a,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,a,this.stateDependentLayers,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ui),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,a,s,d){for(const f of a)for(const m of f){const x=m.x,b=m.y;if(x<0||x>=Xn||b<0||b>=Xn)continue;const A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),I=A.vertexLength;Md(this.layoutVertexArray,x,b,-1,-1),Md(this.layoutVertexArray,x,b,1,-1),Md(this.layoutVertexArray,x,b,1,1),Md(this.layoutVertexArray,x,b,-1,1),this.indexArray.emplaceBack(I,I+1,I+2),this.indexArray.emplaceBack(I,I+3,I+2),A.vertexLength+=4,A.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,{},d)}}function j0(i,e){for(let a=0;a<i.length;a++)if(ts(e,i[a]))return!0;for(let a=0;a<e.length;a++)if(ts(i,e[a]))return!0;return!!Qp(i,e)}function P7(i,e,a){return!!ts(i,e)||!!tg(e,i,a)}function $0(i,e){if(i.length===1)return q0(e,i[0]);for(let a=0;a<e.length;a++){const s=e[a];for(let d=0;d<s.length;d++)if(ts(i,s[d]))return!0}for(let a=0;a<i.length;a++)if(q0(e,i[a]))return!0;for(let a=0;a<e.length;a++)if(Qp(i,e[a]))return!0;return!1}function M7(i,e,a){if(i.length>1){if(Qp(i,e))return!0;for(let s=0;s<e.length;s++)if(tg(e[s],i,a))return!0}for(let s=0;s<i.length;s++)if(tg(i[s],e,a))return!0;return!1}function Qp(i,e){if(i.length===0||e.length===0)return!1;for(let a=0;a<i.length-1;a++){const s=i[a],d=i[a+1];for(let f=0;f<e.length-1;f++)if(z7(s,d,e[f],e[f+1]))return!0}return!1}function z7(i,e,a,s){return kt(i,a,s)!==kt(e,a,s)&&kt(i,e,a)!==kt(i,e,s)}function tg(i,e,a){const s=a*a;if(e.length===1)return i.distSqr(e[0])<s;for(let d=1;d<e.length;d++)if(G0(i,e[d-1],e[d])<s)return!0;return!1}function G0(i,e,a){const s=e.distSqr(a);if(s===0)return i.distSqr(e);const d=((i.x-e.x)*(a.x-e.x)+(i.y-e.y)*(a.y-e.y))/s;return i.distSqr(d<0?e:d>1?a:a.sub(e)._mult(d)._add(e))}function q0(i,e){let a,s,d,f=!1;for(let m=0;m<i.length;m++){a=i[m];for(let x=0,b=a.length-1;x<a.length;b=x++)s=a[x],d=a[b],s.y>e.y!=d.y>e.y&&e.x<(d.x-s.x)*(e.y-s.y)/(d.y-s.y)+s.x&&(f=!f)}return f}function ts(i,e){let a=!1;for(let s=0,d=i.length-1;s<i.length;d=s++){const f=i[s],m=i[d];f.y>e.y!=m.y>e.y&&e.x<(m.x-f.x)*(e.y-f.y)/(m.y-f.y)+f.x&&(a=!a)}return a}function D7(i,e,a){const s=a[0],d=a[2];if(i.x<s.x&&e.x<s.x||i.x>d.x&&e.x>d.x||i.y<s.y&&e.y<s.y||i.y>d.y&&e.y>d.y)return!1;const f=kt(i,e,a[0]);return f!==kt(i,e,a[1])||f!==kt(i,e,a[2])||f!==kt(i,e,a[3])}function Mu(i,e,a){const s=e.paint.get(i).value;return s.kind==="constant"?s.value:a.programConfigurations.get(e.id).getMaxValue(i)}function zd(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Dd(i,e,a,s,d){if(!e[0]&&!e[1])return i;const f=ae.convert(e)._mult(d);a==="viewport"&&f._rotate(-s);const m=[];for(let x=0;x<i.length;x++)m.push(i[x].sub(f));return m}Jt("CircleBucket",Jp,{omit:["layers"]});const L7=new Wn({"circle-sort-key":new he(pt.layout_circle["circle-sort-key"])});var R7={paint:new Wn({"circle-radius":new he(pt.paint_circle["circle-radius"]),"circle-color":new he(pt.paint_circle["circle-color"]),"circle-blur":new he(pt.paint_circle["circle-blur"]),"circle-opacity":new he(pt.paint_circle["circle-opacity"]),"circle-translate":new ne(pt.paint_circle["circle-translate"]),"circle-translate-anchor":new ne(pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ne(pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ne(pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new he(pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new he(pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new he(pt.paint_circle["circle-stroke-opacity"])}),layout:L7},es=typeof Float32Array!="undefined"?Float32Array:Array;function eg(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Z0(i,e,a){var s=e[0],d=e[1],f=e[2],m=e[3],x=e[4],b=e[5],A=e[6],I=e[7],M=e[8],D=e[9],R=e[10],B=e[11],X=e[12],K=e[13],lt=e[14],ht=e[15],ct=a[0],wt=a[1],Ct=a[2],Tt=a[3];return i[0]=ct*s+wt*x+Ct*M+Tt*X,i[1]=ct*d+wt*b+Ct*D+Tt*K,i[2]=ct*f+wt*A+Ct*R+Tt*lt,i[3]=ct*m+wt*I+Ct*B+Tt*ht,i[4]=(ct=a[4])*s+(wt=a[5])*x+(Ct=a[6])*M+(Tt=a[7])*X,i[5]=ct*d+wt*b+Ct*D+Tt*K,i[6]=ct*f+wt*A+Ct*R+Tt*lt,i[7]=ct*m+wt*I+Ct*B+Tt*ht,i[8]=(ct=a[8])*s+(wt=a[9])*x+(Ct=a[10])*M+(Tt=a[11])*X,i[9]=ct*d+wt*b+Ct*D+Tt*K,i[10]=ct*f+wt*A+Ct*R+Tt*lt,i[11]=ct*m+wt*I+Ct*B+Tt*ht,i[12]=(ct=a[12])*s+(wt=a[13])*x+(Ct=a[14])*M+(Tt=a[15])*X,i[13]=ct*d+wt*b+Ct*D+Tt*K,i[14]=ct*f+wt*A+Ct*R+Tt*lt,i[15]=ct*m+wt*I+Ct*B+Tt*ht,i}Math.hypot||(Math.hypot=function(){for(var i=0,e=arguments.length;e--;)i+=arguments[e]*arguments[e];return Math.sqrt(i)});var zu,F7=Z0;function Ld(i,e,a){var s=e[0],d=e[1],f=e[2],m=e[3];return i[0]=a[0]*s+a[4]*d+a[8]*f+a[12]*m,i[1]=a[1]*s+a[5]*d+a[9]*f+a[13]*m,i[2]=a[2]*s+a[6]*d+a[10]*f+a[14]*m,i[3]=a[3]*s+a[7]*d+a[11]*f+a[15]*m,i}function W0(i,e){const a=Ld([],[i.x,i.y,0,1],e);return new ae(a[0]/a[3],a[1]/a[3])}zu=new es(4),es!=Float32Array&&(zu[0]=0,zu[1]=0,zu[2]=0,zu[3]=0);class H0 extends Jp{}Jt("HeatmapBucket",H0,{omit:["layers"]});var B7={paint:new Wn({"heatmap-radius":new he(pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new he(pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ne(pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Cu(pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ne(pt.paint_heatmap["heatmap-opacity"])})};function ng(i,{width:e,height:a},s,d){if(d){if(d instanceof Uint8ClampedArray)d=new Uint8Array(d.buffer);else if(d.length!==e*a*s)throw new RangeError(`mismatched image size. expected: ${d.length} but got: ${e*a*s}`)}else d=new Uint8Array(e*a*s);return i.width=e,i.height=a,i.data=d,i}function X0(i,{width:e,height:a},s){if(e===i.width&&a===i.height)return;const d=ng({},{width:e,height:a},s);ig(i,d,{x:0,y:0},{x:0,y:0},{width:Math.min(i.width,e),height:Math.min(i.height,a)},s),i.width=e,i.height=a,i.data=d.data}function ig(i,e,a,s,d,f){if(d.width===0||d.height===0)return e;if(d.width>i.width||d.height>i.height||a.x>i.width-d.width||a.y>i.height-d.height)throw new RangeError("out of range source coordinates for image copy");if(d.width>e.width||d.height>e.height||s.x>e.width-d.width||s.y>e.height-d.height)throw new RangeError("out of range destination coordinates for image copy");const m=i.data,x=e.data;for(let b=0;b<d.height;b++){const A=((a.y+b)*i.width+a.x)*f,I=((s.y+b)*e.width+s.x)*f;for(let M=0;M<d.width*f;M++)x[I+M]=m[A+M]}return e}class Du{constructor(e,a){ng(this,e,1,a)}resize(e){X0(this,e,1)}clone(){return new Du({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,a,s,d,f){ig(e,a,s,d,f,1)}}class cr{constructor(e,a){ng(this,e,4,a)}resize(e){X0(this,e,4)}replace(e,a){a?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new cr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,a,s,d,f){ig(e,a,s,d,f,4)}}function K0(i){const e={},a=i.resolution||256,s=i.clips?i.clips.length:1,d=i.image||new cr({width:a,height:s}),f=(m,x,b)=>{e[i.evaluationKey]=b;const A=i.expression.evaluate(e);d.data[m+x+0]=Math.floor(255*A.r/A.a),d.data[m+x+1]=Math.floor(255*A.g/A.a),d.data[m+x+2]=Math.floor(255*A.b/A.a),d.data[m+x+3]=Math.floor(255*A.a)};if(i.clips)for(let m=0,x=0;m<s;++m,x+=4*a)for(let b=0,A=0;b<a;b++,A+=4){const I=b/(a-1),{start:M,end:D}=i.clips[m];f(x,A,M*(1-I)+D*I)}else for(let m=0,x=0;m<a;m++,x+=4)f(0,x,m/(a-1));return d}Jt("AlphaImage",Du),Jt("RGBAImage",cr);var O7={paint:new Wn({"hillshade-illumination-direction":new ne(pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ne(pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ne(pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ne(pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ne(pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ne(pt.paint_hillshade["hillshade-accent-color"])})};const U7=Hn([{name:"a_pos",components:2,type:"Int16"}],4),{members:N7}=U7;var rg={exports:{}};function Rd(i,e,a){a=a||2;var s,d,f,m,x,b,A,I=e&&e.length,M=I?e[0]*a:i.length,D=Y0(i,0,M,a,!0),R=[];if(!D||D.next===D.prev)return R;if(I&&(D=function(X,K,lt,ht){var ct,wt,Ct,Tt=[];for(ct=0,wt=K.length;ct<wt;ct++)(Ct=Y0(X,K[ct]*ht,ct<wt-1?K[ct+1]*ht:X.length,ht,!1))===Ct.next&&(Ct.steiner=!0),Tt.push(H7(Ct));for(Tt.sort(q7),ct=0;ct<Tt.length;ct++)lt=Ka(lt=Z7(Tt[ct],lt),lt.next);return lt}(i,e,D,a)),i.length>80*a){s=f=i[0],d=m=i[1];for(var B=a;B<M;B+=a)(x=i[B])<s&&(s=x),(b=i[B+1])<d&&(d=b),x>f&&(f=x),b>m&&(m=b);A=(A=Math.max(f-s,m-d))!==0?1/A:0}return Lu(D,R,a,s,d,A),R}function Y0(i,e,a,s,d){var f,m;if(d===lg(i,e,a,s)>0)for(f=e;f<a;f+=s)m=t3(f,i[f],i[f+1],m);else for(f=a-s;f>=e;f-=s)m=t3(f,i[f],i[f+1],m);return m&&Fd(m,m.next)&&(Fu(m),m=m.next),m}function Ka(i,e){if(!i)return i;e||(e=i);var a,s=i;do if(a=!1,s.steiner||!Fd(s,s.next)&&Bn(s.prev,s,s.next)!==0)s=s.next;else{if(Fu(s),(s=e=s.prev)===s.next)break;a=!0}while(a||s!==e);return e}function Lu(i,e,a,s,d,f,m){if(i){!m&&f&&function(I,M,D,R){var B=I;do B.z===null&&(B.z=ag(B.x,B.y,M,D,R)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==I);B.prevZ.nextZ=null,B.prevZ=null,function(X){var K,lt,ht,ct,wt,Ct,Tt,Qt,le=1;do{for(lt=X,X=null,wt=null,Ct=0;lt;){for(Ct++,ht=lt,Tt=0,K=0;K<le&&(Tt++,ht=ht.nextZ);K++);for(Qt=le;Tt>0||Qt>0&&ht;)Tt!==0&&(Qt===0||!ht||lt.z<=ht.z)?(ct=lt,lt=lt.nextZ,Tt--):(ct=ht,ht=ht.nextZ,Qt--),wt?wt.nextZ=ct:X=ct,ct.prevZ=wt,wt=ct;lt=ht}wt.nextZ=null,le*=2}while(Ct>1)}(B)}(i,s,d,f);for(var x,b,A=i;i.prev!==i.next;)if(x=i.prev,b=i.next,f?j7(i,s,d,f):V7(i))e.push(x.i/a),e.push(i.i/a),e.push(b.i/a),Fu(i),i=b.next,A=b.next;else if((i=b)===A){m?m===1?Lu(i=$7(Ka(i),e,a),e,a,s,d,f,2):m===2&&G7(i,e,a,s,d,f):Lu(Ka(i),e,a,s,d,f,1);break}}}function V7(i){var e=i.prev,a=i,s=i.next;if(Bn(e,a,s)>=0)return!1;for(var d=i.next.next;d!==i.prev;){if(ns(e.x,e.y,a.x,a.y,s.x,s.y,d.x,d.y)&&Bn(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function j7(i,e,a,s){var d=i.prev,f=i,m=i.next;if(Bn(d,f,m)>=0)return!1;for(var x=d.x>f.x?d.x>m.x?d.x:m.x:f.x>m.x?f.x:m.x,b=d.y>f.y?d.y>m.y?d.y:m.y:f.y>m.y?f.y:m.y,A=ag(d.x<f.x?d.x<m.x?d.x:m.x:f.x<m.x?f.x:m.x,d.y<f.y?d.y<m.y?d.y:m.y:f.y<m.y?f.y:m.y,e,a,s),I=ag(x,b,e,a,s),M=i.prevZ,D=i.nextZ;M&&M.z>=A&&D&&D.z<=I;){if(M!==i.prev&&M!==i.next&&ns(d.x,d.y,f.x,f.y,m.x,m.y,M.x,M.y)&&Bn(M.prev,M,M.next)>=0||(M=M.prevZ,D!==i.prev&&D!==i.next&&ns(d.x,d.y,f.x,f.y,m.x,m.y,D.x,D.y)&&Bn(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;M&&M.z>=A;){if(M!==i.prev&&M!==i.next&&ns(d.x,d.y,f.x,f.y,m.x,m.y,M.x,M.y)&&Bn(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;D&&D.z<=I;){if(D!==i.prev&&D!==i.next&&ns(d.x,d.y,f.x,f.y,m.x,m.y,D.x,D.y)&&Bn(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function $7(i,e,a){var s=i;do{var d=s.prev,f=s.next.next;!Fd(d,f)&&J0(d,s,s.next,f)&&Ru(d,f)&&Ru(f,d)&&(e.push(d.i/a),e.push(s.i/a),e.push(f.i/a),Fu(s),Fu(s.next),s=i=f),s=s.next}while(s!==i);return Ka(s)}function G7(i,e,a,s,d,f){var m=i;do{for(var x=m.next.next;x!==m.prev;){if(m.i!==x.i&&X7(m,x)){var b=Q0(m,x);return m=Ka(m,m.next),b=Ka(b,b.next),Lu(m,e,a,s,d,f),void Lu(b,e,a,s,d,f)}x=x.next}m=m.next}while(m!==i)}function q7(i,e){return i.x-e.x}function Z7(i,e){var a=function(f,m){var x,b=m,A=f.x,I=f.y,M=-1/0;do{if(I<=b.y&&I>=b.next.y&&b.next.y!==b.y){var D=b.x+(I-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(D<=A&&D>M){if(M=D,D===A){if(I===b.y)return b;if(I===b.next.y)return b.next}x=b.x<b.next.x?b:b.next}}b=b.next}while(b!==m);if(!x)return null;if(A===M)return x;var R,B=x,X=x.x,K=x.y,lt=1/0;b=x;do A>=b.x&&b.x>=X&&A!==b.x&&ns(I<K?A:M,I,X,K,I<K?M:A,I,b.x,b.y)&&(R=Math.abs(I-b.y)/(A-b.x),Ru(b,f)&&(R<lt||R===lt&&(b.x>x.x||b.x===x.x&&W7(x,b)))&&(x=b,lt=R)),b=b.next;while(b!==B);return x}(i,e);if(!a)return e;var s=Q0(a,i),d=Ka(a,a.next);return Ka(s,s.next),e===a?d:e}function W7(i,e){return Bn(i.prev,i,e.prev)<0&&Bn(e.next,i,i.next)<0}function ag(i,e,a,s,d){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-a)*d)|i<<8))|i<<4))|i<<2))|i<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*d)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function H7(i){var e=i,a=i;do(e.x<a.x||e.x===a.x&&e.y<a.y)&&(a=e),e=e.next;while(e!==i);return a}function ns(i,e,a,s,d,f,m,x){return(d-m)*(e-x)-(i-m)*(f-x)>=0&&(i-m)*(s-x)-(a-m)*(e-x)>=0&&(a-m)*(f-x)-(d-m)*(s-x)>=0}function X7(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!function(a,s){var d=a;do{if(d.i!==a.i&&d.next.i!==a.i&&d.i!==s.i&&d.next.i!==s.i&&J0(d,d.next,a,s))return!0;d=d.next}while(d!==a);return!1}(i,e)&&(Ru(i,e)&&Ru(e,i)&&function(a,s){var d=a,f=!1,m=(a.x+s.x)/2,x=(a.y+s.y)/2;do d.y>x!=d.next.y>x&&d.next.y!==d.y&&m<(d.next.x-d.x)*(x-d.y)/(d.next.y-d.y)+d.x&&(f=!f),d=d.next;while(d!==a);return f}(i,e)&&(Bn(i.prev,i,e.prev)||Bn(i,e.prev,e))||Fd(i,e)&&Bn(i.prev,i,i.next)>0&&Bn(e.prev,e,e.next)>0)}function Bn(i,e,a){return(e.y-i.y)*(a.x-e.x)-(e.x-i.x)*(a.y-e.y)}function Fd(i,e){return i.x===e.x&&i.y===e.y}function J0(i,e,a,s){var d=Od(Bn(i,e,a)),f=Od(Bn(i,e,s)),m=Od(Bn(a,s,i)),x=Od(Bn(a,s,e));return d!==f&&m!==x||!(d!==0||!Bd(i,a,e))||!(f!==0||!Bd(i,s,e))||!(m!==0||!Bd(a,i,s))||!(x!==0||!Bd(a,e,s))}function Bd(i,e,a){return e.x<=Math.max(i.x,a.x)&&e.x>=Math.min(i.x,a.x)&&e.y<=Math.max(i.y,a.y)&&e.y>=Math.min(i.y,a.y)}function Od(i){return i>0?1:i<0?-1:0}function Ru(i,e){return Bn(i.prev,i,i.next)<0?Bn(i,e,i.next)>=0&&Bn(i,i.prev,e)>=0:Bn(i,e,i.prev)<0||Bn(i,i.next,e)<0}function Q0(i,e){var a=new og(i.i,i.x,i.y),s=new og(e.i,e.x,e.y),d=i.next,f=e.prev;return i.next=e,e.prev=i,a.next=d,d.prev=a,s.next=a,a.prev=s,f.next=s,s.prev=f,s}function t3(i,e,a,s){var d=new og(i,e,a);return s?(d.next=s.next,d.prev=s,s.next.prev=d,s.next=d):(d.prev=d,d.next=d),d}function Fu(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function og(i,e,a){this.i=i,this.x=e,this.y=a,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lg(i,e,a,s){for(var d=0,f=e,m=a-s;f<a;f+=s)d+=(i[m]-i[f])*(i[f+1]+i[m+1]),m=f;return d}rg.exports=Rd,rg.exports.default=Rd,Rd.deviation=function(i,e,a,s){var d=e&&e.length,f=Math.abs(lg(i,0,d?e[0]*a:i.length,a));if(d)for(var m=0,x=e.length;m<x;m++)f-=Math.abs(lg(i,e[m]*a,m<x-1?e[m+1]*a:i.length,a));var b=0;for(m=0;m<s.length;m+=3){var A=s[m]*a,I=s[m+1]*a,M=s[m+2]*a;b+=Math.abs((i[A]-i[M])*(i[I+1]-i[A+1])-(i[A]-i[I])*(i[M+1]-i[A+1]))}return f===0&&b===0?0:Math.abs((b-f)/f)},Rd.flatten=function(i){for(var e=i[0][0].length,a={vertices:[],holes:[],dimensions:e},s=0,d=0;d<i.length;d++){for(var f=0;f<i[d].length;f++)for(var m=0;m<e;m++)a.vertices.push(i[d][f][m]);d>0&&a.holes.push(s+=i[d-1].length)}return a};var e3=rg.exports;function K7(i,e,a,s,d){n3(i,e,a||0,s||i.length-1,d||Y7)}function n3(i,e,a,s,d){for(;s>a;){if(s-a>600){var f=s-a+1,m=e-a+1,x=Math.log(f),b=.5*Math.exp(2*x/3),A=.5*Math.sqrt(x*b*(f-b)/f)*(m-f/2<0?-1:1);n3(i,e,Math.max(a,Math.floor(e-m*b/f+A)),Math.min(s,Math.floor(e+(f-m)*b/f+A)),d)}var I=i[e],M=a,D=s;for(Bu(i,a,e),d(i[s],I)>0&&Bu(i,a,s);M<D;){for(Bu(i,M,D),M++,D--;d(i[M],I)<0;)M++;for(;d(i[D],I)>0;)D--}d(i[a],I)===0?Bu(i,a,D):Bu(i,++D,s),D<=e&&(a=D+1),e<=D&&(s=D-1)}}function Bu(i,e,a){var s=i[e];i[e]=i[a],i[a]=s}function Y7(i,e){return i<e?-1:i>e?1:0}function sg(i,e){const a=i.length;if(a<=1)return[i];const s=[];let d,f;for(let m=0;m<a;m++){const x=qt(i[m]);x!==0&&(i[m].area=Math.abs(x),f===void 0&&(f=x<0),f===x<0?(d&&s.push(d),d=[i[m]]):d.push(i[m]))}if(d&&s.push(d),e>1)for(let m=0;m<s.length;m++)s[m].length<=e||(K7(s[m],e,1,s[m].length-1,J7),s[m]=s[m].slice(0,e));return s}function J7(i,e){return e.area-i.area}function ug(i,e,a){const s=a.patternDependencies;let d=!1;for(const f of e){const m=f.paint.get(`${i}-pattern`);m.isConstant()||(d=!0);const x=m.constantOr(null);x&&(d=!0,s[x.to]=!0,s[x.from]=!0)}return d}function cg(i,e,a,s,d){const f=d.patternDependencies;for(const m of e){const x=m.paint.get(`${i}-pattern`).value;if(x.kind!=="constant"){let b=x.evaluate({zoom:s-1},a,{},d.availableImages),A=x.evaluate({zoom:s},a,{},d.availableImages),I=x.evaluate({zoom:s+1},a,{},d.availableImages);b=b&&b.name?b.name:b,A=A&&A.name?A.name:A,I=I&&I.name?I.name:I,f[b]=!0,f[A]=!0,f[I]=!0,a.patterns[m.id]={min:b,mid:A,max:I}}}return a}class dg{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(a=>a.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Re,this.indexArray=new Ii,this.indexArray2=new xr,this.programConfigurations=new Zo(e.layers,e.zoom),this.segments=new je,this.segments2=new je,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(e,a,s){this.hasPattern=ug("fill",this.layers,a);const d=this.layers[0].layout.get("fill-sort-key"),f=!d.isConstant(),m=[];for(const{feature:x,id:b,index:A,sourceLayerIndex:I}of e){const M=this.layers[0]._featureFilter.needGeometry,D=Ho(x,M);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),D,s))continue;const R=f?d.evaluate(D,{},s,a.availableImages):void 0,B={id:b,properties:x.properties,type:x.type,sourceLayerIndex:I,index:A,geometry:M?D.geometry:Wo(x),patterns:{},sortKey:R};m.push(B)}f&&m.sort((x,b)=>x.sortKey-b.sortKey);for(const x of m){const{geometry:b,index:A,sourceLayerIndex:I}=x;if(this.hasPattern){const M=cg("fill",this.layers,x,this.zoom,a);this.patternFeatures.push(M)}else this.addFeature(x,b,A,s,{});a.featureIndex.insert(e[A].feature,b,A,I,this.index)}}update(e,a,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,a,this.stateDependentLayers,s)}addFeatures(e,a,s){for(const d of this.patternFeatures)this.addFeature(d,d.geometry,d.index,a,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,N7),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,a,s,d,f){for(const m of sg(a,500)){let x=0;for(const R of m)x+=R.length;const b=this.segments.prepareSegment(x,this.layoutVertexArray,this.indexArray),A=b.vertexLength,I=[],M=[];for(const R of m){if(R.length===0)continue;R!==m[0]&&M.push(I.length/2);const B=this.segments2.prepareSegment(R.length,this.layoutVertexArray,this.indexArray2),X=B.vertexLength;this.layoutVertexArray.emplaceBack(R[0].x,R[0].y),this.indexArray2.emplaceBack(X+R.length-1,X),I.push(R[0].x),I.push(R[0].y);for(let K=1;K<R.length;K++)this.layoutVertexArray.emplaceBack(R[K].x,R[K].y),this.indexArray2.emplaceBack(X+K-1,X+K),I.push(R[K].x),I.push(R[K].y);B.vertexLength+=R.length,B.primitiveLength+=R.length}const D=e3(I,M);for(let R=0;R<D.length;R+=3)this.indexArray.emplaceBack(A+D[R],A+D[R+1],A+D[R+2]);b.vertexLength+=x,b.primitiveLength+=D.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,f,d)}}Jt("FillBucket",dg,{omit:["layers","patternFeatures"]});const Q7=new Wn({"fill-sort-key":new he(pt.layout_fill["fill-sort-key"])});var t5={paint:new Wn({"fill-antialias":new ne(pt.paint_fill["fill-antialias"]),"fill-opacity":new he(pt.paint_fill["fill-opacity"]),"fill-color":new he(pt.paint_fill["fill-color"]),"fill-outline-color":new he(pt.paint_fill["fill-outline-color"]),"fill-translate":new ne(pt.paint_fill["fill-translate"]),"fill-translate-anchor":new ne(pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new jo(pt.paint_fill["fill-pattern"])}),layout:Q7};const e5=Hn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),{members:n5}=e5;var Ya={},i5=ae,i3=is;function is(i,e,a,s,d){this.properties={},this.extent=a,this.type=0,this._pbf=i,this._geometry=-1,this._keys=s,this._values=d,i.readFields(r5,this,e)}function r5(i,e,a){i==1?e.id=a.readVarint():i==2?function(s,d){for(var f=s.readVarint()+s.pos;s.pos<f;){var m=d._keys[s.readVarint()],x=d._values[s.readVarint()];d.properties[m]=x}}(a,e):i==3?e.type=a.readVarint():i==4&&(e._geometry=a.pos)}function a5(i){for(var e,a,s=0,d=0,f=i.length,m=f-1;d<f;m=d++)s+=((a=i[m]).x-(e=i[d]).x)*(e.y+a.y);return s}is.types=["Unknown","Point","LineString","Polygon"],is.prototype.loadGeometry=function(){var i=this._pbf;i.pos=this._geometry;for(var e,a=i.readVarint()+i.pos,s=1,d=0,f=0,m=0,x=[];i.pos<a;){if(d<=0){var b=i.readVarint();s=7&b,d=b>>3}if(d--,s===1||s===2)f+=i.readSVarint(),m+=i.readSVarint(),s===1&&(e&&x.push(e),e=[]),e.push(new i5(f,m));else{if(s!==7)throw new Error("unknown command "+s);e&&e.push(e[0].clone())}}return e&&x.push(e),x},is.prototype.bbox=function(){var i=this._pbf;i.pos=this._geometry;for(var e=i.readVarint()+i.pos,a=1,s=0,d=0,f=0,m=1/0,x=-1/0,b=1/0,A=-1/0;i.pos<e;){if(s<=0){var I=i.readVarint();a=7&I,s=I>>3}if(s--,a===1||a===2)(d+=i.readSVarint())<m&&(m=d),d>x&&(x=d),(f+=i.readSVarint())<b&&(b=f),f>A&&(A=f);else if(a!==7)throw new Error("unknown command "+a)}return[m,b,x,A]},is.prototype.toGeoJSON=function(i,e,a){var s,d,f=this.extent*Math.pow(2,a),m=this.extent*i,x=this.extent*e,b=this.loadGeometry(),A=is.types[this.type];function I(R){for(var B=0;B<R.length;B++){var X=R[B];R[B]=[360*(X.x+m)/f-180,360/Math.PI*Math.atan(Math.exp((180-360*(X.y+x)/f)*Math.PI/180))-90]}}switch(this.type){case 1:var M=[];for(s=0;s<b.length;s++)M[s]=b[s][0];I(b=M);break;case 2:for(s=0;s<b.length;s++)I(b[s]);break;case 3:for(b=function(R){var B=R.length;if(B<=1)return[R];for(var X,K,lt=[],ht=0;ht<B;ht++){var ct=a5(R[ht]);ct!==0&&(K===void 0&&(K=ct<0),K===ct<0?(X&&lt.push(X),X=[R[ht]]):X.push(R[ht]))}return X&&lt.push(X),lt}(b),s=0;s<b.length;s++)for(d=0;d<b[s].length;d++)I(b[s][d])}b.length===1?b=b[0]:A="Multi"+A;var D={type:"Feature",geometry:{type:A,coordinates:b},properties:this.properties};return"id"in this&&(D.id=this.id),D};var o5=i3,r3=a3;function a3(i,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=i,this._keys=[],this._values=[],this._features=[],i.readFields(l5,this,e),this.length=this._features.length}function l5(i,e,a){i===15?e.version=a.readVarint():i===1?e.name=a.readString():i===5?e.extent=a.readVarint():i===2?e._features.push(a.pos):i===3?e._keys.push(a.readString()):i===4&&e._values.push(function(s){for(var d=null,f=s.readVarint()+s.pos;s.pos<f;){var m=s.readVarint()>>3;d=m===1?s.readString():m===2?s.readFloat():m===3?s.readDouble():m===4?s.readVarint64():m===5?s.readVarint():m===6?s.readSVarint():m===7?s.readBoolean():null}return d}(a))}a3.prototype.feature=function(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];var e=this._pbf.readVarint()+this._pbf.pos;return new o5(this._pbf,e,this.extent,this._keys,this._values)};var s5=r3;function u5(i,e,a){if(i===3){var s=new s5(a,a.readVarint()+a.pos);s.length&&(e[s.name]=s)}}Ya.VectorTile=function(i,e){this.layers=i.readFields(u5,{},e)},Ya.VectorTileFeature=i3,Ya.VectorTileLayer=r3;const c5=Ya.VectorTileFeature.types,hg=Math.pow(2,13);function Ou(i,e,a,s,d,f,m,x){i.emplaceBack(e,a,2*Math.floor(s*hg)+m,d*hg*2,f*hg*2,Math.round(x))}class pg{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(a=>a.id),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new An,this.indexArray=new Ii,this.programConfigurations=new Zo(e.layers,e.zoom),this.segments=new je,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(e,a,s){this.features=[],this.hasPattern=ug("fill-extrusion",this.layers,a);for(const{feature:d,id:f,index:m,sourceLayerIndex:x}of e){const b=this.layers[0]._featureFilter.needGeometry,A=Ho(d,b);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),A,s))continue;const I={id:f,sourceLayerIndex:x,index:m,geometry:b?A.geometry:Wo(d),properties:d.properties,type:d.type,patterns:{}};this.hasPattern?this.features.push(cg("fill-extrusion",this.layers,I,this.zoom,a)):this.addFeature(I,I.geometry,m,s,{}),a.featureIndex.insert(d,I.geometry,m,x,this.index,!0)}}addFeatures(e,a,s){for(const d of this.features){const{geometry:f}=d;this.addFeature(d,f,d.index,a,s)}}update(e,a,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,a,this.stateDependentLayers,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,n5),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,a,s,d,f){for(const m of sg(a,500)){let x=0;for(const R of m)x+=R.length;let b=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const R of m){if(R.length===0||h5(R))continue;let B=0;for(let X=0;X<R.length;X++){const K=R[X];if(X>=1){const lt=R[X-1];if(!d5(K,lt)){b.vertexLength+4>je.MAX_VERTEX_ARRAY_LENGTH&&(b=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ht=K.sub(lt)._perp()._unit(),ct=lt.dist(K);B+ct>32768&&(B=0),Ou(this.layoutVertexArray,K.x,K.y,ht.x,ht.y,0,0,B),Ou(this.layoutVertexArray,K.x,K.y,ht.x,ht.y,0,1,B),B+=ct,Ou(this.layoutVertexArray,lt.x,lt.y,ht.x,ht.y,0,0,B),Ou(this.layoutVertexArray,lt.x,lt.y,ht.x,ht.y,0,1,B);const wt=b.vertexLength;this.indexArray.emplaceBack(wt,wt+2,wt+1),this.indexArray.emplaceBack(wt+1,wt+2,wt+3),b.vertexLength+=4,b.primitiveLength+=2}}}}if(b.vertexLength+x>je.MAX_VERTEX_ARRAY_LENGTH&&(b=this.segments.prepareSegment(x,this.layoutVertexArray,this.indexArray)),c5[e.type]!=="Polygon")continue;const A=[],I=[],M=b.vertexLength;for(const R of m)if(R.length!==0){R!==m[0]&&I.push(A.length/2);for(let B=0;B<R.length;B++){const X=R[B];Ou(this.layoutVertexArray,X.x,X.y,0,0,1,1,0),A.push(X.x),A.push(X.y)}}const D=e3(A,I);for(let R=0;R<D.length;R+=3)this.indexArray.emplaceBack(M+D[R],M+D[R+2],M+D[R+1]);b.primitiveLength+=D.length/3,b.vertexLength+=x}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,f,d)}}function d5(i,e){return i.x===e.x&&(i.x<0||i.x>Xn)||i.y===e.y&&(i.y<0||i.y>Xn)}function h5(i){return i.every(e=>e.x<0)||i.every(e=>e.x>Xn)||i.every(e=>e.y<0)||i.every(e=>e.y>Xn)}Jt("FillExtrusionBucket",pg,{omit:["layers","features"]});var p5={paint:new Wn({"fill-extrusion-opacity":new ne(pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new he(pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ne(pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ne(pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new jo(pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new he(pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new he(pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ne(pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Uu(i,e){return i.x*e.x+i.y*e.y}function o3(i,e){if(i.length===1){let a=0;const s=e[a++];let d;for(;!d||s.equals(d);)if(d=e[a++],!d)return 1/0;for(;a<e.length;a++){const f=e[a],m=i[0],x=d.sub(s),b=f.sub(s),A=m.sub(s),I=Uu(x,x),M=Uu(x,b),D=Uu(b,b),R=Uu(A,x),B=Uu(A,b),X=I*D-M*M,K=(D*R-M*B)/X,lt=(I*B-M*R)/X,ht=s.z*(1-K-lt)+d.z*K+f.z*lt;if(isFinite(ht))return ht}return 1/0}{let a=1/0;for(const s of e)a=Math.min(a,s.z);return a}}const g5=Hn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:f5}=g5,m5=Hn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:y5}=m5,_5=Ya.VectorTileFeature.types,v5=Math.cos(Math.PI/180*37.5),l3=Math.pow(2,14)/.5;class gg{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(a=>a.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new _e,this.layoutVertexArray2=new Ve,this.indexArray=new Ii,this.programConfigurations=new Zo(e.layers,e.zoom),this.segments=new je,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(e,a,s){this.hasPattern=ug("line",this.layers,a);const d=this.layers[0].layout.get("line-sort-key"),f=!d.isConstant(),m=[];for(const{feature:x,id:b,index:A,sourceLayerIndex:I}of e){const M=this.layers[0]._featureFilter.needGeometry,D=Ho(x,M);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),D,s))continue;const R=f?d.evaluate(D,{},s):void 0,B={id:b,properties:x.properties,type:x.type,sourceLayerIndex:I,index:A,geometry:M?D.geometry:Wo(x),patterns:{},sortKey:R};m.push(B)}f&&m.sort((x,b)=>x.sortKey-b.sortKey);for(const x of m){const{geometry:b,index:A,sourceLayerIndex:I}=x;if(this.hasPattern){const M=cg("line",this.layers,x,this.zoom,a);this.patternFeatures.push(M)}else this.addFeature(x,b,A,s,{});a.featureIndex.insert(e[A].feature,b,A,I,this.index)}}update(e,a,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,a,this.stateDependentLayers,s)}addFeatures(e,a,s){for(const d of this.patternFeatures)this.addFeature(d,d.geometry,d.index,a,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,y5)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,f5),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,a,s,d,f){const m=this.layers[0].layout,x=m.get("line-join").evaluate(e,{}),b=m.get("line-cap"),A=m.get("line-miter-limit"),I=m.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const M of a)this.addLine(M,e,x,b,A,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,f,d)}addLine(e,a,s,d,f,m){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let lt=0;lt<e.length-1;lt++)this.totalDistance+=e[lt].dist(e[lt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const x=_5[a.type]==="Polygon";let b=e.length;for(;b>=2&&e[b-1].equals(e[b-2]);)b--;let A=0;for(;A<b-1&&e[A].equals(e[A+1]);)A++;if(b<(x?3:2))return;s==="bevel"&&(f=1.05);const I=this.overscaling<=16?122880/(512*this.overscaling):0,M=this.segments.prepareSegment(10*b,this.layoutVertexArray,this.indexArray);let D,R,B,X,K;this.e1=this.e2=-1,x&&(D=e[b-2],K=e[A].sub(D)._unit()._perp());for(let lt=A;lt<b;lt++){if(B=lt===b-1?x?e[A+1]:void 0:e[lt+1],B&&e[lt].equals(B))continue;K&&(X=K),D&&(R=D),D=e[lt],K=B?B.sub(D)._unit()._perp():X,X=X||K;let ht=X.add(K);ht.x===0&&ht.y===0||ht._unit();const ct=X.x*K.x+X.y*K.y,wt=ht.x*K.x+ht.y*K.y,Ct=wt!==0?1/wt:1/0,Tt=2*Math.sqrt(2-2*wt),Qt=wt<v5&&R&&B,le=X.x*K.y-X.y*K.x>0;if(Qt&&lt>A){const Bt=D.dist(R);if(Bt>2*I){const Yt=D.sub(D.sub(R)._mult(I/Bt)._round());this.updateDistance(R,Yt),this.addCurrentVertex(Yt,X,0,0,M),R=Yt}}const Zt=R&&B;let Wt=Zt?s:x?"butt":d;if(Zt&&Wt==="round"&&(Ct<m?Wt="miter":Ct<=2&&(Wt="fakeround")),Wt==="miter"&&Ct>f&&(Wt="bevel"),Wt==="bevel"&&(Ct>2&&(Wt="flipbevel"),Ct<f&&(Wt="miter")),R&&this.updateDistance(R,D),Wt==="miter")ht._mult(Ct),this.addCurrentVertex(D,ht,0,0,M);else if(Wt==="flipbevel"){if(Ct>100)ht=K.mult(-1);else{const Bt=Ct*X.add(K).mag()/X.sub(K).mag();ht._perp()._mult(Bt*(le?-1:1))}this.addCurrentVertex(D,ht,0,0,M),this.addCurrentVertex(D,ht.mult(-1),0,0,M)}else if(Wt==="bevel"||Wt==="fakeround"){const Bt=-Math.sqrt(Ct*Ct-1),Yt=le?Bt:0,Ht=le?0:Bt;if(R&&this.addCurrentVertex(D,X,Yt,Ht,M),Wt==="fakeround"){const zt=Math.round(180*Tt/Math.PI/20);for(let pe=1;pe<zt;pe++){let ue=pe/zt;if(ue!==.5){const We=ue-.5;ue+=ue*We*(ue-1)*((1.0904+ct*(ct*(3.55645-1.43519*ct)-3.2452))*We*We+(.848013+ct*(.215638*ct-1.06021)))}const Fe=K.sub(X)._mult(ue)._add(X)._unit()._mult(le?-1:1);this.addHalfVertex(D,Fe.x,Fe.y,!1,le,0,M)}}B&&this.addCurrentVertex(D,K,-Yt,-Ht,M)}else if(Wt==="butt")this.addCurrentVertex(D,ht,0,0,M);else if(Wt==="square"){const Bt=R?1:-1;this.addCurrentVertex(D,ht,Bt,Bt,M)}else Wt==="round"&&(R&&(this.addCurrentVertex(D,X,0,0,M),this.addCurrentVertex(D,X,1,1,M,!0)),B&&(this.addCurrentVertex(D,K,-1,-1,M,!0),this.addCurrentVertex(D,K,0,0,M)));if(Qt&&lt<b-1){const Bt=D.dist(B);if(Bt>2*I){const Yt=D.add(B.sub(D)._mult(I/Bt)._round());this.updateDistance(D,Yt),this.addCurrentVertex(Yt,K,0,0,M),D=Yt}}}}addCurrentVertex(e,a,s,d,f,m=!1){const x=a.y*d-a.x,b=-a.y-a.x*d;this.addHalfVertex(e,a.x+a.y*s,a.y-a.x*s,m,!1,s,f),this.addHalfVertex(e,x,b,m,!0,-d,f),this.distance>l3/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(e,a,s,d,f,m))}addHalfVertex({x:e,y:a},s,d,f,m,x,b){const A=.5*(this.lineClips?this.scaledDistance*(l3-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(f?1:0),(a<<1)+(m?1:0),Math.round(63*s)+128,Math.round(63*d)+128,1+(x===0?0:x<0?-1:1)|(63&A)<<2,A>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const I=b.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,I),b.primitiveLength++),m?this.e2=I:this.e1=I}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,a){this.distance+=e.dist(a),this.updateScaledDistance()}}Jt("LineBucket",gg,{omit:["layers","patternFeatures"]});const x5=new Wn({"line-cap":new ne(pt.layout_line["line-cap"]),"line-join":new he(pt.layout_line["line-join"]),"line-miter-limit":new ne(pt.layout_line["line-miter-limit"]),"line-round-limit":new ne(pt.layout_line["line-round-limit"]),"line-sort-key":new he(pt.layout_line["line-sort-key"])});var s3={paint:new Wn({"line-opacity":new he(pt.paint_line["line-opacity"]),"line-color":new he(pt.paint_line["line-color"]),"line-translate":new ne(pt.paint_line["line-translate"]),"line-translate-anchor":new ne(pt.paint_line["line-translate-anchor"]),"line-width":new he(pt.paint_line["line-width"]),"line-gap-width":new he(pt.paint_line["line-gap-width"]),"line-offset":new he(pt.paint_line["line-offset"]),"line-blur":new he(pt.paint_line["line-blur"]),"line-dasharray":new $o(pt.paint_line["line-dasharray"]),"line-pattern":new jo(pt.paint_line["line-pattern"]),"line-gradient":new Cu(pt.paint_line["line-gradient"])}),layout:x5};const u3=new class extends he{possiblyEvaluate(i,e){return e=new pn(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(i,e)}evaluate(i,e,a,s){return e=It({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(i,e,a,s)}}(s3.paint.properties["line-width"].specification);function c3(i,e){return e>0?e+2*i:i}u3.useIntegerZoom=!0;const w5=Hn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),b5=Hn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Hn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const S5=Hn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Hn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const d3=Hn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),E5=Hn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function T5(i,e,a){return i.sections.forEach(s=>{s.text=function(d,f,m){const x=f.layout.get("text-transform").evaluate(m,{});return x==="uppercase"?d=d.toLocaleUpperCase():x==="lowercase"&&(d=d.toLocaleLowerCase()),Ki.applyArabicShaping&&(d=Ki.applyArabicShaping(d)),d}(s.text,e,a)}),i}Hn([{name:"triangle",components:3,type:"Uint16"}]),Hn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Hn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Hn([{type:"Float32",name:"offsetX"}]),Hn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Nu={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var ni=24,fg=Qe,h3=function(i,e,a,s,d){var f,m,x=8*d-s-1,b=(1<<x)-1,A=b>>1,I=-7,M=a?d-1:0,D=a?-1:1,R=i[e+M];for(M+=D,f=R&(1<<-I)-1,R>>=-I,I+=x;I>0;f=256*f+i[e+M],M+=D,I-=8);for(m=f&(1<<-I)-1,f>>=-I,I+=s;I>0;m=256*m+i[e+M],M+=D,I-=8);if(f===0)f=1-A;else{if(f===b)return m?NaN:1/0*(R?-1:1);m+=Math.pow(2,s),f-=A}return(R?-1:1)*m*Math.pow(2,f-s)},p3=function(i,e,a,s,d,f){var m,x,b,A=8*f-d-1,I=(1<<A)-1,M=I>>1,D=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=s?0:f-1,B=s?1:-1,X=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(x=isNaN(e)?1:0,m=I):(m=Math.floor(Math.log(e)/Math.LN2),e*(b=Math.pow(2,-m))<1&&(m--,b*=2),(e+=m+M>=1?D/b:D*Math.pow(2,1-M))*b>=2&&(m++,b/=2),m+M>=I?(x=0,m=I):m+M>=1?(x=(e*b-1)*Math.pow(2,d),m+=M):(x=e*Math.pow(2,M-1)*Math.pow(2,d),m=0));d>=8;i[a+R]=255&x,R+=B,x/=256,d-=8);for(m=m<<d|x,A+=d;A>0;i[a+R]=255&m,R+=B,m/=256,A-=8);i[a+R-B]|=128*X};function Qe(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}Qe.Varint=0,Qe.Fixed64=1,Qe.Bytes=2,Qe.Fixed32=5;var Ja,mg=4294967296,g3=1/mg,f3=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function _a(i){return i.type===Qe.Bytes?i.readVarint()+i.pos:i.pos+1}function rs(i,e,a){return a?4294967296*e+(i>>>0):4294967296*(e>>>0)+(i>>>0)}function m3(i,e,a){var s=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));a.realloc(s);for(var d=a.pos-1;d>=i;d--)a.buf[d+s]=a.buf[d]}function A5(i,e){for(var a=0;a<i.length;a++)e.writeVarint(i[a])}function k5(i,e){for(var a=0;a<i.length;a++)e.writeSVarint(i[a])}function C5(i,e){for(var a=0;a<i.length;a++)e.writeFloat(i[a])}function I5(i,e){for(var a=0;a<i.length;a++)e.writeDouble(i[a])}function P5(i,e){for(var a=0;a<i.length;a++)e.writeBoolean(i[a])}function M5(i,e){for(var a=0;a<i.length;a++)e.writeFixed32(i[a])}function z5(i,e){for(var a=0;a<i.length;a++)e.writeSFixed32(i[a])}function D5(i,e){for(var a=0;a<i.length;a++)e.writeFixed64(i[a])}function L5(i,e){for(var a=0;a<i.length;a++)e.writeSFixed64(i[a])}function Ud(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+16777216*i[e+3]}function as(i,e,a){i[a]=e,i[a+1]=e>>>8,i[a+2]=e>>>16,i[a+3]=e>>>24}function y3(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+(i[e+3]<<24)}function R5(i,e,a){i===1&&a.readMessage(F5,e)}function F5(i,e,a){if(i===3){const{id:s,bitmap:d,width:f,height:m,left:x,top:b,advance:A}=a.readMessage(B5,{});e.push({id:s,bitmap:new Du({width:f+6,height:m+6},d),metrics:{width:f,height:m,left:x,top:b,advance:A}})}}function B5(i,e,a){i===1?e.id=a.readVarint():i===2?e.bitmap=a.readBytes():i===3?e.width=a.readVarint():i===4?e.height=a.readVarint():i===5?e.left=a.readSVarint():i===6?e.top=a.readSVarint():i===7&&(e.advance=a.readVarint())}function _3(i){let e=0,a=0;for(const m of i)e+=m.w*m.h,a=Math.max(a,m.w);i.sort((m,x)=>x.h-m.h);const s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),a),h:1/0}];let d=0,f=0;for(const m of i)for(let x=s.length-1;x>=0;x--){const b=s[x];if(!(m.w>b.w||m.h>b.h)){if(m.x=b.x,m.y=b.y,f=Math.max(f,m.y+m.h),d=Math.max(d,m.x+m.w),m.w===b.w&&m.h===b.h){const A=s.pop();x<s.length&&(s[x]=A)}else m.h===b.h?(b.x+=m.w,b.w-=m.w):m.w===b.w?(b.y+=m.h,b.h-=m.h):(s.push({x:b.x+m.w,y:b.y,w:b.w-m.w,h:m.h}),b.y+=m.h,b.h-=m.h);break}}return{w:d,h:f,fill:e/(d*f)||0}}Qe.prototype={destroy:function(){this.buf=null},readFields:function(i,e,a){for(a=a||this.length;this.pos<a;){var s=this.readVarint(),d=s>>3,f=this.pos;this.type=7&s,i(d,e,this),this.pos===f&&this.skip(s)}return e},readMessage:function(i,e){return this.readFields(i,e,this.readVarint()+this.pos)},readFixed32:function(){var i=Ud(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=y3(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=Ud(this.buf,this.pos)+Ud(this.buf,this.pos+4)*mg;return this.pos+=8,i},readSFixed64:function(){var i=Ud(this.buf,this.pos)+y3(this.buf,this.pos+4)*mg;return this.pos+=8,i},readFloat:function(){var i=h3(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=h3(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var e,a,s=this.buf;return e=127&(a=s[this.pos++]),a<128?e:(e|=(127&(a=s[this.pos++]))<<7,a<128?e:(e|=(127&(a=s[this.pos++]))<<14,a<128?e:(e|=(127&(a=s[this.pos++]))<<21,a<128?e:function(d,f,m){var x,b,A=m.buf;if(x=(112&(b=A[m.pos++]))>>4,b<128||(x|=(127&(b=A[m.pos++]))<<3,b<128)||(x|=(127&(b=A[m.pos++]))<<10,b<128)||(x|=(127&(b=A[m.pos++]))<<17,b<128)||(x|=(127&(b=A[m.pos++]))<<24,b<128)||(x|=(1&(b=A[m.pos++]))<<31,b<128))return rs(d,x,f);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(a=s[this.pos]))<<28,i,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2==1?(i+1)/-2:i/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var i=this.readVarint()+this.pos,e=this.pos;return this.pos=i,i-e>=12&&f3?function(a,s,d){return f3.decode(a.subarray(s,d))}(this.buf,e,i):function(a,s,d){for(var f="",m=s;m<d;){var x,b,A,I=a[m],M=null,D=I>239?4:I>223?3:I>191?2:1;if(m+D>d)break;D===1?I<128&&(M=I):D===2?(192&(x=a[m+1]))==128&&(M=(31&I)<<6|63&x)<=127&&(M=null):D===3?(b=a[m+2],(192&(x=a[m+1]))==128&&(192&b)==128&&((M=(15&I)<<12|(63&x)<<6|63&b)<=2047||M>=55296&&M<=57343)&&(M=null)):D===4&&(b=a[m+2],A=a[m+3],(192&(x=a[m+1]))==128&&(192&b)==128&&(192&A)==128&&((M=(15&I)<<18|(63&x)<<12|(63&b)<<6|63&A)<=65535||M>=1114112)&&(M=null)),M===null?(M=65533,D=1):M>65535&&(M-=65536,f+=String.fromCharCode(M>>>10&1023|55296),M=56320|1023&M),f+=String.fromCharCode(M),m+=D}return f}(this.buf,e,i)},readBytes:function(){var i=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,i);return this.pos=i,e},readPackedVarint:function(i,e){if(this.type!==Qe.Bytes)return i.push(this.readVarint(e));var a=_a(this);for(i=i||[];this.pos<a;)i.push(this.readVarint(e));return i},readPackedSVarint:function(i){if(this.type!==Qe.Bytes)return i.push(this.readSVarint());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==Qe.Bytes)return i.push(this.readBoolean());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==Qe.Bytes)return i.push(this.readFloat());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==Qe.Bytes)return i.push(this.readDouble());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==Qe.Bytes)return i.push(this.readFixed32());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==Qe.Bytes)return i.push(this.readSFixed32());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==Qe.Bytes)return i.push(this.readFixed64());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==Qe.Bytes)return i.push(this.readSFixed64());var e=_a(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed64());return i},skip:function(i){var e=7&i;if(e===Qe.Varint)for(;this.buf[this.pos++]>127;);else if(e===Qe.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Qe.Fixed32)this.pos+=4;else{if(e!==Qe.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(i,e){this.writeVarint(i<<3|e)},realloc:function(i){for(var e=this.length||16;e<this.pos+i;)e*=2;if(e!==this.length){var a=new Uint8Array(e);a.set(this.buf),this.buf=a,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),as(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),as(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),as(this.buf,-1&i,this.pos),as(this.buf,Math.floor(i*g3),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),as(this.buf,-1&i,this.pos),as(this.buf,Math.floor(i*g3),this.pos+4),this.pos+=8},writeVarint:function(i){(i=+i||0)>268435455||i<0?function(e,a){var s,d;if(e>=0?(s=e%4294967296|0,d=e/4294967296|0):(d=~(-e/4294967296),4294967295^(s=~(-e%4294967296))?s=s+1|0:(s=0,d=d+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),function(f,m,x){x.buf[x.pos++]=127&f|128,f>>>=7,x.buf[x.pos++]=127&f|128,f>>>=7,x.buf[x.pos++]=127&f|128,f>>>=7,x.buf[x.pos++]=127&f|128,x.buf[x.pos]=127&(f>>>=7)}(s,0,a),function(f,m){var x=(7&f)<<4;m.buf[m.pos++]|=x|((f>>>=3)?128:0),f&&(m.buf[m.pos++]=127&f|((f>>>=7)?128:0),f&&(m.buf[m.pos++]=127&f|((f>>>=7)?128:0),f&&(m.buf[m.pos++]=127&f|((f>>>=7)?128:0),f&&(m.buf[m.pos++]=127&f|((f>>>=7)?128:0),f&&(m.buf[m.pos++]=127&f)))))}(d,a)}(i,this):(this.realloc(4),this.buf[this.pos++]=127&i|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=i>>>7&127))))},writeSVarint:function(i){this.writeVarint(i<0?2*-i-1:2*i)},writeBoolean:function(i){this.writeVarint(Boolean(i))},writeString:function(i){i=String(i),this.realloc(4*i.length),this.pos++;var e=this.pos;this.pos=function(s,d,f){for(var m,x,b=0;b<d.length;b++){if((m=d.charCodeAt(b))>55295&&m<57344){if(!x){m>56319||b+1===d.length?(s[f++]=239,s[f++]=191,s[f++]=189):x=m;continue}if(m<56320){s[f++]=239,s[f++]=191,s[f++]=189,x=m;continue}m=x-55296<<10|m-56320|65536,x=null}else x&&(s[f++]=239,s[f++]=191,s[f++]=189,x=null);m<128?s[f++]=m:(m<2048?s[f++]=m>>6|192:(m<65536?s[f++]=m>>12|224:(s[f++]=m>>18|240,s[f++]=m>>12&63|128),s[f++]=m>>6&63|128),s[f++]=63&m|128)}return f}(this.buf,i,this.pos);var a=this.pos-e;a>=128&&m3(e,a,this),this.pos=e-1,this.writeVarint(a),this.pos+=a},writeFloat:function(i){this.realloc(4),p3(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),p3(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var e=i.length;this.writeVarint(e),this.realloc(e);for(var a=0;a<e;a++)this.buf[this.pos++]=i[a]},writeRawMessage:function(i,e){this.pos++;var a=this.pos;i(e,this);var s=this.pos-a;s>=128&&m3(a,s,this),this.pos=a-1,this.writeVarint(s),this.pos+=s},writeMessage:function(i,e,a){this.writeTag(i,Qe.Bytes),this.writeRawMessage(e,a)},writePackedVarint:function(i,e){e.length&&this.writeMessage(i,A5,e)},writePackedSVarint:function(i,e){e.length&&this.writeMessage(i,k5,e)},writePackedBoolean:function(i,e){e.length&&this.writeMessage(i,P5,e)},writePackedFloat:function(i,e){e.length&&this.writeMessage(i,C5,e)},writePackedDouble:function(i,e){e.length&&this.writeMessage(i,I5,e)},writePackedFixed32:function(i,e){e.length&&this.writeMessage(i,M5,e)},writePackedSFixed32:function(i,e){e.length&&this.writeMessage(i,z5,e)},writePackedFixed64:function(i,e){e.length&&this.writeMessage(i,D5,e)},writePackedSFixed64:function(i,e){e.length&&this.writeMessage(i,L5,e)},writeBytesField:function(i,e){this.writeTag(i,Qe.Bytes),this.writeBytes(e)},writeFixed32Field:function(i,e){this.writeTag(i,Qe.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(i,e){this.writeTag(i,Qe.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(i,e){this.writeTag(i,Qe.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(i,e){this.writeTag(i,Qe.Fixed64),this.writeSFixed64(e)},writeVarintField:function(i,e){this.writeTag(i,Qe.Varint),this.writeVarint(e)},writeSVarintField:function(i,e){this.writeTag(i,Qe.Varint),this.writeSVarint(e)},writeStringField:function(i,e){this.writeTag(i,Qe.Bytes),this.writeString(e)},writeFloatField:function(i,e){this.writeTag(i,Qe.Fixed32),this.writeFloat(e)},writeDoubleField:function(i,e){this.writeTag(i,Qe.Fixed64),this.writeDouble(e)},writeBooleanField:function(i,e){this.writeVarintField(i,Boolean(e))}};class yg{constructor(e,{pixelRatio:a,version:s,stretchX:d,stretchY:f,content:m}){this.paddedRect=e,this.pixelRatio=a,this.stretchX=d,this.stretchY=f,this.content=m,this.version=s}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class v3{constructor(e,a){const s={},d={};this.haveRenderCallbacks=[];const f=[];this.addImages(e,s,f),this.addImages(a,d,f);const{w:m,h:x}=_3(f),b=new cr({width:m||1,height:x||1});for(const A in e){const I=e[A],M=s[A].paddedRect;cr.copy(I.data,b,{x:0,y:0},{x:M.x+1,y:M.y+1},I.data)}for(const A in a){const I=a[A],M=d[A].paddedRect,D=M.x+1,R=M.y+1,B=I.data.width,X=I.data.height;cr.copy(I.data,b,{x:0,y:0},{x:D,y:R},I.data),cr.copy(I.data,b,{x:0,y:X-1},{x:D,y:R-1},{width:B,height:1}),cr.copy(I.data,b,{x:0,y:0},{x:D,y:R+X},{width:B,height:1}),cr.copy(I.data,b,{x:B-1,y:0},{x:D-1,y:R},{width:1,height:X}),cr.copy(I.data,b,{x:0,y:0},{x:D+B,y:R},{width:1,height:X})}this.image=b,this.iconPositions=s,this.patternPositions=d}addImages(e,a,s){for(const d in e){const f=e[d],m={x:0,y:0,w:f.data.width+2,h:f.data.height+2};s.push(m),a[d]=new yg(m,f),f.hasRenderCallback&&this.haveRenderCallbacks.push(d)}}patchUpdatedImages(e,a){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const s in e.updatedImages)this.patchUpdatedImage(this.iconPositions[s],e.getImage(s),a),this.patchUpdatedImage(this.patternPositions[s],e.getImage(s),a)}patchUpdatedImage(e,a,s){if(!e||!a||e.version===a.version)return;e.version=a.version;const[d,f]=e.tl;s.update(a.data,void 0,{x:d,y:f})}}Jt("ImagePosition",yg),Jt("ImageAtlas",v3),u.WritingMode=void 0,(Ja=u.WritingMode||(u.WritingMode={}))[Ja.none=0]="none",Ja[Ja.horizontal=1]="horizontal",Ja[Ja.vertical=2]="vertical",Ja[Ja.horizontalOnly=3]="horizontalOnly";const Nd=-17;class Vu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,a){const s=new Vu;return s.scale=e||1,s.fontStack=a,s}static forImage(e){const a=new Vu;return a.imageName=e,a}}class os{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,a){const s=new os;for(let d=0;d<e.sections.length;d++){const f=e.sections[d];f.image?s.addImageSection(f):s.addTextSection(f,a)}return s}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let a="";for(let s=0;s<e.length;s++){const d=e.charCodeAt(s+1)||null,f=e.charCodeAt(s-1)||null;a+=d&&Ed(d)&&!Nu[e[s+1]]||f&&Ed(f)&&!Nu[e[s-1]]||!Nu[e[s]]?e[s]:Nu[e[s]]}return a}(this.text)}trim(){let e=0;for(let s=0;s<this.text.length&&jd[this.text.charCodeAt(s)];s++)e++;let a=this.text.length;for(let s=this.text.length-1;s>=0&&s>=e&&jd[this.text.charCodeAt(s)];s--)a--;this.text=this.text.substring(e,a),this.sectionIndex=this.sectionIndex.slice(e,a)}substring(e,a){const s=new os;return s.text=this.text.substring(e,a),s.sectionIndex=this.sectionIndex.slice(e,a),s.sections=this.sections,s}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,a)=>Math.max(e,this.sections[a].scale),0)}addTextSection(e,a){this.text+=e.text,this.sections.push(Vu.forText(e.scale,e.fontStack||a));const s=this.sections.length-1;for(let d=0;d<e.text.length;++d)this.sectionIndex.push(s)}addImageSection(e){const a=e.image?e.image.name:"";if(a.length===0)return void bt("Can't add FormattedSection with an empty image.");const s=this.getNextImageSectionCharCode();s?(this.text+=String.fromCharCode(s),this.sections.push(Vu.forImage(a)),this.sectionIndex.push(this.sections.length-1)):bt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Vd(i,e,a,s,d,f,m,x,b,A,I,M,D,R,B,X){const K=os.fromFeature(i,d);let lt;M===u.WritingMode.vertical&&K.verticalizePunctuation();const{processBidirectionalText:ht,processStyledBidirectionalText:ct}=Ki;if(ht&&K.sections.length===1){lt=[];const Tt=ht(K.toString(),_g(K,A,f,e,s,R,B));for(const Qt of Tt){const le=new os;le.text=Qt,le.sections=K.sections;for(let Zt=0;Zt<Qt.length;Zt++)le.sectionIndex.push(0);lt.push(le)}}else if(ct){lt=[];const Tt=ct(K.text,K.sectionIndex,_g(K,A,f,e,s,R,B));for(const Qt of Tt){const le=new os;le.text=Qt[0],le.sectionIndex=Qt[1],le.sections=K.sections,lt.push(le)}}else lt=function(Tt,Qt){const le=[],Zt=Tt.text;let Wt=0;for(const Bt of Qt)le.push(Tt.substring(Wt,Bt)),Wt=Bt;return Wt<Zt.length&&le.push(Tt.substring(Wt,Zt.length)),le}(K,_g(K,A,f,e,s,R,B));const wt=[],Ct={positionedLines:wt,text:K.toString(),top:I[1],bottom:I[1],left:I[0],right:I[0],writingMode:M,iconsInText:!1,verticalizable:!1};return function(Tt,Qt,le,Zt,Wt,Bt,Yt,Ht,zt,pe,ue,Fe){let We=0,fn=Nd,mn=0,ai=0;const Vn=Ht==="right"?1:Ht==="left"?0:.5;let jn=0;for(const $n of Wt){$n.trim();const li=$n.getMaxScale(),yi=(li-1)*ni,Pi={positionedGlyphs:[],lineOffset:0};Tt.positionedLines[jn]=Pi;const Vi=Pi.positionedGlyphs;let ji=0;if(!$n.length()){fn+=Bt,++jn;continue}for(let Qn=0;Qn<$n.length();Qn++){const De=$n.getSection(Qn),Qi=$n.getSectionIndex(Qn),si=$n.getCharCode(Qn);let _i=0,Er=null,Or=null,Ur=null,xa=ni;const Tr=!(zt===u.WritingMode.horizontal||!ue&&!Vo(si)||ue&&(jd[si]||(Jn=si,$t.Arabic(Jn)||$t["Arabic Supplement"](Jn)||$t["Arabic Extended-A"](Jn)||$t["Arabic Presentation Forms-A"](Jn)||$t["Arabic Presentation Forms-B"](Jn))));if(De.imageName){const dr=Zt[De.imageName];if(!dr)continue;Ur=De.imageName,Tt.iconsInText=Tt.iconsInText||!0,Or=dr.paddedRect;const $i=dr.displaySize;De.scale=De.scale*ni/Fe,Er={width:$i[0],height:$i[1],left:1,top:-3,advance:Tr?$i[1]:$i[0]},_i=yi+(ni-$i[1]*De.scale),xa=Er.advance;const wa=Tr?$i[0]*De.scale-ni*li:$i[1]*De.scale-ni*li;wa>0&&wa>ji&&(ji=wa)}else{const dr=le[De.fontStack],$i=dr&&dr[si];if($i&&$i.rect)Or=$i.rect,Er=$i.metrics;else{const wa=Qt[De.fontStack],Gu=wa&&wa[si];if(!Gu)continue;Er=Gu.metrics}_i=(li-De.scale)*ni}Tr?(Tt.verticalizable=!0,Vi.push({glyph:si,imageName:Ur,x:We,y:fn+_i,vertical:Tr,scale:De.scale,fontStack:De.fontStack,sectionIndex:Qi,metrics:Er,rect:Or}),We+=xa*De.scale+pe):(Vi.push({glyph:si,imageName:Ur,x:We,y:fn+_i,vertical:Tr,scale:De.scale,fontStack:De.fontStack,sectionIndex:Qi,metrics:Er,rect:Or}),We+=Er.advance*De.scale+pe)}Vi.length!==0&&(mn=Math.max(We-pe,mn),N5(Vi,0,Vi.length-1,Vn,ji)),We=0;const _n=Bt*li+ji;Pi.lineOffset=Math.max(ji,yi),fn+=_n,ai=Math.max(_n,ai),++jn}var Jn;const oi=fn-Nd,{horizontalAlign:mi,verticalAlign:Ni}=vg(Yt);(function($n,li,yi,Pi,Vi,ji,_n,Qn,De){const Qi=(li-yi)*Vi;let si=0;si=ji!==_n?-Qn*Pi-Nd:(-Pi*De+.5)*_n;for(const _i of $n)for(const Er of _i.positionedGlyphs)Er.x+=Qi,Er.y+=si})(Tt.positionedLines,Vn,mi,Ni,mn,ai,Bt,oi,Wt.length),Tt.top+=-Ni*oi,Tt.bottom=Tt.top+oi,Tt.left+=-mi*mn,Tt.right=Tt.left+mn}(Ct,e,a,s,lt,m,x,b,M,A,D,X),!function(Tt){for(const Qt of Tt)if(Qt.positionedGlyphs.length!==0)return!1;return!0}(wt)&&Ct}const jd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},O5={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function x3(i,e,a,s,d,f){if(e.imageName){const m=s[e.imageName];return m?m.displaySize[0]*e.scale*ni/f+d:0}{const m=a[e.fontStack],x=m&&m[i];return x?x.metrics.advance*e.scale+d:0}}function w3(i,e,a,s){const d=Math.pow(i-e,2);return s?i<e?d/2:2*d:d+Math.abs(a)*a}function U5(i,e,a){let s=0;return i===10&&(s-=1e4),a&&(s+=150),i!==40&&i!==65288||(s+=50),e!==41&&e!==65289||(s+=50),s}function b3(i,e,a,s,d,f){let m=null,x=w3(e,a,d,f);for(const b of s){const A=w3(e-b.x,a,d,f)+b.badness;A<=x&&(m=b,x=A)}return{index:i,x:e,priorBreak:m,badness:x}}function S3(i){return i?S3(i.priorBreak).concat(i.index):[]}function _g(i,e,a,s,d,f,m){if(f!=="point")return[];if(!i)return[];const x=[],b=function(D,R,B,X,K,lt){let ht=0;for(let ct=0;ct<D.length();ct++){const wt=D.getSection(ct);ht+=x3(D.getCharCode(ct),wt,X,K,R,lt)}return ht/Math.max(1,Math.ceil(ht/B))}(i,e,a,s,d,m),A=i.text.indexOf("\u200B")>=0;let I=0;for(let D=0;D<i.length();D++){const R=i.getSection(D),B=i.getCharCode(D);if(jd[B]||(I+=x3(B,R,s,d,e,m)),D<i.length()-1){const X=!((M=B)<11904||!($t["Bopomofo Extended"](M)||$t.Bopomofo(M)||$t["CJK Compatibility Forms"](M)||$t["CJK Compatibility Ideographs"](M)||$t["CJK Compatibility"](M)||$t["CJK Radicals Supplement"](M)||$t["CJK Strokes"](M)||$t["CJK Symbols and Punctuation"](M)||$t["CJK Unified Ideographs Extension A"](M)||$t["CJK Unified Ideographs"](M)||$t["Enclosed CJK Letters and Months"](M)||$t["Halfwidth and Fullwidth Forms"](M)||$t.Hiragana(M)||$t["Ideographic Description Characters"](M)||$t["Kangxi Radicals"](M)||$t["Katakana Phonetic Extensions"](M)||$t.Katakana(M)||$t["Vertical Forms"](M)||$t["Yi Radicals"](M)||$t["Yi Syllables"](M)));(O5[B]||X||R.imageName)&&x.push(b3(D+1,I,b,x,U5(B,i.getCharCode(D+1),X&&A),!1))}}var M;return S3(b3(i.length(),I,b,x,0,!0))}function vg(i){let e=.5,a=.5;switch(i){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(i){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:e,verticalAlign:a}}function N5(i,e,a,s,d){if(!s&&!d)return;const f=i[a],m=(i[a].x+f.metrics.advance*f.scale)*s;for(let x=e;x<=a;x++)i[x].x-=m,i[x].y+=d}function V5(i,e,a){const{horizontalAlign:s,verticalAlign:d}=vg(a),f=e[0]-i.displaySize[0]*s,m=e[1]-i.displaySize[1]*d;return{image:i,top:m,bottom:m+i.displaySize[1],left:f,right:f+i.displaySize[0]}}function E3(i,e,a,s,d,f){const m=i.image;let x;if(m.content){const K=m.content,lt=m.pixelRatio||1;x=[K[0]/lt,K[1]/lt,m.displaySize[0]-K[2]/lt,m.displaySize[1]-K[3]/lt]}const b=e.left*f,A=e.right*f;let I,M,D,R;a==="width"||a==="both"?(R=d[0]+b-s[3],M=d[0]+A+s[1]):(R=d[0]+(b+A-m.displaySize[0])/2,M=R+m.displaySize[0]);const B=e.top*f,X=e.bottom*f;return a==="height"||a==="both"?(I=d[1]+B-s[0],D=d[1]+X+s[2]):(I=d[1]+(B+X-m.displaySize[1])/2,D=I+m.displaySize[1]),{image:m,top:I,right:M,bottom:D,left:R,collisionPadding:x}}const va=128;function T3(i,e){const{expression:a}=e;if(a.kind==="constant")return{kind:"constant",layoutSize:a.evaluate(new pn(i+1))};if(a.kind==="source")return{kind:"source"};{const{zoomStops:s,interpolationType:d}=a;let f=0;for(;f<s.length&&s[f]<=i;)f++;f=Math.max(0,f-1);let m=f;for(;m<s.length&&s[m]<i+1;)m++;m=Math.min(s.length-1,m);const x=s[f],b=s[m];return a.kind==="composite"?{kind:"composite",minZoom:x,maxZoom:b,interpolationType:d}:{kind:"camera",minZoom:x,maxZoom:b,minSize:a.evaluate(new pn(x)),maxSize:a.evaluate(new pn(b)),interpolationType:d}}}class Qa extends ae{constructor(e,a,s,d){super(e,a),this.angle=s,d!==void 0&&(this.segment=d)}clone(){return new Qa(this.x,this.y,this.angle,this.segment)}}function A3(i,e,a,s,d){if(e.segment===void 0)return!0;let f=e,m=e.segment+1,x=0;for(;x>-a/2;){if(m--,m<0)return!1;x-=i[m].dist(f),f=i[m]}x+=i[m].dist(i[m+1]),m++;const b=[];let A=0;for(;x<a/2;){const I=i[m],M=i[m+1];if(!M)return!1;let D=i[m-1].angleTo(I)-I.angleTo(M);for(D=Math.abs((D+3*Math.PI)%(2*Math.PI)-Math.PI),b.push({distance:x,angleDelta:D}),A+=D;x-b[0].distance>s;)A-=b.shift().angleDelta;if(A>d)return!1;m++,x+=I.dist(M)}return!0}function k3(i){let e=0;for(let a=0;a<i.length-1;a++)e+=i[a].dist(i[a+1]);return e}function C3(i,e,a){return i?.6*e*a:0}function I3(i,e){return Math.max(i?i.right-i.left:0,e?e.right-e.left:0)}function j5(i,e,a,s,d,f){const m=C3(a,d,f),x=I3(a,s)*f;let b=0;const A=k3(i)/2;for(let I=0;I<i.length-1;I++){const M=i[I],D=i[I+1],R=M.dist(D);if(b+R>A){const B=(A-b)/R,X=Un(M.x,D.x,B),K=Un(M.y,D.y,B),lt=new Qa(X,K,D.angleTo(M),I);return lt._round(),!m||A3(i,lt,x,m,e)?lt:void 0}b+=R}}function $5(i,e,a,s,d,f,m,x,b){const A=C3(s,f,m),I=I3(s,d),M=I*m,D=i[0].x===0||i[0].x===b||i[0].y===0||i[0].y===b;return e-M<e/4&&(e=M+e/4),P3(i,D?e/2*x%e:(I/2+2*f)*m*x%e,e,A,a,M,D,!1,b)}function P3(i,e,a,s,d,f,m,x,b){const A=f/2,I=k3(i);let M=0,D=e-a,R=[];for(let B=0;B<i.length-1;B++){const X=i[B],K=i[B+1],lt=X.dist(K),ht=K.angleTo(X);for(;D+a<M+lt;){D+=a;const ct=(D-M)/lt,wt=Un(X.x,K.x,ct),Ct=Un(X.y,K.y,ct);if(wt>=0&&wt<b&&Ct>=0&&Ct<b&&D-A>=0&&D+A<=I){const Tt=new Qa(wt,Ct,ht,B);Tt._round(),s&&!A3(i,Tt,f,s,d)||R.push(Tt)}}M+=lt}return x||R.length||m||(R=P3(i,M/2,a,s,d,f,m,!0,b)),R}function M3(i,e,a,s,d){const f=[];for(let m=0;m<i.length;m++){const x=i[m];let b;for(let A=0;A<x.length-1;A++){let I=x[A],M=x[A+1];I.x<e&&M.x<e||(I.x<e?I=new ae(e,I.y+(e-I.x)/(M.x-I.x)*(M.y-I.y))._round():M.x<e&&(M=new ae(e,I.y+(e-I.x)/(M.x-I.x)*(M.y-I.y))._round()),I.y<a&&M.y<a||(I.y<a?I=new ae(I.x+(a-I.y)/(M.y-I.y)*(M.x-I.x),a)._round():M.y<a&&(M=new ae(I.x+(a-I.y)/(M.y-I.y)*(M.x-I.x),a)._round()),I.x>=s&&M.x>=s||(I.x>=s?I=new ae(s,I.y+(s-I.x)/(M.x-I.x)*(M.y-I.y))._round():M.x>=s&&(M=new ae(s,I.y+(s-I.x)/(M.x-I.x)*(M.y-I.y))._round()),I.y>=d&&M.y>=d||(I.y>=d?I=new ae(I.x+(d-I.y)/(M.y-I.y)*(M.x-I.x),d)._round():M.y>=d&&(M=new ae(I.x+(d-I.y)/(M.y-I.y)*(M.x-I.x),d)._round()),b&&I.equals(b[b.length-1])||(b=[I],f.push(b)),b.push(M)))))}}return f}function z3(i,e,a,s){const d=[],f=i.image,m=f.pixelRatio,x=f.paddedRect.w-2,b=f.paddedRect.h-2,A=i.right-i.left,I=i.bottom-i.top,M=f.stretchX||[[0,x]],D=f.stretchY||[[0,b]],R=(Bt,Yt)=>Bt+Yt[1]-Yt[0],B=M.reduce(R,0),X=D.reduce(R,0),K=x-B,lt=b-X;let ht=0,ct=B,wt=0,Ct=X,Tt=0,Qt=K,le=0,Zt=lt;if(f.content&&s){const Bt=f.content;ht=$d(M,0,Bt[0]),wt=$d(D,0,Bt[1]),ct=$d(M,Bt[0],Bt[2]),Ct=$d(D,Bt[1],Bt[3]),Tt=Bt[0]-ht,le=Bt[1]-wt,Qt=Bt[2]-Bt[0]-ct,Zt=Bt[3]-Bt[1]-Ct}const Wt=(Bt,Yt,Ht,zt)=>{const pe=Gd(Bt.stretch-ht,ct,A,i.left),ue=qd(Bt.fixed-Tt,Qt,Bt.stretch,B),Fe=Gd(Yt.stretch-wt,Ct,I,i.top),We=qd(Yt.fixed-le,Zt,Yt.stretch,X),fn=Gd(Ht.stretch-ht,ct,A,i.left),mn=qd(Ht.fixed-Tt,Qt,Ht.stretch,B),ai=Gd(zt.stretch-wt,Ct,I,i.top),Vn=qd(zt.fixed-le,Zt,zt.stretch,X),jn=new ae(pe,Fe),Jn=new ae(fn,Fe),oi=new ae(fn,ai),mi=new ae(pe,ai),Ni=new ae(ue/m,We/m),$n=new ae(mn/m,Vn/m),li=e*Math.PI/180;if(li){const Vi=Math.sin(li),ji=Math.cos(li),_n=[ji,-Vi,Vi,ji];jn._matMult(_n),Jn._matMult(_n),mi._matMult(_n),oi._matMult(_n)}const yi=Bt.stretch+Bt.fixed,Pi=Yt.stretch+Yt.fixed;return{tl:jn,tr:Jn,bl:mi,br:oi,tex:{x:f.paddedRect.x+1+yi,y:f.paddedRect.y+1+Pi,w:Ht.stretch+Ht.fixed-yi,h:zt.stretch+zt.fixed-Pi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ni,pixelOffsetBR:$n,minFontScaleX:Qt/m/A,minFontScaleY:Zt/m/I,isSDF:a}};if(s&&(f.stretchX||f.stretchY)){const Bt=D3(M,K,B),Yt=D3(D,lt,X);for(let Ht=0;Ht<Bt.length-1;Ht++){const zt=Bt[Ht],pe=Bt[Ht+1];for(let ue=0;ue<Yt.length-1;ue++)d.push(Wt(zt,Yt[ue],pe,Yt[ue+1]))}}else d.push(Wt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:x+1},{fixed:0,stretch:b+1}));return d}function $d(i,e,a){let s=0;for(const d of i)s+=Math.max(e,Math.min(a,d[1]))-Math.max(e,Math.min(a,d[0]));return s}function D3(i,e,a){const s=[{fixed:-1,stretch:0}];for(const[d,f]of i){const m=s[s.length-1];s.push({fixed:d-m.stretch,stretch:m.stretch}),s.push({fixed:d-m.stretch,stretch:m.stretch+(f-d)})}return s.push({fixed:e+1,stretch:a}),s}function Gd(i,e,a,s){return i/e*a+s}function qd(i,e,a,s){return i-e*a/s}Jt("Anchor",Qa);class Zd{constructor(e,a,s,d,f,m,x,b,A,I){if(this.boxStartIndex=e.length,A){let M=m.top,D=m.bottom;const R=m.collisionPadding;R&&(M-=R[1],D+=R[3]);let B=D-M;B>0&&(B=Math.max(10,B),this.circleDiameter=B)}else{let M=m.top*x-b,D=m.bottom*x+b,R=m.left*x-b,B=m.right*x+b;const X=m.collisionPadding;if(X&&(R-=X[0]*x,M-=X[1]*x,B+=X[2]*x,D+=X[3]*x),I){const K=new ae(R,M),lt=new ae(B,M),ht=new ae(R,D),ct=new ae(B,D),wt=I*Math.PI/180;K._rotate(wt),lt._rotate(wt),ht._rotate(wt),ct._rotate(wt),R=Math.min(K.x,lt.x,ht.x,ct.x),B=Math.max(K.x,lt.x,ht.x,ct.x),M=Math.min(K.y,lt.y,ht.y,ct.y),D=Math.max(K.y,lt.y,ht.y,ct.y)}e.emplaceBack(a.x,a.y,R,M,B,D,s,d,f)}this.boxEndIndex=e.length}}class G5{constructor(e=[],a=q5){if(this.data=e,this.length=this.data.length,this.compare=a,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:a,compare:s}=this,d=a[e];for(;e>0;){const f=e-1>>1,m=a[f];if(s(d,m)>=0)break;a[e]=m,e=f}a[e]=d}_down(e){const{data:a,compare:s}=this,d=this.length>>1,f=a[e];for(;e<d;){let m=1+(e<<1),x=a[m];const b=m+1;if(b<this.length&&s(a[b],x)<0&&(m=b,x=a[b]),s(x,f)>=0)break;a[e]=x,e=m}a[e]=f}}function q5(i,e){return i<e?-1:i>e?1:0}function Z5(i,e=1,a=!1){let s=1/0,d=1/0,f=-1/0,m=-1/0;const x=i[0];for(let R=0;R<x.length;R++){const B=x[R];(!R||B.x<s)&&(s=B.x),(!R||B.y<d)&&(d=B.y),(!R||B.x>f)&&(f=B.x),(!R||B.y>m)&&(m=B.y)}const b=Math.min(f-s,m-d);let A=b/2;const I=new G5([],W5);if(b===0)return new ae(s,d);for(let R=s;R<f;R+=b)for(let B=d;B<m;B+=b)I.push(new ls(R+A,B+A,A,i));let M=function(R){let B=0,X=0,K=0;const lt=R[0];for(let ht=0,ct=lt.length,wt=ct-1;ht<ct;wt=ht++){const Ct=lt[ht],Tt=lt[wt],Qt=Ct.x*Tt.y-Tt.x*Ct.y;X+=(Ct.x+Tt.x)*Qt,K+=(Ct.y+Tt.y)*Qt,B+=3*Qt}return new ls(X/B,K/B,0,R)}(i),D=I.length;for(;I.length;){const R=I.pop();(R.d>M.d||!M.d)&&(M=R,a&&console.log("found best %d after %d probes",Math.round(1e4*R.d)/1e4,D)),R.max-M.d<=e||(A=R.h/2,I.push(new ls(R.p.x-A,R.p.y-A,A,i)),I.push(new ls(R.p.x+A,R.p.y-A,A,i)),I.push(new ls(R.p.x-A,R.p.y+A,A,i)),I.push(new ls(R.p.x+A,R.p.y+A,A,i)),D+=4)}return a&&(console.log(`num probes: ${D}`),console.log(`best distance: ${M.d}`)),M.p}function W5(i,e){return e.max-i.max}function ls(i,e,a,s){this.p=new ae(i,e),this.h=a,this.d=function(d,f){let m=!1,x=1/0;for(let b=0;b<f.length;b++){const A=f[b];for(let I=0,M=A.length,D=M-1;I<M;D=I++){const R=A[I],B=A[D];R.y>d.y!=B.y>d.y&&d.x<(B.x-R.x)*(d.y-R.y)/(B.y-R.y)+R.x&&(m=!m),x=Math.min(x,G0(d,R,B))}}return(m?1:-1)*Math.sqrt(x)}(this.p,s),this.max=this.d+this.h*Math.SQRT2}const xg=Number.POSITIVE_INFINITY;function L3(i,e){return e[1]!==xg?function(a,s,d){let f=0,m=0;switch(s=Math.abs(s),d=Math.abs(d),a){case"top-right":case"top-left":case"top":m=d-7;break;case"bottom-right":case"bottom-left":case"bottom":m=7-d}switch(a){case"top-right":case"bottom-right":case"right":f=-s;break;case"top-left":case"bottom-left":case"left":f=s}return[f,m]}(i,e[0],e[1]):function(a,s){let d=0,f=0;s<0&&(s=0);const m=s/Math.sqrt(2);switch(a){case"top-right":case"top-left":f=m-7;break;case"bottom-right":case"bottom-left":f=7-m;break;case"bottom":f=7-s;break;case"top":f=s-7}switch(a){case"top-right":case"bottom-right":d=-m;break;case"top-left":case"bottom-left":d=m;break;case"left":d=s;break;case"right":d=-s}return[d,f]}(i,e[0])}function wg(i){switch(i){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function H5(i,e,a,s,d,f,m,x,b,A,I){let M=f.textMaxSize.evaluate(e,{});M===void 0&&(M=m);const D=i.layers[0].layout,R=D.get("icon-offset").evaluate(e,{},I),B=F3(a.horizontal),X=m/24,K=i.tilePixelRatio*X,lt=i.tilePixelRatio*M/24,ht=i.tilePixelRatio*x,ct=i.tilePixelRatio*D.get("symbol-spacing"),wt=D.get("text-padding")*i.tilePixelRatio,Ct=D.get("icon-padding")*i.tilePixelRatio,Tt=D.get("text-max-angle")/180*Math.PI,Qt=D.get("text-rotation-alignment")!=="viewport"&&D.get("symbol-placement")!=="point",le=D.get("icon-rotation-alignment")==="map"&&D.get("symbol-placement")!=="point",Zt=D.get("symbol-placement"),Wt=ct/2,Bt=D.get("icon-text-fit");let Yt;s&&Bt!=="none"&&(i.allowVerticalPlacement&&a.vertical&&(Yt=E3(s,a.vertical,Bt,D.get("icon-text-fit-padding"),R,X)),B&&(s=E3(s,B,Bt,D.get("icon-text-fit-padding"),R,X)));const Ht=(zt,pe)=>{pe.x<0||pe.x>=Xn||pe.y<0||pe.y>=Xn||function(ue,Fe,We,fn,mn,ai,Vn,jn,Jn,oi,mi,Ni,$n,li,yi,Pi,Vi,ji,_n,Qn,De,Qi,si,_i,Er){const Or=ue.addToLineVertexArray(Fe,We);let Ur,xa,Tr,dr,$i=0,wa=0,Gu=0,J3=0,Mg=-1,zg=-1;const ba={};let Q3=Iu(""),Dg=0,Lg=0;if(jn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Dg,Lg]=jn.layout.get("text-offset").evaluate(De,{},_i).map(Gi=>Gi*ni):(Dg=jn.layout.get("text-radial-offset").evaluate(De,{},_i)*ni,Lg=xg),ue.allowVerticalPlacement&&fn.vertical){const Gi=jn.layout.get("text-rotate").evaluate(De,{},_i)+90;Tr=new Zd(Jn,Fe,oi,mi,Ni,fn.vertical,$n,li,yi,Gi),Vn&&(dr=new Zd(Jn,Fe,oi,mi,Ni,Vn,Vi,ji,yi,Gi))}if(mn){const Gi=jn.layout.get("icon-rotate").evaluate(De,{}),Xr=jn.layout.get("icon-text-fit")!=="none",qu=z3(mn,Gi,si,Xr),Zu=Vn?z3(Vn,Gi,si,Xr):void 0;xa=new Zd(Jn,Fe,oi,mi,Ni,mn,Vi,ji,!1,Gi),$i=4*qu.length;const nm=ue.iconSizeData;let Ko=null;nm.kind==="source"?(Ko=[va*jn.layout.get("icon-size").evaluate(De,{})],Ko[0]>to&&bt(`${ue.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):nm.kind==="composite"&&(Ko=[va*Qi.compositeIconSizes[0].evaluate(De,{},_i),va*Qi.compositeIconSizes[1].evaluate(De,{},_i)],(Ko[0]>to||Ko[1]>to)&&bt(`${ue.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),ue.addSymbols(ue.icon,qu,Ko,Qn,_n,De,u.WritingMode.none,Fe,Or.lineStartIndex,Or.lineLength,-1,_i),Mg=ue.icon.placedSymbolArray.length-1,Zu&&(wa=4*Zu.length,ue.addSymbols(ue.icon,Zu,Ko,Qn,_n,De,u.WritingMode.vertical,Fe,Or.lineStartIndex,Or.lineLength,-1,_i),zg=ue.icon.placedSymbolArray.length-1)}const tm=Object.keys(fn.horizontal);for(const Gi of tm){const Xr=fn.horizontal[Gi];if(!Ur){Q3=Iu(Xr.text);const Zu=jn.layout.get("text-rotate").evaluate(De,{},_i);Ur=new Zd(Jn,Fe,oi,mi,Ni,Xr,$n,li,yi,Zu)}const qu=Xr.positionedLines.length===1;if(Gu+=R3(ue,Fe,Xr,ai,jn,yi,De,Pi,Or,fn.vertical?u.WritingMode.horizontal:u.WritingMode.horizontalOnly,qu?tm:[Gi],ba,Mg,Qi,_i),qu)break}fn.vertical&&(J3+=R3(ue,Fe,fn.vertical,ai,jn,yi,De,Pi,Or,u.WritingMode.vertical,["vertical"],ba,zg,Qi,_i));const l_=Ur?Ur.boxStartIndex:ue.collisionBoxArray.length,s_=Ur?Ur.boxEndIndex:ue.collisionBoxArray.length,u_=Tr?Tr.boxStartIndex:ue.collisionBoxArray.length,c_=Tr?Tr.boxEndIndex:ue.collisionBoxArray.length,d_=xa?xa.boxStartIndex:ue.collisionBoxArray.length,h_=xa?xa.boxEndIndex:ue.collisionBoxArray.length,p_=dr?dr.boxStartIndex:ue.collisionBoxArray.length,g_=dr?dr.boxEndIndex:ue.collisionBoxArray.length;let Nr=-1;const Yd=(Gi,Xr)=>Gi&&Gi.circleDiameter?Math.max(Gi.circleDiameter,Xr):Xr;Nr=Yd(Ur,Nr),Nr=Yd(Tr,Nr),Nr=Yd(xa,Nr),Nr=Yd(dr,Nr);const em=Nr>-1?1:0;em&&(Nr*=Er/ni),ue.glyphOffsetArray.length>=ss.MAX_GLYPHS&&bt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),De.sortKey!==void 0&&ue.addToSortKeyRanges(ue.symbolInstances.length,De.sortKey),ue.symbolInstances.emplaceBack(Fe.x,Fe.y,ba.right>=0?ba.right:-1,ba.center>=0?ba.center:-1,ba.left>=0?ba.left:-1,ba.vertical||-1,Mg,zg,Q3,l_,s_,u_,c_,d_,h_,p_,g_,oi,Gu,J3,$i,wa,em,0,$n,Dg,Lg,Nr)}(i,pe,zt,a,s,d,Yt,i.layers[0],i.collisionBoxArray,e.index,e.sourceLayerIndex,i.index,K,wt,Qt,b,ht,Ct,le,R,e,f,A,I,m)};if(Zt==="line")for(const zt of M3(e.geometry,0,0,Xn,Xn)){const pe=$5(zt,ct,Tt,a.vertical||B,s,24,lt,i.overscaling,Xn);for(const ue of pe){const Fe=B;Fe&&X5(i,Fe.text,Wt,ue)||Ht(zt,ue)}}else if(Zt==="line-center"){for(const zt of e.geometry)if(zt.length>1){const pe=j5(zt,Tt,a.vertical||B,s,24,lt);pe&&Ht(zt,pe)}}else if(e.type==="Polygon")for(const zt of sg(e.geometry,0)){const pe=Z5(zt,16);Ht(zt[0],new Qa(pe.x,pe.y,0))}else if(e.type==="LineString")for(const zt of e.geometry)Ht(zt,new Qa(zt[0].x,zt[0].y,0));else if(e.type==="Point")for(const zt of e.geometry)for(const pe of zt)Ht([pe],new Qa(pe.x,pe.y,0))}const to=32640;function R3(i,e,a,s,d,f,m,x,b,A,I,M,D,R,B){const X=function(ht,ct,wt,Ct,Tt,Qt,le,Zt){const Wt=Ct.layout.get("text-rotate").evaluate(Qt,{})*Math.PI/180,Bt=[];for(const Yt of ct.positionedLines)for(const Ht of Yt.positionedGlyphs){if(!Ht.rect)continue;const zt=Ht.rect||{};let pe=4,ue=!0,Fe=1,We=0;const fn=(Tt||Zt)&&Ht.vertical,mn=Ht.metrics.advance*Ht.scale/2;if(Zt&&ct.verticalizable){const _n=(Ht.scale-1)*ni,Qn=(ni-Ht.metrics.width*Ht.scale)/2;We=Yt.lineOffset/2-(Ht.imageName?-Qn:_n)}if(Ht.imageName){const _n=le[Ht.imageName];ue=_n.sdf,Fe=_n.pixelRatio,pe=1/Fe}const ai=Tt?[Ht.x+mn,Ht.y]:[0,0];let Vn=Tt?[0,0]:[Ht.x+mn+wt[0],Ht.y+wt[1]-We],jn=[0,0];fn&&(jn=Vn,Vn=[0,0]);const Jn=(Ht.metrics.left-pe)*Ht.scale-mn+Vn[0],oi=(-Ht.metrics.top-pe)*Ht.scale+Vn[1],mi=Jn+zt.w*Ht.scale/Fe,Ni=oi+zt.h*Ht.scale/Fe,$n=new ae(Jn,oi),li=new ae(mi,oi),yi=new ae(Jn,Ni),Pi=new ae(mi,Ni);if(fn){const _n=new ae(-mn,mn-Nd),Qn=-Math.PI/2,De=12-mn,Qi=new ae(22-De,-(Ht.imageName?De:0)),si=new ae(...jn);$n._rotateAround(Qn,_n)._add(Qi)._add(si),li._rotateAround(Qn,_n)._add(Qi)._add(si),yi._rotateAround(Qn,_n)._add(Qi)._add(si),Pi._rotateAround(Qn,_n)._add(Qi)._add(si)}if(Wt){const _n=Math.sin(Wt),Qn=Math.cos(Wt),De=[Qn,-_n,_n,Qn];$n._matMult(De),li._matMult(De),yi._matMult(De),Pi._matMult(De)}const Vi=new ae(0,0),ji=new ae(0,0);Bt.push({tl:$n,tr:li,bl:yi,br:Pi,tex:zt,writingMode:ct.writingMode,glyphOffset:ai,sectionIndex:Ht.sectionIndex,isSDF:ue,pixelOffsetTL:Vi,pixelOffsetBR:ji,minFontScaleX:0,minFontScaleY:0})}return Bt}(0,a,x,d,f,m,s,i.allowVerticalPlacement),K=i.textSizeData;let lt=null;K.kind==="source"?(lt=[va*d.layout.get("text-size").evaluate(m,{})],lt[0]>to&&bt(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):K.kind==="composite"&&(lt=[va*R.compositeTextSizes[0].evaluate(m,{},B),va*R.compositeTextSizes[1].evaluate(m,{},B)],(lt[0]>to||lt[1]>to)&&bt(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),i.addSymbols(i.text,X,lt,x,f,m,A,e,b.lineStartIndex,b.lineLength,D,B);for(const ht of I)M[ht]=i.text.placedSymbolArray.length-1;return 4*X.length}function F3(i){for(const e in i)return i[e];return null}function X5(i,e,a,s){const d=i.compareText;if(e in d){const f=d[e];for(let m=f.length-1;m>=0;m--)if(s.dist(f[m])<a)return!0}else d[e]=[];return d[e].push(s),!1}const K5=Ya.VectorTileFeature.types,Y5=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Wd(i,e,a,s,d,f,m,x,b,A,I,M,D){const R=x?Math.min(to,Math.round(x[0])):0,B=x?Math.min(to,Math.round(x[1])):0;i.emplaceBack(e,a,Math.round(32*s),Math.round(32*d),f,m,(R<<1)+(b?1:0),B,16*A,16*I,256*M,256*D)}function bg(i,e,a){i.emplaceBack(e.x,e.y,a),i.emplaceBack(e.x,e.y,a),i.emplaceBack(e.x,e.y,a),i.emplaceBack(e.x,e.y,a)}function J5(i){for(const e of i.sections)if(Wp(e.text))return!0;return!1}class Sg{constructor(e){this.layoutVertexArray=new ei,this.indexArray=new Ii,this.programConfigurations=e,this.segments=new je,this.dynamicLayoutVertexArray=new Oi,this.opacityVertexArray=new Yi,this.placedSymbolArray=new Mt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(e,a,s,d){this.isEmpty()||(s&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,w5.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,b5.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Y5,!0),this.opacityVertexBuffer.itemSize=1),(s||d)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Jt("SymbolBuffers",Sg);class Eg{constructor(e,a,s){this.layoutVertexArray=new e,this.layoutAttributes=a,this.indexArray=new s,this.segments=new je,this.collisionVertexArray=new Hr}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,S5.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Jt("CollisionBuffers",Eg);class ss{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(m=>m.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=eg([]),this.placementViewportMatrix=eg([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=T3(this.zoom,a["text-size"]),this.iconSizeData=T3(this.zoom,a["icon-size"]);const s=this.layers[0].layout,d=s.get("symbol-sort-key"),f=s.get("symbol-z-order");this.canOverlap=Ag(s,"text-overlap","text-allow-overlap")!=="never"||Ag(s,"icon-overlap","icon-allow-overlap")!=="never"||s.get("text-ignore-placement")||s.get("icon-ignore-placement"),this.sortFeaturesByKey=f!=="viewport-y"&&!d.isConstant(),this.sortFeaturesByY=(f==="viewport-y"||f==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,s.get("symbol-placement")==="point"&&(this.writingModes=s.get("text-writing-mode").map(m=>u.WritingMode[m])),this.stateDependentLayerIds=this.layers.filter(m=>m.isStateDependent()).map(m=>m.id),this.sourceID=e.sourceID}createArrays(){this.text=new Sg(new Zo(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Sg(new Zo(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new te,this.lineVertexArray=new Gt,this.symbolInstances=new St}calculateGlyphDependencies(e,a,s,d,f){for(let m=0;m<e.length;m++)if(a[e.charCodeAt(m)]=!0,(s||d)&&f){const x=Nu[e.charAt(m)];x&&(a[x.charCodeAt(0)]=!0)}}populate(e,a,s){const d=this.layers[0],f=d.layout,m=f.get("text-font"),x=f.get("text-field"),b=f.get("icon-image"),A=(x.value.kind!=="constant"||x.value.value instanceof G&&!x.value.value.isEmpty()||x.value.value.toString().length>0)&&(m.value.kind!=="constant"||m.value.value.length>0),I=b.value.kind!=="constant"||!!b.value.value||Object.keys(b.parameters).length>0,M=f.get("symbol-sort-key");if(this.features=[],!A&&!I)return;const D=a.iconDependencies,R=a.glyphDependencies,B=a.availableImages,X=new pn(this.zoom);for(const{feature:K,id:lt,index:ht,sourceLayerIndex:ct}of e){const wt=d._featureFilter.needGeometry,Ct=Ho(K,wt);if(!d._featureFilter.filter(X,Ct,s))continue;let Tt,Qt;if(wt||(Ct.geometry=Wo(K)),A){const Zt=d.getValueAndResolveTokens("text-field",Ct,s,B),Wt=G.factory(Zt);J5(Wt)&&(this.hasRTLText=!0),(!this.hasRTLText||Au()==="unavailable"||this.hasRTLText&&Ki.isParsed())&&(Tt=T5(Wt,d,Ct))}if(I){const Zt=d.getValueAndResolveTokens("icon-image",Ct,s,B);Qt=Zt instanceof tt?Zt:tt.fromString(Zt)}if(!Tt&&!Qt)continue;const le=this.sortFeaturesByKey?M.evaluate(Ct,{},s):void 0;if(this.features.push({id:lt,text:Tt,icon:Qt,index:ht,sourceLayerIndex:ct,geometry:Ct.geometry,properties:K.properties,type:K5[K.type],sortKey:le}),Qt&&(D[Qt.name]=!0),Tt){const Zt=m.evaluate(Ct,{},s).join(","),Wt=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.WritingMode.vertical)>=0;for(const Bt of Tt.sections)if(Bt.image)D[Bt.image.name]=!0;else{const Yt=wu(Tt.toString()),Ht=Bt.fontStack||Zt,zt=R[Ht]=R[Ht]||{};this.calculateGlyphDependencies(Bt.text,zt,Wt,this.allowVerticalPlacement,Yt)}}}f.get("symbol-placement")==="line"&&(this.features=function(K){const lt={},ht={},ct=[];let wt=0;function Ct(Zt){ct.push(K[Zt]),wt++}function Tt(Zt,Wt,Bt){const Yt=ht[Zt];return delete ht[Zt],ht[Wt]=Yt,ct[Yt].geometry[0].pop(),ct[Yt].geometry[0]=ct[Yt].geometry[0].concat(Bt[0]),Yt}function Qt(Zt,Wt,Bt){const Yt=lt[Wt];return delete lt[Wt],lt[Zt]=Yt,ct[Yt].geometry[0].shift(),ct[Yt].geometry[0]=Bt[0].concat(ct[Yt].geometry[0]),Yt}function le(Zt,Wt,Bt){const Yt=Bt?Wt[0][Wt[0].length-1]:Wt[0][0];return`${Zt}:${Yt.x}:${Yt.y}`}for(let Zt=0;Zt<K.length;Zt++){const Wt=K[Zt],Bt=Wt.geometry,Yt=Wt.text?Wt.text.toString():null;if(!Yt){Ct(Zt);continue}const Ht=le(Yt,Bt),zt=le(Yt,Bt,!0);if(Ht in ht&&zt in lt&&ht[Ht]!==lt[zt]){const pe=Qt(Ht,zt,Bt),ue=Tt(Ht,zt,ct[pe].geometry);delete lt[Ht],delete ht[zt],ht[le(Yt,ct[ue].geometry,!0)]=ue,ct[pe].geometry=null}else Ht in ht?Tt(Ht,zt,Bt):zt in lt?Qt(Ht,zt,Bt):(Ct(Zt),lt[Ht]=wt-1,ht[zt]=wt-1)}return ct.filter(Zt=>Zt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((K,lt)=>K.sortKey-lt.sortKey)}update(e,a,s){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,a,this.layers,s),this.icon.programConfigurations.updatePaintArrays(e,a,this.layers,s))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,a){const s=this.lineVertexArray.length;if(e.segment!==void 0){let d=e.dist(a[e.segment+1]),f=e.dist(a[e.segment]);const m={};for(let x=e.segment+1;x<a.length;x++)m[x]={x:a[x].x,y:a[x].y,tileUnitDistanceFromAnchor:d},x<a.length-1&&(d+=a[x+1].dist(a[x]));for(let x=e.segment||0;x>=0;x--)m[x]={x:a[x].x,y:a[x].y,tileUnitDistanceFromAnchor:f},x>0&&(f+=a[x-1].dist(a[x]));for(let x=0;x<a.length;x++){const b=m[x];this.lineVertexArray.emplaceBack(b.x,b.y,b.tileUnitDistanceFromAnchor)}}return{lineStartIndex:s,lineLength:this.lineVertexArray.length-s}}addSymbols(e,a,s,d,f,m,x,b,A,I,M,D){const R=e.indexArray,B=e.layoutVertexArray,X=e.segments.prepareSegment(4*a.length,B,R,this.canOverlap?m.sortKey:void 0),K=this.glyphOffsetArray.length,lt=X.vertexLength,ht=this.allowVerticalPlacement&&x===u.WritingMode.vertical?Math.PI/2:0,ct=m.text&&m.text.sections;for(let wt=0;wt<a.length;wt++){const{tl:Ct,tr:Tt,bl:Qt,br:le,tex:Zt,pixelOffsetTL:Wt,pixelOffsetBR:Bt,minFontScaleX:Yt,minFontScaleY:Ht,glyphOffset:zt,isSDF:pe,sectionIndex:ue}=a[wt],Fe=X.vertexLength,We=zt[1];Wd(B,b.x,b.y,Ct.x,We+Ct.y,Zt.x,Zt.y,s,pe,Wt.x,Wt.y,Yt,Ht),Wd(B,b.x,b.y,Tt.x,We+Tt.y,Zt.x+Zt.w,Zt.y,s,pe,Bt.x,Wt.y,Yt,Ht),Wd(B,b.x,b.y,Qt.x,We+Qt.y,Zt.x,Zt.y+Zt.h,s,pe,Wt.x,Bt.y,Yt,Ht),Wd(B,b.x,b.y,le.x,We+le.y,Zt.x+Zt.w,Zt.y+Zt.h,s,pe,Bt.x,Bt.y,Yt,Ht),bg(e.dynamicLayoutVertexArray,b,ht),R.emplaceBack(Fe,Fe+1,Fe+2),R.emplaceBack(Fe+1,Fe+2,Fe+3),X.vertexLength+=4,X.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(zt[0]),wt!==a.length-1&&ue===a[wt+1].sectionIndex||e.programConfigurations.populatePaintArrays(B.length,m,m.index,{},D,ct&&ct[ue])}e.placedSymbolArray.emplaceBack(b.x,b.y,K,this.glyphOffsetArray.length-K,lt,A,I,b.segment,s?s[0]:0,s?s[1]:0,d[0],d[1],x,0,!1,0,M)}_addCollisionDebugVertex(e,a,s,d,f,m){return a.emplaceBack(0,0),e.emplaceBack(s.x,s.y,d,f,Math.round(m.x),Math.round(m.y))}addCollisionDebugVertices(e,a,s,d,f,m,x){const b=f.segments.prepareSegment(4,f.layoutVertexArray,f.indexArray),A=b.vertexLength,I=f.layoutVertexArray,M=f.collisionVertexArray,D=x.anchorX,R=x.anchorY;this._addCollisionDebugVertex(I,M,m,D,R,new ae(e,a)),this._addCollisionDebugVertex(I,M,m,D,R,new ae(s,a)),this._addCollisionDebugVertex(I,M,m,D,R,new ae(s,d)),this._addCollisionDebugVertex(I,M,m,D,R,new ae(e,d)),b.vertexLength+=4;const B=f.indexArray;B.emplaceBack(A,A+1),B.emplaceBack(A+1,A+2),B.emplaceBack(A+2,A+3),B.emplaceBack(A+3,A),b.primitiveLength+=4}addDebugCollisionBoxes(e,a,s,d){for(let f=e;f<a;f++){const m=this.collisionBoxArray.get(f);this.addCollisionDebugVertices(m.x1,m.y1,m.x2,m.y2,d?this.textCollisionBox:this.iconCollisionBox,m.anchorPoint,s)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Eg(Ji,d3.members,xr),this.iconCollisionBox=new Eg(Ji,d3.members,xr);for(let e=0;e<this.symbolInstances.length;e++){const a=this.symbolInstances.get(e);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}}_deserializeCollisionBoxesForSymbol(e,a,s,d,f,m,x,b,A){const I={};for(let M=a;M<s;M++){const D=e.get(M);I.textBox={x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,anchorPointX:D.anchorPointX,anchorPointY:D.anchorPointY},I.textFeatureIndex=D.featureIndex;break}for(let M=d;M<f;M++){const D=e.get(M);I.verticalTextBox={x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,anchorPointX:D.anchorPointX,anchorPointY:D.anchorPointY},I.verticalTextFeatureIndex=D.featureIndex;break}for(let M=m;M<x;M++){const D=e.get(M);I.iconBox={x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,anchorPointX:D.anchorPointX,anchorPointY:D.anchorPointY},I.iconFeatureIndex=D.featureIndex;break}for(let M=b;M<A;M++){const D=e.get(M);I.verticalIconBox={x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,anchorPointX:D.anchorPointX,anchorPointY:D.anchorPointY},I.verticalIconFeatureIndex=D.featureIndex;break}return I}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const s=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,s.textBoxStartIndex,s.textBoxEndIndex,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,a){const s=e.placedSymbolArray.get(a),d=s.vertexStartIndex+4*s.numGlyphs;for(let f=s.vertexStartIndex;f<d;f+=4)e.indexArray.emplaceBack(f,f+1,f+2),e.indexArray.emplaceBack(f+1,f+2,f+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const a=Math.sin(e),s=Math.cos(e),d=[],f=[],m=[];for(let x=0;x<this.symbolInstances.length;++x){m.push(x);const b=this.symbolInstances.get(x);d.push(0|Math.round(a*b.anchorX+s*b.anchorY)),f.push(b.featureIndex)}return m.sort((x,b)=>d[x]-d[b]||f[b]-f[x]),m}addToSortKeyRanges(e,a){const s=this.sortKeyRanges[this.sortKeyRanges.length-1];s&&s.sortKey===a?s.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const s=this.symbolInstances.get(a);this.featureSortOrder.push(s.featureIndex),[s.rightJustifiedTextSymbolIndex,s.centerJustifiedTextSymbolIndex,s.leftJustifiedTextSymbolIndex].forEach((d,f,m)=>{d>=0&&m.indexOf(d)===f&&this.addIndicesForPlacedSymbol(this.text,d)}),s.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,s.verticalPlacedTextSymbolIndex),s.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.placedIconSymbolIndex),s.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Jt("SymbolBucket",ss,{omit:["layers","collisionBoxArray","features","compareText"]}),ss.MAX_GLYPHS=65535,ss.addDynamicAttributes=bg;const Q5=new Wn({"symbol-placement":new ne(pt.layout_symbol["symbol-placement"]),"symbol-spacing":new ne(pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ne(pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new he(pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ne(pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ne(pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ne(pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ne(pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ne(pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ne(pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new he(pt.layout_symbol["icon-size"]),"icon-text-fit":new ne(pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ne(pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new he(pt.layout_symbol["icon-image"]),"icon-rotate":new he(pt.layout_symbol["icon-rotate"]),"icon-padding":new ne(pt.layout_symbol["icon-padding"]),"icon-keep-upright":new ne(pt.layout_symbol["icon-keep-upright"]),"icon-offset":new he(pt.layout_symbol["icon-offset"]),"icon-anchor":new he(pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ne(pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ne(pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ne(pt.layout_symbol["text-rotation-alignment"]),"text-field":new he(pt.layout_symbol["text-field"]),"text-font":new he(pt.layout_symbol["text-font"]),"text-size":new he(pt.layout_symbol["text-size"]),"text-max-width":new he(pt.layout_symbol["text-max-width"]),"text-line-height":new ne(pt.layout_symbol["text-line-height"]),"text-letter-spacing":new he(pt.layout_symbol["text-letter-spacing"]),"text-justify":new he(pt.layout_symbol["text-justify"]),"text-radial-offset":new he(pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ne(pt.layout_symbol["text-variable-anchor"]),"text-anchor":new he(pt.layout_symbol["text-anchor"]),"text-max-angle":new ne(pt.layout_symbol["text-max-angle"]),"text-writing-mode":new ne(pt.layout_symbol["text-writing-mode"]),"text-rotate":new he(pt.layout_symbol["text-rotate"]),"text-padding":new ne(pt.layout_symbol["text-padding"]),"text-keep-upright":new ne(pt.layout_symbol["text-keep-upright"]),"text-transform":new he(pt.layout_symbol["text-transform"]),"text-offset":new he(pt.layout_symbol["text-offset"]),"text-allow-overlap":new ne(pt.layout_symbol["text-allow-overlap"]),"text-overlap":new ne(pt.layout_symbol["text-overlap"]),"text-ignore-placement":new ne(pt.layout_symbol["text-ignore-placement"]),"text-optional":new ne(pt.layout_symbol["text-optional"])});var Tg={paint:new Wn({"icon-opacity":new he(pt.paint_symbol["icon-opacity"]),"icon-color":new he(pt.paint_symbol["icon-color"]),"icon-halo-color":new he(pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new he(pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new he(pt.paint_symbol["icon-halo-blur"]),"icon-translate":new ne(pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ne(pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new he(pt.paint_symbol["text-opacity"]),"text-color":new he(pt.paint_symbol["text-color"],{runtimeType:gi,getOverride:i=>i.textColor,hasOverride:i=>!!i.textColor}),"text-halo-color":new he(pt.paint_symbol["text-halo-color"]),"text-halo-width":new he(pt.paint_symbol["text-halo-width"]),"text-halo-blur":new he(pt.paint_symbol["text-halo-blur"]),"text-translate":new ne(pt.paint_symbol["text-translate"]),"text-translate-anchor":new ne(pt.paint_symbol["text-translate-anchor"])}),layout:Q5};class B3{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:cn,this.defaultValue=e}evaluate(e){if(e.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(e.formattedSection))return a.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Jt("FormatSectionOverride",B3,{omit:["defaultValue"]});class Hd extends Ci{constructor(e){super(e,Tg)}recalculate(e,a){if(super.recalculate(e,a),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const s=this.layout.get("text-writing-mode");if(s){const d=[];for(const f of s)d.indexOf(f)<0&&d.push(f);this.layout._values["text-writing-mode"]=d}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,a,s,d){const f=this.layout.get(e).evaluate(a,{},s,d),m=this._unevaluatedLayout._values[e];return m.isDataDriven()||Rl(m.value)||!f?f:function(x,b){return b.replace(/{([^{}]+)}/g,(A,I)=>I in x?String(x[I]):"")}(a.properties,f)}createBucket(e){return new ss(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Tg.paint.overridableProperties){if(!Hd.hasPaintOverride(this.layout,e))continue;const a=this.paint.get(e),s=new B3(a),d=new fu(s,a.property.specification);let f=null;f=a.value.kind==="constant"||a.value.kind==="source"?new Bl("source",d):new Ol("composite",d,a.value.zoomStops,a.value._interpolationType),this.paint._values[e]=new vr(a.property,f,a.parameters)}}_handleOverridablePaintPropertyUpdate(e,a,s){return!(!this.layout||a.isDataDriven()||s.isDataDriven())&&Hd.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,a){const s=e.get("text-field"),d=Tg.paint.properties[a];let f=!1;const m=x=>{for(const b of x)if(d.overrides&&d.overrides.hasOverride(b))return void(f=!0)};if(s.value.kind==="constant"&&s.value.value instanceof G)m(s.value.value.sections);else if(s.value.kind==="source"){const x=A=>{f||(A instanceof At&&et(A.value)===or?m(A.value.sections):A instanceof ie?m(A.sections):A.eachChild(x))},b=s.value;b._styleExpression&&x(b._styleExpression.expression)}return f}}function Ag(i,e,a){let s="never";const d=i.get(e);return d?s=d:i.get(a)&&(s="always"),s}var t_={paint:new Wn({"background-color":new ne(pt.paint_background["background-color"]),"background-pattern":new $o(pt.paint_background["background-pattern"]),"background-opacity":new ne(pt.paint_background["background-opacity"])})},e_={paint:new Wn({"raster-opacity":new ne(pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ne(pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ne(pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ne(pt.paint_raster["raster-brightness-max"]),"raster-saturation":new ne(pt.paint_raster["raster-saturation"]),"raster-contrast":new ne(pt.paint_raster["raster-contrast"]),"raster-resampling":new ne(pt.paint_raster["raster-resampling"]),"raster-fade-duration":new ne(pt.paint_raster["raster-fade-duration"])})};class n_ extends Ci{constructor(e){super(e,{}),this.onAdd=a=>{this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},this.onRemove=a=>{this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},this.implementation=e}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}}const i_={circle:class extends Ci{constructor(i){super(i,R7)}createBucket(i){return new Jp(i)}queryRadius(i){const e=i;return Mu("circle-radius",this,e)+Mu("circle-stroke-width",this,e)+zd(this.paint.get("circle-translate"))}queryIntersectsFeature(i,e,a,s,d,f,m,x){const b=Dd(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),f.angle,m),A=this.paint.get("circle-radius").evaluate(e,a)+this.paint.get("circle-stroke-width").evaluate(e,a),I=this.paint.get("circle-pitch-alignment")==="map",M=I?b:function(R,B){return R.map(X=>W0(X,B))}(b,x),D=I?A*m:A;for(const R of s)for(const B of R){const X=I?B:W0(B,x);let K=D;const lt=Ld([],[B.x,B.y,0,1],x);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?K*=lt[3]/f.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(K*=f.cameraToCenterDistance/lt[3]),P7(M,X,K))return!0}return!1}},heatmap:class extends Ci{constructor(i){super(i,B7),this._updateColorRamp()}createBucket(i){return new H0(i)}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=K0({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends Ci{constructor(i){super(i,O7)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends Ci{constructor(i){super(i,t5)}recalculate(i,e){super.recalculate(i,e);const a=this.paint._values["fill-outline-color"];a.value.kind==="constant"&&a.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new dg(i)}queryRadius(){return zd(this.paint.get("fill-translate"))}queryIntersectsFeature(i,e,a,s,d,f,m){return $0(Dd(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),f.angle,m),s)}isTileClipped(){return!0}},"fill-extrusion":class extends Ci{constructor(i){super(i,p5)}createBucket(i){return new pg(i)}queryRadius(){return zd(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,e,a,s,d,f,m,x){const b=Dd(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),f.angle,m),A=this.paint.get("fill-extrusion-height").evaluate(e,a),I=this.paint.get("fill-extrusion-base").evaluate(e,a),M=function(R,B,X,K){const lt=[];for(const ht of R){const ct=[ht.x,ht.y,0,1];Ld(ct,ct,B),lt.push(new ae(ct[0]/ct[3],ct[1]/ct[3]))}return lt}(b,x),D=function(R,B,X,K){const lt=[],ht=[],ct=K[8]*B,wt=K[9]*B,Ct=K[10]*B,Tt=K[11]*B,Qt=K[8]*X,le=K[9]*X,Zt=K[10]*X,Wt=K[11]*X;for(const Bt of R){const Yt=[],Ht=[];for(const zt of Bt){const pe=zt.x,ue=zt.y,Fe=K[0]*pe+K[4]*ue+K[12],We=K[1]*pe+K[5]*ue+K[13],fn=K[2]*pe+K[6]*ue+K[14],mn=K[3]*pe+K[7]*ue+K[15],ai=fn+Ct,Vn=mn+Tt,jn=Fe+Qt,Jn=We+le,oi=fn+Zt,mi=mn+Wt,Ni=new ae((Fe+ct)/Vn,(We+wt)/Vn);Ni.z=ai/Vn,Yt.push(Ni);const $n=new ae(jn/mi,Jn/mi);$n.z=oi/mi,Ht.push($n)}lt.push(Yt),ht.push(Ht)}return[lt,ht]}(s,I,A,x);return function(R,B,X){let K=1/0;$0(X,B)&&(K=o3(X,B[0]));for(let lt=0;lt<B.length;lt++){const ht=B[lt],ct=R[lt];for(let wt=0;wt<ht.length-1;wt++){const Ct=ht[wt],Tt=[Ct,ht[wt+1],ct[wt+1],ct[wt],Ct];j0(X,Tt)&&(K=Math.min(K,o3(X,Tt)))}}return K!==1/0&&K}(D[0],D[1],M)}},line:class extends Ci{constructor(i){super(i,s3),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(i){i==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Po,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,e){super.recalculate(i,e),this.paint._values["line-floorwidth"]=u3.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new gg(i)}queryRadius(i){const e=i,a=c3(Mu("line-width",this,e),Mu("line-gap-width",this,e)),s=Mu("line-offset",this,e);return a/2+Math.abs(s)+zd(this.paint.get("line-translate"))}queryIntersectsFeature(i,e,a,s,d,f,m){const x=Dd(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),f.angle,m),b=m/2*c3(this.paint.get("line-width").evaluate(e,a),this.paint.get("line-gap-width").evaluate(e,a)),A=this.paint.get("line-offset").evaluate(e,a);return A&&(s=function(I,M){const D=[];for(let R=0;R<I.length;R++){const B=I[R],X=[];for(let K=0;K<B.length;K++){const lt=B[K-1],ht=B[K],ct=B[K+1],wt=K===0?new ae(0,0):ht.sub(lt)._unit()._perp(),Ct=K===B.length-1?new ae(0,0):ct.sub(ht)._unit()._perp(),Tt=wt._add(Ct)._unit(),Qt=Tt.x*Ct.x+Tt.y*Ct.y;Qt!==0&&Tt._mult(1/Qt),X.push(Tt._mult(M)._add(ht))}D.push(X)}return D}(s,A*m)),function(I,M,D){for(let R=0;R<M.length;R++){const B=M[R];if(I.length>=3){for(let X=0;X<B.length;X++)if(ts(I,B[X]))return!0}if(M7(I,B,D))return!0}return!1}(x,s,b)}isTileClipped(){return!0}},symbol:Hd,background:class extends Ci{constructor(i){super(i,t_)}},raster:class extends Ci{constructor(i){super(i,e_)}}};class r_{constructor(e){this._callback=e,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const O3=63710088e-1;class Dn{constructor(e,a){if(isNaN(e)||isNaN(a))throw new Error(`Invalid LngLat object: (${e}, ${a})`);if(this.lng=+e,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Dn(Pt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const a=Math.PI/180,s=this.lat*a,d=e.lat*a,f=Math.sin(s)*Math.sin(d)+Math.cos(s)*Math.cos(d)*Math.cos((e.lng-this.lng)*a);return O3*Math.acos(Math.min(f,1))}toBounds(e=0){const a=360*e/40075017,s=a/Math.cos(Math.PI/180*this.lat);return new Xo(new Dn(this.lng-s,this.lat-a),new Dn(this.lng+s,this.lat+a))}static convert(e){if(e instanceof Dn)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new Dn(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e=="object"&&e!==null)return new Dn(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Xo{constructor(e,a){e&&(a?this.setSouthWest(e).setNorthEast(a):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Dn?new Dn(e.lng,e.lat):Dn.convert(e),this}setSouthWest(e){return this._sw=e instanceof Dn?new Dn(e.lng,e.lat):Dn.convert(e),this}extend(e){const a=this._sw,s=this._ne;let d,f;if(e instanceof Dn)d=e,f=e;else{if(!(e instanceof Xo))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Xo.convert(e)):this.extend(Dn.convert(e)):this;if(d=e._sw,f=e._ne,!d||!f)return this}return a||s?(a.lng=Math.min(d.lng,a.lng),a.lat=Math.min(d.lat,a.lat),s.lng=Math.max(f.lng,s.lng),s.lat=Math.max(f.lat,s.lat)):(this._sw=new Dn(d.lng,d.lat),this._ne=new Dn(f.lng,f.lat)),this}getCenter(){return new Dn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Dn(this.getWest(),this.getNorth())}getSouthEast(){return new Dn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:a,lat:s}=Dn.convert(e);let d=this._sw.lng<=a&&a<=this._ne.lng;return this._sw.lng>this._ne.lng&&(d=this._sw.lng>=a&&a>=this._ne.lng),this._sw.lat<=s&&s<=this._ne.lat&&d}static convert(e){return e instanceof Xo?e:e&&new Xo(e)}}const U3=2*Math.PI*O3;function N3(i){return U3*Math.cos(i*Math.PI/180)}function V3(i){return(180+i)/360}function j3(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function $3(i,e){return i/N3(e)}function kg(i){return 360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90}class Xd{constructor(e,a,s=0){this.x=+e,this.y=+a,this.z=+s}static fromLngLat(e,a=0){const s=Dn.convert(e);return new Xd(V3(s.lng),j3(s.lat),$3(a,s.lat))}toLngLat(){return new Dn(360*this.x-180,kg(this.y))}toAltitude(){return this.z*N3(kg(this.y))}meterInMercatorCoordinateUnits(){return 1/U3*(e=kg(this.y),1/Math.cos(e*Math.PI/180));var e}}function G3(i,e,a){var s=2*Math.PI*6378137/256/Math.pow(2,a);return[i*s-2*Math.PI*6378137/2,e*s-2*Math.PI*6378137/2]}class Cg{constructor(e,a,s){this.z=e,this.x=a,this.y=s,this.key=ju(0,e,e,a,s)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,a,s){const d=(m=this.y,x=this.z,b=G3(256*(f=this.x),256*(m=Math.pow(2,x)-m-1),x),A=G3(256*(f+1),256*(m+1),x),b[0]+","+b[1]+","+A[0]+","+A[1]);var f,m,x,b,A;const I=function(M,D,R){let B,X="";for(let K=M;K>0;K--)B=1<<K-1,X+=(D&B?1:0)+(R&B?2:0);return X}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,a>1?"@2x":"").replace(/{quadkey}/g,I).replace(/{bbox-epsg-3857}/g,d)}getTilePoint(e){const a=Math.pow(2,this.z);return new ae((e.x*a-this.x)*Xn,(e.y*a-this.y)*Xn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class q3{constructor(e,a){this.wrap=e,this.canonical=a,this.key=ju(e,a.z,a.z,a.x,a.y)}}class Sr{constructor(e,a,s,d,f){this.overscaledZ=e,this.wrap=a,this.canonical=new Cg(s,+d,+f),this.key=ju(a,e,s,d,f)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const a=this.canonical.z-e;return e>this.canonical.z?new Sr(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Sr(e,this.wrap,e,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(e,a){const s=this.canonical.z-e;return e>this.canonical.z?ju(this.wrap*+a,e,this.canonical.z,this.canonical.x,this.canonical.y):ju(this.wrap*+a,e,e,this.canonical.x>>s,this.canonical.y>>s)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const a=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>a&&e.canonical.y===this.canonical.y>>a}children(e){if(this.overscaledZ>=e)return[new Sr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,s=2*this.canonical.x,d=2*this.canonical.y;return[new Sr(a,this.wrap,a,s,d),new Sr(a,this.wrap,a,s+1,d),new Sr(a,this.wrap,a,s,d+1),new Sr(a,this.wrap,a,s+1,d+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Sr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Sr(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new q3(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new Xd(e.x-this.wrap,e.y))}}function ju(i,e,a,s,d){(i*=2)<0&&(i=-1*i-1);const f=1<<a;return(f*f*i+f*d+s).toString(36)+a.toString(36)+e.toString(36)}Jt("CanonicalTileID",Cg),Jt("OverscaledTileID",Sr,{omit:["posMatrix"]});class Z3{constructor(e,a,s){if(this.uid=e,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(s&&s!=="mapbox"&&s!=="terrarium")return void bt(`"${s}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=a.height;const d=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=s||"mapbox";for(let f=0;f<d;f++)this.data[this._idx(-1,f)]=this.data[this._idx(0,f)],this.data[this._idx(d,f)]=this.data[this._idx(d-1,f)],this.data[this._idx(f,-1)]=this.data[this._idx(f,0)],this.data[this._idx(f,d)]=this.data[this._idx(f,d-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(d,-1)]=this.data[this._idx(d-1,0)],this.data[this._idx(-1,d)]=this.data[this._idx(0,d-1)],this.data[this._idx(d,d)]=this.data[this._idx(d-1,d-1)]}get(e,a){const s=new Uint8Array(this.data.buffer),d=4*this._idx(e,a);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(s[d],s[d+1],s[d+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(e,a){if(e<-1||e>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(e+1)}_unpackMapbox(e,a,s){return(256*e*256+256*a+s)/10-1e4}_unpackTerrarium(e,a,s){return 256*e+a+s/256-32768}getPixels(){return new cr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,a,s){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let d=a*this.dim,f=a*this.dim+this.dim,m=s*this.dim,x=s*this.dim+this.dim;switch(a){case-1:d=f-1;break;case 1:f=d+1}switch(s){case-1:m=x-1;break;case 1:x=m+1}const b=-a*this.dim,A=-s*this.dim;for(let I=m;I<x;I++)for(let M=d;M<f;M++)this.data[this._idx(M,I)]=e.data[this._idx(M+b,I+A)]}}Jt("DEMData",Z3);class W3{constructor(e){this._stringToNumber={},this._numberToString=[];for(let a=0;a<e.length;a++){const s=e[a];this._stringToNumber[s]=a,this._numberToString[a]=s}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class H3{constructor(e,a,s,d,f){this.type="Feature",this._vectorTileFeature=e,e._z=a,e._x=s,e._y=d,this.properties=e.properties,this.id=f}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const a in this)a!=="_geometry"&&a!=="_vectorTileFeature"&&(e[a]=this[a]);return e}}class X3{constructor(e,a){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new da(Xn,16,0),this.grid3D=new da(Xn,16,0),this.featureIndexArray=new Oe,this.promoteId=a}insert(e,a,s,d,f,m){const x=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(s,d,f);const b=m?this.grid3D:this.grid;for(let A=0;A<a.length;A++){const I=a[A],M=[1/0,1/0,-1/0,-1/0];for(let D=0;D<I.length;D++){const R=I[D];M[0]=Math.min(M[0],R.x),M[1]=Math.min(M[1],R.y),M[2]=Math.max(M[2],R.x),M[3]=Math.max(M[3],R.y)}M[0]<Xn&&M[1]<Xn&&M[2]>=0&&M[3]>=0&&b.insert(x,M[0],M[1],M[2],M[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ya.VectorTile(new fg(this.rawTileData)).layers,this.sourceLayerCoder=new W3(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,a,s,d){this.loadVTLayers();const f=e.params||{},m=Xn/e.tileSize/e.scale,x=Vl(f.filter),b=e.queryGeometry,A=e.queryPadding*m,I=Y3(b),M=this.grid.query(I.minX-A,I.minY-A,I.maxX+A,I.maxY+A),D=Y3(e.cameraQueryGeometry),R=this.grid3D.query(D.minX-A,D.minY-A,D.maxX+A,D.maxY+A,(K,lt,ht,ct)=>function(wt,Ct,Tt,Qt,le){for(const Wt of wt)if(Ct<=Wt.x&&Tt<=Wt.y&&Qt>=Wt.x&&le>=Wt.y)return!0;const Zt=[new ae(Ct,Tt),new ae(Ct,le),new ae(Qt,le),new ae(Qt,Tt)];if(wt.length>2){for(const Wt of Zt)if(ts(wt,Wt))return!0}for(let Wt=0;Wt<wt.length-1;Wt++)if(D7(wt[Wt],wt[Wt+1],Zt))return!0;return!1}(e.cameraQueryGeometry,K-A,lt-A,ht+A,ct+A));for(const K of R)M.push(K);M.sort(a_);const B={};let X;for(let K=0;K<M.length;K++){const lt=M[K];if(lt===X)continue;X=lt;const ht=this.featureIndexArray.get(lt);let ct=null;this.loadMatchingFeature(B,ht.bucketIndex,ht.sourceLayerIndex,ht.featureIndex,x,f.layers,f.availableImages,a,s,d,(wt,Ct,Tt)=>(ct||(ct=Wo(wt)),Ct.queryIntersectsFeature(b,wt,Tt,ct,this.z,e.transform,m,e.pixelPosMatrix)))}return B}loadMatchingFeature(e,a,s,d,f,m,x,b,A,I,M){const D=this.bucketLayerIDs[a];if(m&&!function(K,lt){for(let ht=0;ht<K.length;ht++)if(lt.indexOf(K[ht])>=0)return!0;return!1}(m,D))return;const R=this.sourceLayerCoder.decode(s),B=this.vtLayers[R].feature(d);if(f.needGeometry){const K=Ho(B,!0);if(!f.filter(new pn(this.tileID.overscaledZ),K,this.tileID.canonical))return}else if(!f.filter(new pn(this.tileID.overscaledZ),B))return;const X=this.getId(B,R);for(let K=0;K<D.length;K++){const lt=D[K];if(m&&m.indexOf(lt)<0)continue;const ht=b[lt];if(!ht)continue;let ct={};X&&I&&(ct=I.getState(ht.sourceLayer||"_geojsonTileLayer",X));const wt=It({},A[lt]);wt.paint=K3(wt.paint,ht.paint,B,ct,x),wt.layout=K3(wt.layout,ht.layout,B,ct,x);const Ct=!M||M(B,ht,ct);if(!Ct)continue;const Tt=new H3(B,this.z,this.x,this.y,X);Tt.layer=wt;let Qt=e[lt];Qt===void 0&&(Qt=e[lt]=[]),Qt.push({featureIndex:d,feature:Tt,intersectionZ:Ct})}}lookupSymbolFeatures(e,a,s,d,f,m,x,b){const A={};this.loadVTLayers();const I=Vl(f);for(const M of e)this.loadMatchingFeature(A,s,d,M,I,m,x,b,a);return A}hasLayer(e){for(const a of this.bucketLayerIDs)for(const s of a)if(e===s)return!0;return!1}getId(e,a){let s=e.id;return this.promoteId&&(s=e.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[a]],typeof s=="boolean"&&(s=Number(s))),s}}function K3(i,e,a,s,d){return H(i,(f,m)=>{const x=e instanceof Xl?e.get(m):null;return x&&x.evaluate?x.evaluate(a,s,d):x})}function Y3(i){let e=1/0,a=1/0,s=-1/0,d=-1/0;for(const f of i)e=Math.min(e,f.x),a=Math.min(a,f.y),s=Math.max(s,f.x),d=Math.max(d,f.y);return{minX:e,minY:a,maxX:s,maxY:d}}function a_(i,e){return e-i}var Ig;Jt("FeatureIndex",X3,{omit:["rawTileData","sourceLayerCoder"]}),u.PerformanceMarkers=void 0,(Ig=u.PerformanceMarkers||(u.PerformanceMarkers={})).create="create",Ig.load="load",Ig.fullLoad="fullLoad";let Kd=null,$u=[];const Pg=1e3/30,o_={mark(i){performance.mark(i)},frame(i){const e=i;Kd!=null&&$u.push(e-Kd),Kd=e},clearMetrics(){Kd=null,$u=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const i in u.PerformanceMarkers)performance.clearMarks(u.PerformanceMarkers[i])},getPerformanceMetrics(){performance.measure("loadTime",u.PerformanceMarkers.create,u.PerformanceMarkers.load),performance.measure("fullLoadTime",u.PerformanceMarkers.create,u.PerformanceMarkers.fullLoad);const i=performance.getEntriesByName("loadTime")[0].duration,e=performance.getEntriesByName("fullLoadTime")[0].duration,a=$u.length,s=1/($u.reduce((f,m)=>f+m,0)/a/1e3),d=$u.filter(f=>f>Pg).reduce((f,m)=>f+(m-Pg)/Pg,0);return{loadTime:i,fullLoadTime:e,fps:s,percentDroppedFrames:d/(a+d)*100}}};u.AJAXError=me,u.ARRAY_TYPE=es,u.Actor=class{constructor(i,e,a){this.target=i,this.parent=e,this.mapId=a,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},J(["receive","process"],this),this.invoker=new r_(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Vt()?i:window}send(i,e,a,s,d=!1){const f=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(this.callbacks[f]=a);const m=Ye(this.globalScope)?void 0:[];return this.target.postMessage({id:f,type:i,hasCallback:!!a,targetMapId:s,mustQueue:d,sourceMapId:this.mapId,data:Uo(e,m)},m),{cancel:()=>{a&&delete this.callbacks[f],this.target.postMessage({id:f,type:"<cancel>",targetMapId:s,sourceMapId:this.mapId})}}}receive(i){const e=i.data,a=e.id;if(a&&(!e.targetMapId||this.mapId===e.targetMapId))if(e.type==="<cancel>"){delete this.tasks[a];const s=this.cancelCallbacks[a];delete this.cancelCallbacks[a],s&&s()}else Vt()||e.mustQueue?(this.tasks[a]=e,this.taskQueue.push(a),this.invoker.trigger()):this.processTask(a,e)}process(){if(!this.taskQueue.length)return;const i=this.taskQueue.shift(),e=this.tasks[i];delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(i,e)}processTask(i,e){if(e.type==="<response>"){const a=this.callbacks[i];delete this.callbacks[i],a&&(e.error?a(ha(e.error)):a(null,ha(e.data)))}else{let a=!1;const s=Ye(this.globalScope)?void 0:[],d=e.hasCallback?(x,b)=>{a=!0,delete this.cancelCallbacks[i],this.target.postMessage({id:i,type:"<response>",sourceMapId:this.mapId,error:x?Uo(x):null,data:Uo(b,s)},s)}:x=>{a=!0};let f=null;const m=ha(e.data);if(this.parent[e.type])f=this.parent[e.type](e.sourceMapId,m,d);else if(this.parent.getWorkerSource){const x=e.type.split(".");f=this.parent.getWorkerSource(e.sourceMapId,x[0],m.source)[x[1]](m,d)}else d(new Error(`Could not find function ${e.type}`));!a&&f&&f.cancel&&(this.cancelCallbacks[i]=f.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},u.AlphaImage=Du,u.CanonicalTileID=Cg,u.CollisionBoxArray=mt,u.CollisionCircleLayoutArray=class extends C{},u.Color=P,u.DEMData=Z3,u.DataConstantProperty=ne,u.DictionaryCoder=W3,u.EXTENT=Xn,u.ErrorEvent=nn,u.EvaluationParameters=pn,u.Event=Ie,u.Evented=xe,u.FeatureIndex=X3,u.FillBucket=dg,u.FillExtrusionBucket=pg,u.GeoJSONFeature=H3,u.ImageAtlas=v3,u.ImagePosition=yg,u.LineBucket=gg,u.LineStripIndexArray=class extends st{},u.LngLat=Dn,u.LngLatBounds=Xo,u.MercatorCoordinate=Xd,u.ONE_EM=ni,u.OverscaledTileID=Sr,u.PerformanceUtils=o_,u.PosArray=class extends Wa{},u.Properties=Wn,u.QuadTriangleArray=class extends L{},u.RGBAImage=cr,u.RasterBoundsArray=class extends qo{},u.RequestPerformance=class{constructor(i){this._marks={start:[i.url,"start"].join("#"),end:[i.url,"end"].join("#"),measure:i.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let i=performance.getEntriesByName(this._marks.measure);return i.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),i=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),i}},u.ResourceType=Ei,u.SegmentVector=je,u.SymbolBucket=ss,u.Transitionable=ku,u.TriangleIndexArray=Ii,u.Uniform1f=Ha,u.Uniform1i=class extends br{constructor(i,e){super(i,e),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))}},u.Uniform2f=class extends br{constructor(i,e){super(i,e),this.current=[0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1]))}},u.Uniform3f=class extends br{constructor(i,e){super(i,e),this.current=[0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2]))}},u.Uniform4f=B0,u.UniformColor=O0,u.UniformMatrix4f=class extends br{constructor(i,e){super(i,e),this.current=C7}set(i){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let e=1;e<16;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}},u.UnwrappedTileID=q3,u.ValidationError=Ot,u.ZoomHistory=No,u.addDynamicAttributes=bg,u.asyncAll=function(i,e,a){if(!i.length)return a(null,[]);let s=i.length;const d=new Array(i.length);let f=null;i.forEach((m,x)=>{e(m,(b,A)=>{b&&(f=b),d[x]=A,--s==0&&a(f,d)})})},u.bezier=yt,u.bindAll=J,u.cacheEntryPossiblyAdded=function(i){Be++,Be>ce&&(i.getActor().send("enforceCacheSizeLimit",re),Be=0)},u.clamp=V,u.clearTileCache=function(i){const e=caches.delete(Sn);i&&e.catch(i).then(()=>i())},u.clipLine=M3,u.clone=function(i){var e=new es(16);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e},u.clone$1=ut,u.collisionCircleLayout=E5,u.config=bn,u.create=function(){var i=new es(16);return es!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i},u.createExpression=Fl,u.createFilter=Vl,u.createLayout=Hn,u.createStyleLayer=function(i){return i.type==="custom"?new n_(i):new i_[i.type](i)},u.dot=function(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]+i[3]*e[3]},u.ease=gt,u.emitValidationErrors=bd,u.enforceCacheSizeLimit=function(i){Ce(),ln&&ln.then(e=>{e.keys().then(a=>{for(let s=0;s<a.length-i;s++)e.delete(a[s])})})},u.evaluateSizeForFeature=function(i,{uSize:e,uSizeT:a},{lowerSize:s,upperSize:d}){return i.kind==="source"?s/va:i.kind==="composite"?Un(s/va,d/va,a):e},u.evaluateSizeForZoom=function(i,e){let a=0,s=0;if(i.kind==="constant")s=i.layoutSize;else if(i.kind!=="source"){const{interpolationType:d,minZoom:f,maxZoom:m}=i,x=d?V(Fi.interpolationFactor(d,e,f,m),0,1):0;i.kind==="camera"?s=Un(i.minSize,i.maxSize,x):a=x}return{uSizeT:a,uSize:s}},u.evaluateVariableOffset=L3,u.evented=Za,u.exported=Ne,u.exported$1=en,u.extend=It,u.filterObject=nt,u.getAnchorAlignment=vg,u.getAnchorJustification=wg,u.getArrayBuffer=ri,u.getImage=oe,u.getJSON=function(i,e){return Hi(It(i,{type:"json"}),e)},u.getOverlapMode=Ag,u.getRTLTextPluginStatus=Au,u.getReferrer=Wi,u.getVideo=function(i,e){const a=window.document.createElement("video");a.muted=!0,a.onloadstart=function(){e(null,a)};for(let s=0;s<i.length;s++){const d=window.document.createElement("source");Zr(i[s])||(a.crossOrigin="Anonymous"),d.src=i[s],a.appendChild(d)}return{cancel:()=>{}}},u.identity=eg,u.invert=function(i,e){var a=e[0],s=e[1],d=e[2],f=e[3],m=e[4],x=e[5],b=e[6],A=e[7],I=e[8],M=e[9],D=e[10],R=e[11],B=e[12],X=e[13],K=e[14],lt=e[15],ht=a*x-s*m,ct=a*b-d*m,wt=a*A-f*m,Ct=s*b-d*x,Tt=s*A-f*x,Qt=d*A-f*b,le=I*X-M*B,Zt=I*K-D*B,Wt=I*lt-R*B,Bt=M*K-D*X,Yt=M*lt-R*X,Ht=D*lt-R*K,zt=ht*Ht-ct*Yt+wt*Bt+Ct*Wt-Tt*Zt+Qt*le;return zt?(i[0]=(x*Ht-b*Yt+A*Bt)*(zt=1/zt),i[1]=(d*Yt-s*Ht-f*Bt)*zt,i[2]=(X*Qt-K*Tt+lt*Ct)*zt,i[3]=(D*Tt-M*Qt-R*Ct)*zt,i[4]=(b*Wt-m*Ht-A*Zt)*zt,i[5]=(a*Ht-d*Wt+f*Zt)*zt,i[6]=(K*wt-B*Qt-lt*ct)*zt,i[7]=(I*Qt-D*wt+R*ct)*zt,i[8]=(m*Yt-x*Wt+A*le)*zt,i[9]=(s*Wt-a*Yt-f*le)*zt,i[10]=(B*Tt-X*wt+lt*ht)*zt,i[11]=(M*wt-I*Tt-R*ht)*zt,i[12]=(x*Zt-m*Bt-b*le)*zt,i[13]=(a*Bt-s*Zt+d*le)*zt,i[14]=(X*ct-B*Ct-K*ht)*zt,i[15]=(I*Ct-M*ct+D*ht)*zt,i):null},u.isImageBitmap=wn,u.isSafari=Ye,u.keysDifference=function(i,e){const a=[];for(const s in i)s in e||a.push(s);return a},u.lazyLoadRTLTextPlugin=function(){Ki.isLoading()||Ki.isLoaded()||Au()!=="deferred"||Zl()},u.makeRequest=Hi,u.mapObject=H,u.mercatorXfromLng=V3,u.mercatorYfromLat=j3,u.mercatorZfromAltitude=$3,u.mul=F7,u.multiply=Z0,u.nextPowerOfTwo=function(i){return i<=1?1:Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))},u.number=Un,u.ortho=function(i,e,a,s,d,f,m){var x=1/(e-a),b=1/(s-d),A=1/(f-m);return i[0]=-2*x,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*b,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*A,i[11]=0,i[12]=(e+a)*x,i[13]=(d+s)*b,i[14]=(m+f)*A,i[15]=1,i},u.parseCacheControl=jt,u.parseGlyphPBF=function(i){return new fg(i).readFields(R5,[])},u.pbf=fg,u.performSymbolLayout=function(i,e,a,s,d,f,m){i.createArrays(),i.tilePixelRatio=Xn/(512*i.overscaling),i.compareText={},i.iconsNeedLinear=!1;const x=i.layers[0].layout,b=i.layers[0]._unevaluatedLayout._values,A={layoutIconSize:b["icon-size"].possiblyEvaluate(new pn(i.zoom+1),m),layoutTextSize:b["text-size"].possiblyEvaluate(new pn(i.zoom+1),m),textMaxSize:b["text-size"].possiblyEvaluate(new pn(18))};if(i.textSizeData.kind==="composite"){const{minZoom:B,maxZoom:X}=i.textSizeData;A.compositeTextSizes=[b["text-size"].possiblyEvaluate(new pn(B),m),b["text-size"].possiblyEvaluate(new pn(X),m)]}if(i.iconSizeData.kind==="composite"){const{minZoom:B,maxZoom:X}=i.iconSizeData;A.compositeIconSizes=[b["icon-size"].possiblyEvaluate(new pn(B),m),b["icon-size"].possiblyEvaluate(new pn(X),m)]}const I=x.get("text-line-height")*ni,M=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point",D=x.get("text-keep-upright"),R=x.get("text-size");for(const B of i.features){const X=x.get("text-font").evaluate(B,{},m).join(","),K=R.evaluate(B,{},m),lt=A.layoutTextSize.evaluate(B,{},m),ht=A.layoutIconSize.evaluate(B,{},m),ct={horizontal:{},vertical:void 0},wt=B.text;let Ct,Tt=[0,0];if(wt){const Zt=wt.toString(),Wt=x.get("text-letter-spacing").evaluate(B,{},m)*ni,Bt=Sd(Zt)?Wt:0,Yt=x.get("text-anchor").evaluate(B,{},m),Ht=x.get("text-variable-anchor");if(!Ht){const We=x.get("text-radial-offset").evaluate(B,{},m);Tt=We?L3(Yt,[We*ni,xg]):x.get("text-offset").evaluate(B,{},m).map(fn=>fn*ni)}let zt=M?"center":x.get("text-justify").evaluate(B,{},m);const pe=x.get("symbol-placement"),ue=pe==="point"?x.get("text-max-width").evaluate(B,{},m)*ni:0,Fe=()=>{i.allowVerticalPlacement&&wu(Zt)&&(ct.vertical=Vd(wt,e,a,d,X,ue,I,Yt,"left",Bt,Tt,u.WritingMode.vertical,!0,pe,lt,K))};if(!M&&Ht){const We=zt==="auto"?Ht.map(mn=>wg(mn)):[zt];let fn=!1;for(let mn=0;mn<We.length;mn++){const ai=We[mn];if(!ct.horizontal[ai])if(fn)ct.horizontal[ai]=ct.horizontal[0];else{const Vn=Vd(wt,e,a,d,X,ue,I,"center",ai,Bt,Tt,u.WritingMode.horizontal,!1,pe,lt,K);Vn&&(ct.horizontal[ai]=Vn,fn=Vn.positionedLines.length===1)}}Fe()}else{zt==="auto"&&(zt=wg(Yt));const We=Vd(wt,e,a,d,X,ue,I,Yt,zt,Bt,Tt,u.WritingMode.horizontal,!1,pe,lt,K);We&&(ct.horizontal[zt]=We),Fe(),wu(Zt)&&M&&D&&(ct.vertical=Vd(wt,e,a,d,X,ue,I,Yt,zt,Bt,Tt,u.WritingMode.vertical,!1,pe,lt,K))}}let Qt=!1;if(B.icon&&B.icon.name){const Zt=s[B.icon.name];Zt&&(Ct=V5(d[B.icon.name],x.get("icon-offset").evaluate(B,{},m),x.get("icon-anchor").evaluate(B,{},m)),Qt=!!Zt.sdf,i.sdfIcons===void 0?i.sdfIcons=Qt:i.sdfIcons!==Qt&&bt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Zt.pixelRatio!==i.pixelRatio||x.get("icon-rotate").constantOr(1)!==0)&&(i.iconsNeedLinear=!0))}const le=F3(ct.horizontal)||ct.vertical;i.iconsInText=!!le&&le.iconsInText,(le||Ct)&&H5(i,B,ct,Ct,s,A,lt,ht,Tt,Qt,m)}f&&i.generateCollisionDebugBuffers()},u.perspective=function(i,e,a,s,d){var f,m=1/Math.tan(e/2);return i[0]=m/a,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=m,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,d!=null&&d!==1/0?(i[10]=(d+s)*(f=1/(s-d)),i[14]=2*d*s*f):(i[10]=-1,i[14]=-2*s),i},u.pick=function(i,e){const a={};for(let s=0;s<e.length;s++){const d=e[s];d in i&&(a[d]=i[d])}return a},u.plugin=Ki,u.pointGeometry=ae,u.polygonIntersectsPolygon=j0,u.potpack=_3,u.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],u.register=Jt,u.registerForPluginStateChange=function(i){return i({pluginStatus:ki,pluginURL:Wr}),Za.on("pluginStateChange",i),i},u.renderColorRamp=K0,u.rotateX=function(i,e,a){var s=Math.sin(a),d=Math.cos(a),f=e[4],m=e[5],x=e[6],b=e[7],A=e[8],I=e[9],M=e[10],D=e[11];return e!==i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[4]=f*d+A*s,i[5]=m*d+I*s,i[6]=x*d+M*s,i[7]=b*d+D*s,i[8]=A*d-f*s,i[9]=I*d-m*s,i[10]=M*d-x*s,i[11]=D*d-b*s,i},u.rotateZ=function(i,e,a){var s=Math.sin(a),d=Math.cos(a),f=e[0],m=e[1],x=e[2],b=e[3],A=e[4],I=e[5],M=e[6],D=e[7];return e!==i&&(i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[0]=f*d+A*s,i[1]=m*d+I*s,i[2]=x*d+M*s,i[3]=b*d+D*s,i[4]=A*d-f*s,i[5]=I*d-m*s,i[6]=M*d-x*s,i[7]=D*d-b*s,i},u.scale=function(i,e,a){var s=a[0],d=a[1],f=a[2];return i[0]=e[0]*s,i[1]=e[1]*s,i[2]=e[2]*s,i[3]=e[3]*s,i[4]=e[4]*d,i[5]=e[5]*d,i[6]=e[6]*d,i[7]=e[7]*d,i[8]=e[8]*f,i[9]=e[9]*f,i[10]=e[10]*f,i[11]=e[11]*f,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i},u.scale$1=function(i,e,a){return i[0]=e[0]*a,i[1]=e[1]*a,i[2]=e[2]*a,i[3]=e[3]*a,i},u.setCacheLimits=function(i,e){re=i,ce=e},u.setRTLTextPlugin=function(i,e,a=!1){if(ki===ql||ki===bu||ki===Su)throw new Error("setRTLTextPlugin cannot be called multiple times.");Wr=Ne.resolveURL(i),ki=ql,Eu=e,Tu(),a||Zl()},u.spec=pt,u.sphericalToCartesian=function([i,e,a]){return e+=90,e*=Math.PI/180,a*=Math.PI/180,{x:i*Math.cos(e)*Math.sin(a),y:i*Math.sin(e)*Math.sin(a),z:i*Math.cos(a)}},u.toEvaluationFeature=Ho,u.transformMat4=Ld,u.translate=function(i,e,a){var s,d,f,m,x,b,A,I,M,D,R,B,X=a[0],K=a[1],lt=a[2];return e===i?(i[12]=e[0]*X+e[4]*K+e[8]*lt+e[12],i[13]=e[1]*X+e[5]*K+e[9]*lt+e[13],i[14]=e[2]*X+e[6]*K+e[10]*lt+e[14],i[15]=e[3]*X+e[7]*K+e[11]*lt+e[15]):(d=e[1],f=e[2],m=e[3],x=e[4],b=e[5],A=e[6],I=e[7],M=e[8],D=e[9],R=e[10],B=e[11],i[0]=s=e[0],i[1]=d,i[2]=f,i[3]=m,i[4]=x,i[5]=b,i[6]=A,i[7]=I,i[8]=M,i[9]=D,i[10]=R,i[11]=B,i[12]=s*X+x*K+M*lt+e[12],i[13]=d*X+b*K+D*lt+e[13],i[14]=f*X+A*K+R*lt+e[14],i[15]=m*X+I*K+B*lt+e[15]),i},u.triggerPluginCompletionEvent=Ad,u.unicodeBlockLookup=$t,u.uniqueId=function(){return Lt++},u.validateCustomStyleLayer=function(i){const e=[],a=i.id;return a===void 0&&e.push({message:`layers.${a}: missing required property "id"`}),i.render===void 0&&e.push({message:`layers.${a}: missing required method "render"`}),i.renderingMode&&i.renderingMode!=="2d"&&i.renderingMode!=="3d"&&e.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),e},u.validateLight=$p,u.validateStyle=ca,u.vectorTile=Ya,u.warnOnce=bt,u.wrap=Pt}),v(["./shared"],function(u){function F(j){const k=typeof j;if(k==="number"||k==="boolean"||k==="string"||j==null)return JSON.stringify(j);if(Array.isArray(j)){let $="[";for(const G of j)$+=`${F(G)},`;return`${$}]`}const P=Object.keys(j).sort();let O="{";for(let $=0;$<P.length;$++)O+=`${JSON.stringify(P[$])}:${F(j[P[$]])},`;return`${O}}`}function Z(j){let k="";for(const P of u.refProperties)k+=`/${F(j[P])}`;return k}class yt{constructor(k){this.keyCache={},k&&this.replace(k)}replace(k){this._layerConfigs={},this._layers={},this.update(k,[])}update(k,P){for(const $ of k){this._layerConfigs[$.id]=$;const G=this._layers[$.id]=u.createStyleLayer($);G._featureFilter=u.createFilter(G.filter),this.keyCache[$.id]&&delete this.keyCache[$.id]}for(const $ of P)delete this.keyCache[$],delete this._layerConfigs[$],delete this._layers[$];this.familiesBySource={};const O=function($,G){const tt={};for(let Q=0;Q<$.length;Q++){const et=G&&G[$[Q].id]||Z($[Q]);G&&(G[$[Q].id]=et);let _t=tt[et];_t||(_t=tt[et]=[]),_t.push($[Q])}const Y=[];for(const Q in tt)Y.push(tt[Q]);return Y}(Object.values(this._layerConfigs),this.keyCache);for(const $ of O){const G=$.map(At=>this._layers[At.id]),tt=G[0];if(tt.visibility==="none")continue;const Y=tt.source||"";let Q=this.familiesBySource[Y];Q||(Q=this.familiesBySource[Y]={});const et=tt.sourceLayer||"_geojsonTileLayer";let _t=Q[et];_t||(_t=Q[et]=[]),_t.push(G)}}}class gt{constructor(k){const P={},O=[];for(const Y in k){const Q=k[Y],et=P[Y]={};for(const _t in Q){const At=Q[+_t];if(!At||At.bitmap.width===0||At.bitmap.height===0)continue;const ft={x:0,y:0,w:At.bitmap.width+2,h:At.bitmap.height+2};O.push(ft),et[_t]={rect:ft,metrics:At.metrics}}}const{w:$,h:G}=u.potpack(O),tt=new u.AlphaImage({width:$||1,height:G||1});for(const Y in k){const Q=k[Y];for(const et in Q){const _t=Q[+et];if(!_t||_t.bitmap.width===0||_t.bitmap.height===0)continue;const At=P[Y][et].rect;u.AlphaImage.copy(_t.bitmap,tt,{x:0,y:0},{x:At.x+1,y:At.y+1},_t.bitmap)}}this.image=tt,this.positions=P}}u.register("GlyphAtlas",gt);class V{constructor(k){this.tileID=new u.OverscaledTileID(k.tileID.overscaledZ,k.tileID.wrap,k.tileID.canonical.z,k.tileID.canonical.x,k.tileID.canonical.y),this.uid=k.uid,this.zoom=k.zoom,this.pixelRatio=k.pixelRatio,this.tileSize=k.tileSize,this.source=k.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=k.showCollisionBoxes,this.collectResourceTiming=!!k.collectResourceTiming,this.returnDependencies=!!k.returnDependencies,this.promoteId=k.promoteId}parse(k,P,O,$,G){this.status="parsing",this.data=k,this.collisionBoxArray=new u.CollisionBoxArray;const tt=new u.DictionaryCoder(Object.keys(k.layers).sort()),Y=new u.FeatureIndex(this.tileID,this.promoteId);Y.bucketLayerIDs=[];const Q={},et={featureIndex:Y,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:O},_t=P.familiesBySource[this.source];for(const Pe in _t){const Ee=k.layers[Pe];if(!Ee)continue;Ee.version===1&&u.warnOnce(`Vector tile source "${this.source}" layer "${Pe}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const we=tt.encode(Pe),Fn=[];for(let Mn=0;Mn<Ee.length;Mn++){const Yn=Ee.feature(Mn),ti=Y.getId(Yn,Pe);Fn.push({feature:Yn,id:ti,index:Mn,sourceLayerIndex:we})}for(const Mn of _t[Pe]){const Yn=Mn[0];Yn.minzoom&&this.zoom<Math.floor(Yn.minzoom)||Yn.maxzoom&&this.zoom>=Yn.maxzoom||Yn.visibility!=="none"&&(Pt(Mn,this.zoom,O),(Q[Yn.id]=Yn.createBucket({index:Y.bucketLayerIDs.length,layers:Mn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:we,sourceID:this.source})).populate(Fn,et,this.tileID.canonical),Y.bucketLayerIDs.push(Mn.map(ti=>ti.id)))}}let At,ft,ee,Xt;const ie=u.mapObject(et.glyphDependencies,Pe=>Object.keys(Pe).map(Number));Object.keys(ie).length?$.send("getGlyphs",{uid:this.uid,stacks:ie},(Pe,Ee)=>{At||(At=Pe,ft=Ee,Le.call(this))}):ft={};const de=Object.keys(et.iconDependencies);de.length?$.send("getImages",{icons:de,source:this.source,tileID:this.tileID,type:"icons"},(Pe,Ee)=>{At||(At=Pe,ee=Ee,Le.call(this))}):ee={};const Ue=Object.keys(et.patternDependencies);function Le(){if(At)return G(At);if(ft&&ee&&Xt){const Pe=new gt(ft),Ee=new u.ImageAtlas(ee,Xt);for(const we in Q){const Fn=Q[we];Fn instanceof u.SymbolBucket?(Pt(Fn.layers,this.zoom,O),u.performSymbolLayout(Fn,ft,Pe.positions,ee,Ee.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Fn.hasPattern&&(Fn instanceof u.LineBucket||Fn instanceof u.FillBucket||Fn instanceof u.FillExtrusionBucket)&&(Pt(Fn.layers,this.zoom,O),Fn.addFeatures(et,this.tileID.canonical,Ee.patternPositions))}this.status="done",G(null,{buckets:Object.values(Q).filter(we=>!we.isEmpty()),featureIndex:Y,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Pe.image,imageAtlas:Ee,glyphMap:this.returnDependencies?ft:null,iconMap:this.returnDependencies?ee:null,glyphPositions:this.returnDependencies?Pe.positions:null})}}Ue.length?$.send("getImages",{icons:Ue,source:this.source,tileID:this.tileID,type:"patterns"},(Pe,Ee)=>{At||(At=Pe,Xt=Ee,Le.call(this))}):Xt={},Le.call(this)}}function Pt(j,k,P){const O=new u.EvaluationParameters(k);for(const $ of j)$.recalculate(O,P)}function It(j,k){const P=u.getArrayBuffer(j.request,(O,$,G,tt)=>{O?k(O):$&&k(null,{vectorTile:new u.vectorTile.VectorTile(new u.pbf($)),rawData:$,cacheControl:G,expires:tt})});return()=>{P.cancel(),k()}}class Lt{constructor(k,P,O,$){this.actor=k,this.layerIndex=P,this.availableImages=O,this.loadVectorData=$||It,this.loading={},this.loaded={}}loadTile(k,P){const O=k.uid;this.loading||(this.loading={});const $=!!(k&&k.request&&k.request.collectResourceTiming)&&new u.RequestPerformance(k.request),G=this.loading[O]=new V(k);G.abort=this.loadVectorData(k,(tt,Y)=>{if(delete this.loading[O],tt||!Y)return G.status="done",this.loaded[O]=G,P(tt);const Q=Y.rawData,et={};Y.expires&&(et.expires=Y.expires),Y.cacheControl&&(et.cacheControl=Y.cacheControl);const _t={};if($){const At=$.finish();At&&(_t.resourceTiming=JSON.parse(JSON.stringify(At)))}G.vectorTile=Y.vectorTile,G.parse(Y.vectorTile,this.layerIndex,this.availableImages,this.actor,(At,ft)=>{if(At||!ft)return P(At);P(null,u.extend({rawTileData:Q.slice(0)},ft,et,_t))}),this.loaded=this.loaded||{},this.loaded[O]=G})}reloadTile(k,P){const O=this.loaded,$=k.uid,G=this;if(O&&O[$]){const tt=O[$];tt.showCollisionBoxes=k.showCollisionBoxes;const Y=(Q,et)=>{const _t=tt.reloadCallback;_t&&(delete tt.reloadCallback,tt.parse(tt.vectorTile,G.layerIndex,this.availableImages,G.actor,_t)),P(Q,et)};tt.status==="parsing"?tt.reloadCallback=Y:tt.status==="done"&&(tt.vectorTile?tt.parse(tt.vectorTile,this.layerIndex,this.availableImages,this.actor,Y):Y())}}abortTile(k,P){const O=this.loading,$=k.uid;O&&O[$]&&O[$].abort&&(O[$].abort(),delete O[$]),P()}removeTile(k,P){const O=this.loaded,$=k.uid;O&&O[$]&&delete O[$],P()}}class J{constructor(){this.loaded={}}loadTile(k,P){const{uid:O,encoding:$,rawImageData:G}=k,tt=u.isImageBitmap(G)?this.getImageData(G):G,Y=new u.DEMData(O,tt,$);this.loaded=this.loaded||{},this.loaded[O]=Y,P(null,Y)}getImageData(k){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(k.width,k.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=k.width,this.offscreenCanvas.height=k.height,this.offscreenCanvasContext.drawImage(k,0,0,k.width,k.height);const P=this.offscreenCanvasContext.getImageData(-1,-1,k.width+2,k.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new u.RGBAImage({width:P.width,height:P.height},P.data)}removeTile(k){const P=this.loaded,O=k.uid;P&&P[O]&&delete P[O]}}var H=function j(k,P){var O,$=k&&k.type;if($==="FeatureCollection")for(O=0;O<k.features.length;O++)j(k.features[O],P);else if($==="GeometryCollection")for(O=0;O<k.geometries.length;O++)j(k.geometries[O],P);else if($==="Feature")j(k.geometry,P);else if($==="Polygon")nt(k.coordinates,P);else if($==="MultiPolygon")for(O=0;O<k.coordinates.length;O++)nt(k.coordinates[O],P);return k};function nt(j,k){if(j.length!==0){ut(j[0],k);for(var P=1;P<j.length;P++)ut(j[P],!k)}}function ut(j,k){for(var P=0,O=0,$=0,G=j.length,tt=G-1;$<G;tt=$++){var Y=(j[$][0]-j[tt][0])*(j[tt][1]+j[$][1]),Q=P+Y;O+=Math.abs(P)>=Math.abs(Y)?P-Q+Y:Y-Q+P,P=Q}P+O>=0!=!!k&&j.reverse()}const at=u.vectorTile.VectorTileFeature.prototype.toGeoJSON;class bt{constructor(k){this._feature=k,this.extent=u.EXTENT,this.type=k.type,this.properties=k.tags,"id"in k&&!isNaN(k.id)&&(this.id=parseInt(k.id,10))}loadGeometry(){if(this._feature.type===1){const k=[];for(const P of this._feature.geometry)k.push([new u.pointGeometry(P[0],P[1])]);return k}{const k=[];for(const P of this._feature.geometry){const O=[];for(const $ of P)O.push(new u.pointGeometry($[0],$[1]));k.push(O)}return k}}toGeoJSON(k,P,O){return at.call(this,k,P,O)}}class kt{constructor(k){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.EXTENT,this.length=k.length,this._features=k}feature(k){return new bt(this._features[k])}}var qt={exports:{}},Vt=u.pointGeometry,jt=u.vectorTile.VectorTileFeature,$e=tn;function tn(j,k){this.options=k||{},this.features=j,this.length=j.length}function qe(j,k){this.id=typeof j.id=="number"?j.id:void 0,this.type=j.type,this.rawGeometry=j.type===1?[j.geometry]:j.geometry,this.properties=j.tags,this.extent=k||4096}tn.prototype.feature=function(j){return new qe(this.features[j],this.options.extent)},qe.prototype.loadGeometry=function(){var j=this.rawGeometry;this.geometry=[];for(var k=0;k<j.length;k++){for(var P=j[k],O=[],$=0;$<P.length;$++)O.push(new Vt(P[$][0],P[$][1]));this.geometry.push(O)}return this.geometry},qe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var j=this.geometry,k=1/0,P=-1/0,O=1/0,$=-1/0,G=0;G<j.length;G++)for(var tt=j[G],Y=0;Y<tt.length;Y++){var Q=tt[Y];k=Math.min(k,Q.x),P=Math.max(P,Q.x),O=Math.min(O,Q.y),$=Math.max($,Q.y)}return[k,O,P,$]},qe.prototype.toGeoJSON=jt.prototype.toGeoJSON;var Ye=u.pbf,wn=$e;function Ne(j){var k=new Ye;return function(P,O){for(var $ in P.layers)O.writeMessage(3,ae,P.layers[$])}(j,k),k.finish()}function ae(j,k){var P;k.writeVarintField(15,j.version||1),k.writeStringField(1,j.name||""),k.writeVarintField(5,j.extent||4096);var O={keys:[],values:[],keycache:{},valuecache:{}};for(P=0;P<j.length;P++)O.feature=j.feature(P),k.writeMessage(2,Rn,O);var $=O.keys;for(P=0;P<$.length;P++)k.writeStringField(3,$[P]);var G=O.values;for(P=0;P<G.length;P++)k.writeMessage(4,re,G[P])}function Rn(j,k){var P=j.feature;P.id!==void 0&&k.writeVarintField(1,P.id),k.writeMessage(2,bn,j),k.writeVarintField(3,P.type),k.writeMessage(4,Ft,P)}function bn(j,k){var P=j.feature,O=j.keys,$=j.values,G=j.keycache,tt=j.valuecache;for(var Y in P.properties){var Q=P.properties[Y],et=G[Y];if(Q!==null){et===void 0&&(O.push(Y),G[Y]=et=O.length-1),k.writeVarint(et);var _t=typeof Q;_t!=="string"&&_t!=="boolean"&&_t!=="number"&&(Q=JSON.stringify(Q));var At=_t+":"+Q,ft=tt[At];ft===void 0&&($.push(Q),tt[At]=ft=$.length-1),k.writeVarint(ft)}}}function Sn(j,k){return(k<<3)+(7&j)}function ln(j){return j<<1^j>>31}function Ft(j,k){for(var P=j.loadGeometry(),O=j.type,$=0,G=0,tt=P.length,Y=0;Y<tt;Y++){var Q=P[Y],et=1;O===1&&(et=Q.length),k.writeVarint(Sn(1,et));for(var _t=O===3?Q.length-1:Q.length,At=0;At<_t;At++){At===1&&O!==1&&k.writeVarint(Sn(2,_t-1));var ft=Q[At].x-$,ee=Q[At].y-G;k.writeVarint(ln(ft)),k.writeVarint(ln(ee)),$+=ft,G+=ee}O===3&&k.writeVarint(Sn(7,1))}}function re(j,k){var P=typeof j;P==="string"?k.writeStringField(1,j):P==="boolean"?k.writeBooleanField(7,j):P==="number"&&(j%1!=0?k.writeDoubleField(3,j):j<0?k.writeSVarintField(6,j):k.writeVarintField(5,j))}qt.exports=Ne,qt.exports.fromVectorTileJs=Ne,qt.exports.fromGeojsonVt=function(j,k){k=k||{};var P={};for(var O in j)P[O]=new wn(j[O].features,k),P[O].name=O,P[O].version=k.version,P[O].extent=k.extent;return Ne({layers:P})},qt.exports.GeoJSONWrapper=wn;var ce=qt.exports;function Ce(j,k,P,O,$,G){if($-O<=P)return;const tt=O+$>>1;Be(j,k,tt,O,$,G%2),Ce(j,k,P,O,tt-1,G+1),Ce(j,k,P,tt+1,$,G+1)}function Be(j,k,P,O,$,G){for(;$>O;){if($-O>600){const et=$-O+1,_t=P-O+1,At=Math.log(et),ft=.5*Math.exp(2*At/3),ee=.5*Math.sqrt(At*ft*(et-ft)/et)*(_t-et/2<0?-1:1);Be(j,k,P,Math.max(O,Math.floor(P-_t*ft/et+ee)),Math.min($,Math.floor(P+(et-_t)*ft/et+ee)),G)}const tt=k[2*P+G];let Y=O,Q=$;for(en(j,k,O,P),k[2*$+G]>tt&&en(j,k,O,$);Y<Q;){for(en(j,k,Y,Q),Y++,Q--;k[2*Y+G]<tt;)Y++;for(;k[2*Q+G]>tt;)Q--}k[2*O+G]===tt?en(j,k,O,Q):(Q++,en(j,k,Q,$)),Q<=P&&(O=Q+1),P<=Q&&($=Q-1)}}function en(j,k,P,O){un(j,P,O),un(k,2*P,2*O),un(k,2*P+1,2*O+1)}function un(j,k,P){const O=j[k];j[k]=j[P],j[P]=O}function En(j,k,P,O){const $=j-P,G=k-O;return $*$+G*G}const Tn=j=>j[0],rr=j=>j[1];class hi{constructor(k,P=Tn,O=rr,$=64,G=Float64Array){this.nodeSize=$,this.points=k;const tt=k.length<65536?Uint16Array:Uint32Array,Y=this.ids=new tt(k.length),Q=this.coords=new G(2*k.length);for(let et=0;et<k.length;et++)Y[et]=et,Q[2*et]=P(k[et]),Q[2*et+1]=O(k[et]);Ce(Y,Q,$,0,Y.length-1,0)}range(k,P,O,$){return function(G,tt,Y,Q,et,_t,At){const ft=[0,G.length-1,0],ee=[];let Xt,ie;for(;ft.length;){const de=ft.pop(),Ue=ft.pop(),Le=ft.pop();if(Ue-Le<=At){for(let we=Le;we<=Ue;we++)Xt=tt[2*we],ie=tt[2*we+1],Xt>=Y&&Xt<=et&&ie>=Q&&ie<=_t&&ee.push(G[we]);continue}const Pe=Math.floor((Le+Ue)/2);Xt=tt[2*Pe],ie=tt[2*Pe+1],Xt>=Y&&Xt<=et&&ie>=Q&&ie<=_t&&ee.push(G[Pe]);const Ee=(de+1)%2;(de===0?Y<=Xt:Q<=ie)&&(ft.push(Le),ft.push(Pe-1),ft.push(Ee)),(de===0?et>=Xt:_t>=ie)&&(ft.push(Pe+1),ft.push(Ue),ft.push(Ee))}return ee}(this.ids,this.coords,k,P,O,$,this.nodeSize)}within(k,P,O){return function($,G,tt,Y,Q,et){const _t=[0,$.length-1,0],At=[],ft=Q*Q;for(;_t.length;){const ee=_t.pop(),Xt=_t.pop(),ie=_t.pop();if(Xt-ie<=et){for(let Ee=ie;Ee<=Xt;Ee++)En(G[2*Ee],G[2*Ee+1],tt,Y)<=ft&&At.push($[Ee]);continue}const de=Math.floor((ie+Xt)/2),Ue=G[2*de],Le=G[2*de+1];En(Ue,Le,tt,Y)<=ft&&At.push($[de]);const Pe=(ee+1)%2;(ee===0?tt-Q<=Ue:Y-Q<=Le)&&(_t.push(ie),_t.push(de-1),_t.push(Pe)),(ee===0?tt+Q>=Ue:Y+Q>=Le)&&(_t.push(de+1),_t.push(Xt),_t.push(Pe))}return At}(this.ids,this.coords,k,P,O,this.nodeSize)}}const Ei={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:j=>j},me=Math.fround||(Wi=new Float32Array(1),j=>(Wi[0]=+j,Wi[0]));var Wi;class Lr{constructor(k){this.options=Dt(Object.create(Ei),k),this.trees=new Array(this.options.maxZoom+1)}load(k){const{log:P,minZoom:O,maxZoom:$,nodeSize:G}=this.options;P&&console.time("total time");const tt=`prepare ${k.length} points`;P&&console.time(tt),this.points=k;let Y=[];for(let Q=0;Q<k.length;Q++)k[Q].geometry&&Y.push(ri(k[Q],Q));this.trees[$+1]=new hi(Y,ye,Ie,G,Float32Array),P&&console.timeEnd(tt);for(let Q=$;Q>=O;Q--){const et=+Date.now();Y=this._cluster(Y,Q),this.trees[Q]=new hi(Y,ye,Ie,G,Float32Array),P&&console.log("z%d: %d clusters in %dms",Q,Y.length,+Date.now()-et)}return P&&console.timeEnd("total time"),this}getClusters(k,P){let O=((k[0]+180)%360+360)%360-180;const $=Math.max(-90,Math.min(90,k[1]));let G=k[2]===180?180:((k[2]+180)%360+360)%360-180;const tt=Math.max(-90,Math.min(90,k[3]));if(k[2]-k[0]>=360)O=-180,G=180;else if(O>G){const _t=this.getClusters([O,$,180,tt],P),At=this.getClusters([-180,$,G,tt],P);return _t.concat(At)}const Y=this.trees[this._limitZoom(P)],Q=Y.range(dt(O),Kt(tt),dt(G),Kt($)),et=[];for(const _t of Q){const At=Y.points[_t];et.push(At.numPoints?Zr(At):this.points[At.index])}return et}getChildren(k){const P=this._getOriginId(k),O=this._getOriginZoom(k),$="No cluster with the specified id.",G=this.trees[O];if(!G)throw new Error($);const tt=G.points[P];if(!tt)throw new Error($);const Y=this.options.radius/(this.options.extent*Math.pow(2,O-1)),Q=G.within(tt.x,tt.y,Y),et=[];for(const _t of Q){const At=G.points[_t];At.parentId===k&&et.push(At.numPoints?Zr(At):this.points[At.index])}if(et.length===0)throw new Error($);return et}getLeaves(k,P,O){const $=[];return this._appendLeaves($,k,P=P||10,O=O||0,0),$}getTile(k,P,O){const $=this.trees[this._limitZoom(k)],G=Math.pow(2,k),{extent:tt,radius:Y}=this.options,Q=Y/tt,et=(O-Q)/G,_t=(O+1+Q)/G,At={features:[]};return this._addTileFeatures($.range((P-Q)/G,et,(P+1+Q)/G,_t),$.points,P,O,G,At),P===0&&this._addTileFeatures($.range(1-Q/G,et,1,_t),$.points,G,O,G,At),P===G-1&&this._addTileFeatures($.range(0,et,Q/G,_t),$.points,-1,O,G,At),At.features.length?At:null}getClusterExpansionZoom(k){let P=this._getOriginZoom(k)-1;for(;P<=this.options.maxZoom;){const O=this.getChildren(k);if(P++,O.length!==1)break;k=O[0].properties.cluster_id}return P}_appendLeaves(k,P,O,$,G){const tt=this.getChildren(P);for(const Y of tt){const Q=Y.properties;if(Q&&Q.cluster?G+Q.point_count<=$?G+=Q.point_count:G=this._appendLeaves(k,Q.cluster_id,O,$,G):G<$?G++:k.push(Y),k.length===O)break}return G}_addTileFeatures(k,P,O,$,G,tt){for(const Y of k){const Q=P[Y],et=Q.numPoints;let _t,At,ft;if(et)_t=Ri(Q),At=Q.x,ft=Q.y;else{const ie=this.points[Q.index];_t=ie.properties,At=dt(ie.geometry.coordinates[0]),ft=Kt(ie.geometry.coordinates[1])}const ee={type:1,geometry:[[Math.round(this.options.extent*(At*G-O)),Math.round(this.options.extent*(ft*G-$))]],tags:_t};let Xt;et?Xt=Q.id:this.options.generateId?Xt=Q.index:this.points[Q.index].id&&(Xt=this.points[Q.index].id),Xt!==void 0&&(ee.id=Xt),tt.features.push(ee)}}_limitZoom(k){return Math.max(this.options.minZoom,Math.min(+k,this.options.maxZoom+1))}_cluster(k,P){const O=[],{radius:$,extent:G,reduce:tt,minPoints:Y}=this.options,Q=$/(G*Math.pow(2,P));for(let et=0;et<k.length;et++){const _t=k[et];if(_t.zoom<=P)continue;_t.zoom=P;const At=this.trees[P+1],ft=At.within(_t.x,_t.y,Q),ee=_t.numPoints||1;let Xt=ee;for(const ie of ft){const de=At.points[ie];de.zoom>P&&(Xt+=de.numPoints||1)}if(Xt>ee&&Xt>=Y){let ie=_t.x*ee,de=_t.y*ee,Ue=tt&&ee>1?this._map(_t,!0):null;const Le=(et<<5)+(P+1)+this.points.length;for(const Pe of ft){const Ee=At.points[Pe];if(Ee.zoom<=P)continue;Ee.zoom=P;const we=Ee.numPoints||1;ie+=Ee.x*we,de+=Ee.y*we,Ee.parentId=Le,tt&&(Ue||(Ue=this._map(_t,!0)),tt(Ue,this._map(Ee)))}_t.parentId=Le,O.push(Hi(ie/Xt,de/Xt,Le,Xt,Ue))}else if(O.push(_t),Xt>1)for(const ie of ft){const de=At.points[ie];de.zoom<=P||(de.zoom=P,O.push(de))}}return O}_getOriginId(k){return k-this.points.length>>5}_getOriginZoom(k){return(k-this.points.length)%32}_map(k,P){if(k.numPoints)return P?Dt({},k.properties):k.properties;const O=this.points[k.index].properties,$=this.options.map(O);return P&&$===O?Dt({},$):$}}function Hi(j,k,P,O,$){return{x:me(j),y:me(k),zoom:1/0,id:P,parentId:-1,numPoints:O,properties:$}}function ri(j,k){const[P,O]=j.geometry.coordinates;return{x:me(dt(P)),y:me(Kt(O)),zoom:1/0,index:k,parentId:-1}}function Zr(j){return{type:"Feature",id:j.id,properties:Ri(j),geometry:{type:"Point",coordinates:[(k=j.x,360*(k-.5)),oe(j.y)]}};var k}function Ri(j){const k=j.numPoints,P=k>=1e4?`${Math.round(k/1e3)}k`:k>=1e3?Math.round(k/100)/10+"k":k;return Dt(Dt({},j.properties),{cluster:!0,cluster_id:j.id,point_count:k,point_count_abbreviated:P})}function dt(j){return j/360+.5}function Kt(j){const k=Math.sin(j*Math.PI/180),P=.5-.25*Math.log((1+k)/(1-k))/Math.PI;return P<0?0:P>1?1:P}function oe(j){const k=(180-360*j)*Math.PI/180;return 360*Math.atan(Math.exp(k))/Math.PI-90}function Dt(j,k){for(const P in k)j[P]=k[P];return j}function ye(j){return j.x}function Ie(j){return j.y}function nn(j,k,P,O){for(var $,G=O,tt=P-k>>1,Y=P-k,Q=j[k],et=j[k+1],_t=j[P],At=j[P+1],ft=k+3;ft<P;ft+=3){var ee=xe(j[ft],j[ft+1],Q,et,_t,At);if(ee>G)$=ft,G=ee;else if(ee===G){var Xt=Math.abs(ft-tt);Xt<Y&&($=ft,Y=Xt)}}G>O&&($-k>3&&nn(j,k,$,O),j[$+2]=G,P-$>3&&nn(j,$,P,O))}function xe(j,k,P,O,$,G){var tt=$-P,Y=G-O;if(tt!==0||Y!==0){var Q=((j-P)*tt+(k-O)*Y)/(tt*tt+Y*Y);Q>1?(P=$,O=G):Q>0&&(P+=tt*Q,O+=Y*Q)}return(tt=j-P)*tt+(Y=k-O)*Y}function pt(j,k,P,O){var $={id:j===void 0?null:j,type:k,geometry:P,tags:O,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(G){var tt=G.geometry,Y=G.type;if(Y==="Point"||Y==="MultiPoint"||Y==="LineString")Ot(G,tt);else if(Y==="Polygon"||Y==="MultiLineString")for(var Q=0;Q<tt.length;Q++)Ot(G,tt[Q]);else if(Y==="MultiPolygon")for(Q=0;Q<tt.length;Q++)for(var et=0;et<tt[Q].length;et++)Ot(G,tt[Q][et])}($),$}function Ot(j,k){for(var P=0;P<k.length;P+=3)j.minX=Math.min(j.minX,k[P]),j.minY=Math.min(j.minY,k[P+1]),j.maxX=Math.max(j.maxX,k[P]),j.maxY=Math.max(j.maxY,k[P+1])}function Rr(j,k,P,O){if(k.geometry){var $=k.geometry.coordinates,G=k.geometry.type,tt=Math.pow(P.tolerance/((1<<P.maxZoom)*P.extent),2),Y=[],Q=k.id;if(P.promoteId?Q=k.properties[P.promoteId]:P.generateId&&(Q=O||0),G==="Point")_r($,Y);else if(G==="MultiPoint")for(var et=0;et<$.length;et++)_r($[et],Y);else if(G==="LineString")He($,Y,tt,!1);else if(G==="MultiLineString"){if(P.lineMetrics){for(et=0;et<$.length;et++)He($[et],Y=[],tt,!1),j.push(pt(Q,"LineString",Y,k.properties));return}Ti($,Y,tt,!1)}else if(G==="Polygon")Ti($,Y,tt,!0);else{if(G!=="MultiPolygon"){if(G==="GeometryCollection"){for(et=0;et<k.geometry.geometries.length;et++)Rr(j,{id:Q,geometry:k.geometry.geometries[et],properties:k.properties},P,O);return}throw new Error("Input data is not a valid GeoJSON object.")}for(et=0;et<$.length;et++){var _t=[];Ti($[et],_t,tt,!0),Y.push(_t)}}j.push(pt(Q,G,Y,k.properties))}}function _r(j,k){k.push(pi(j[0])),k.push(ia(j[1])),k.push(0)}function He(j,k,P,O){for(var $,G,tt=0,Y=0;Y<j.length;Y++){var Q=pi(j[Y][0]),et=ia(j[Y][1]);k.push(Q),k.push(et),k.push(0),Y>0&&(tt+=O?($*et-Q*G)/2:Math.sqrt(Math.pow(Q-$,2)+Math.pow(et-G,2))),$=Q,G=et}var _t=k.length-3;k[2]=1,nn(k,0,_t,P),k[_t+2]=1,k.size=Math.abs(tt),k.start=0,k.end=k.size}function Ti(j,k,P,O){for(var $=0;$<j.length;$++){var G=[];He(j[$],G,P,O),k.push(G)}}function pi(j){return j/360+.5}function ia(j){var k=Math.sin(j*Math.PI/180),P=.5-.25*Math.log((1+k)/(1-k))/Math.PI;return P<0?0:P>1?1:P}function cn(j,k,P,O,$,G,tt,Y){if(O/=k,G>=(P/=k)&&tt<O)return j;if(tt<P||G>=O)return null;for(var Q=[],et=0;et<j.length;et++){var _t=j[et],At=_t.geometry,ft=_t.type,ee=$===0?_t.minX:_t.minY,Xt=$===0?_t.maxX:_t.maxY;if(ee>=P&&Xt<O)Q.push(_t);else if(!(Xt<P||ee>=O)){var ie=[];if(ft==="Point"||ft==="MultiPoint")Ut(At,ie,P,O,$);else if(ft==="LineString")ke(At,ie,P,O,$,!1,Y.lineMetrics);else if(ft==="MultiLineString")gi(At,ie,P,O,$,!1);else if(ft==="Polygon")gi(At,ie,P,O,$,!0);else if(ft==="MultiPolygon")for(var de=0;de<At.length;de++){var Ue=[];gi(At[de],Ue,P,O,$,!0),Ue.length&&ie.push(Ue)}if(ie.length){if(Y.lineMetrics&&ft==="LineString"){for(de=0;de<ie.length;de++)Q.push(pt(_t.id,ft,ie[de],_t.tags));continue}ft!=="LineString"&&ft!=="MultiLineString"||(ie.length===1?(ft="LineString",ie=ie[0]):ft="MultiLineString"),ft!=="Point"&&ft!=="MultiPoint"||(ft=ie.length===3?"Point":"MultiPoint"),Q.push(pt(_t.id,ft,ie,_t.tags))}}}return Q.length?Q:null}function Ut(j,k,P,O,$){for(var G=0;G<j.length;G+=3){var tt=j[G+$];tt>=P&&tt<=O&&(k.push(j[G]),k.push(j[G+1]),k.push(j[G+2]))}}function ke(j,k,P,O,$,G,tt){for(var Y,Q,et=be(j),_t=$===0?Se:ra,At=j.start,ft=0;ft<j.length-3;ft+=3){var ee=j[ft],Xt=j[ft+1],ie=j[ft+2],de=j[ft+3],Ue=j[ft+4],Le=$===0?ee:Xt,Pe=$===0?de:Ue,Ee=!1;tt&&(Y=Math.sqrt(Math.pow(ee-de,2)+Math.pow(Xt-Ue,2))),Le<P?Pe>P&&(Q=_t(et,ee,Xt,de,Ue,P),tt&&(et.start=At+Y*Q)):Le>O?Pe<O&&(Q=_t(et,ee,Xt,de,Ue,O),tt&&(et.start=At+Y*Q)):ar(et,ee,Xt,ie),Pe<P&&Le>=P&&(Q=_t(et,ee,Xt,de,Ue,P),Ee=!0),Pe>O&&Le<=O&&(Q=_t(et,ee,Xt,de,Ue,O),Ee=!0),!G&&Ee&&(tt&&(et.end=At+Y*Q),k.push(et),et=be(j)),tt&&(At+=Y)}var we=j.length-3;ee=j[we],Xt=j[we+1],ie=j[we+2],(Le=$===0?ee:Xt)>=P&&Le<=O&&ar(et,ee,Xt,ie),we=et.length-3,G&&we>=3&&(et[we]!==et[0]||et[we+1]!==et[1])&&ar(et,et[0],et[1],et[2]),et.length&&k.push(et)}function be(j){var k=[];return k.size=j.size,k.start=j.start,k.end=j.end,k}function gi(j,k,P,O,$,G){for(var tt=0;tt<j.length;tt++)ke(j[tt],k,P,O,$,G,!1)}function ar(j,k,P,O){j.push(k),j.push(P),j.push(O)}function Se(j,k,P,O,$,G){var tt=(G-k)/(O-k);return j.push(G),j.push(P+($-P)*tt),j.push(1),tt}function ra(j,k,P,O,$,G){var tt=(G-P)/($-P);return j.push(k+(O-k)*tt),j.push(G),j.push(1),tt}function or(j,k){for(var P=[],O=0;O<j.length;O++){var $,G=j[O],tt=G.type;if(tt==="Point"||tt==="MultiPoint"||tt==="LineString")$=Fr(G.geometry,k);else if(tt==="MultiLineString"||tt==="Polygon"){$=[];for(var Y=0;Y<G.geometry.length;Y++)$.push(Fr(G.geometry[Y],k))}else if(tt==="MultiPolygon")for($=[],Y=0;Y<G.geometry.length;Y++){for(var Q=[],et=0;et<G.geometry[Y].length;et++)Q.push(Fr(G.geometry[Y][et],k));$.push(Q)}P.push(pt(G.id,tt,$,G.tags))}return P}function Fr(j,k){var P=[];P.size=j.size,j.start!==void 0&&(P.start=j.start,P.end=j.end);for(var O=0;O<j.length;O+=3)P.push(j[O]+k,j[O+1],j[O+2]);return P}function On(j,k){if(j.transformed)return j;var P,O,$,G=1<<j.z,tt=j.x,Y=j.y;for(P=0;P<j.features.length;P++){var Q=j.features[P],et=Q.geometry,_t=Q.type;if(Q.geometry=[],_t===1)for(O=0;O<et.length;O+=2)Q.geometry.push(rn(et[O],et[O+1],k,G,tt,Y));else for(O=0;O<et.length;O++){var At=[];for($=0;$<et[O].length;$+=2)At.push(rn(et[O][$],et[O][$+1],k,G,tt,Y));Q.geometry.push(At)}}return j.transformed=!0,j}function rn(j,k,P,O,$,G){return[Math.round(P*(j*O-$)),Math.round(P*(k*O-G))]}function Xi(j,k,P,O,$){for(var G=k===$.maxZoom?0:$.tolerance/((1<<k)*$.extent),tt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:P,y:O,z:k,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Y=0;Y<j.length;Y++){tt.numFeatures++,aa(tt,j[Y],G,$);var Q=j[Y].minX,et=j[Y].minY,_t=j[Y].maxX,At=j[Y].maxY;Q<tt.minX&&(tt.minX=Q),et<tt.minY&&(tt.minY=et),_t>tt.maxX&&(tt.maxX=_t),At>tt.maxY&&(tt.maxY=At)}return tt}function aa(j,k,P,O){var $=k.geometry,G=k.type,tt=[];if(G==="Point"||G==="MultiPoint")for(var Y=0;Y<$.length;Y+=3)tt.push($[Y]),tt.push($[Y+1]),j.numPoints++,j.numSimplified++;else if(G==="LineString")Zn(tt,$,j,P,!1,!1);else if(G==="MultiLineString"||G==="Polygon")for(Y=0;Y<$.length;Y++)Zn(tt,$[Y],j,P,G==="Polygon",Y===0);else if(G==="MultiPolygon")for(var Q=0;Q<$.length;Q++){var et=$[Q];for(Y=0;Y<et.length;Y++)Zn(tt,et[Y],j,P,!0,Y===0)}if(tt.length){var _t=k.tags||null;if(G==="LineString"&&O.lineMetrics){for(var At in _t={},k.tags)_t[At]=k.tags[At];_t.mapbox_clip_start=$.start/$.size,_t.mapbox_clip_end=$.end/$.size}var ft={geometry:tt,type:G==="Polygon"||G==="MultiPolygon"?3:G==="LineString"||G==="MultiLineString"?2:1,tags:_t};k.id!==null&&(ft.id=k.id),j.features.push(ft)}}function Zn(j,k,P,O,$,G){var tt=O*O;if(O>0&&k.size<($?tt:O))P.numPoints+=k.length/3;else{for(var Y=[],Q=0;Q<k.length;Q+=3)(O===0||k[Q+2]>tt)&&(P.numSimplified++,Y.push(k[Q]),Y.push(k[Q+1])),P.numPoints++;$&&function(et,_t){for(var At=0,ft=0,ee=et.length,Xt=ee-2;ft<ee;Xt=ft,ft+=2)At+=(et[ft]-et[Xt])*(et[ft+1]+et[Xt+1]);if(At>0===_t)for(ft=0,ee=et.length;ft<ee/2;ft+=2){var ie=et[ft],de=et[ft+1];et[ft]=et[ee-2-ft],et[ft+1]=et[ee-1-ft],et[ee-2-ft]=ie,et[ee-1-ft]=de}}(Y,G),j.push(Y)}}function lr(j,k){var P=(k=this.options=function($,G){for(var tt in G)$[tt]=G[tt];return $}(Object.create(this.options),k)).debug;if(P&&console.time("preprocess data"),k.maxZoom<0||k.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(k.promoteId&&k.generateId)throw new Error("promoteId and generateId cannot be used together.");var O=function($,G){var tt=[];if($.type==="FeatureCollection")for(var Y=0;Y<$.features.length;Y++)Rr(tt,$.features[Y],G,Y);else Rr(tt,$.type==="Feature"?$:{geometry:$},G);return tt}(j,k);this.tiles={},this.tileCoords=[],P&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",k.indexMaxZoom,k.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),O=function($,G){var tt=G.buffer/G.extent,Y=$,Q=cn($,1,-1-tt,tt,0,-1,2,G),et=cn($,1,1-tt,2+tt,0,-1,2,G);return(Q||et)&&(Y=cn($,1,-tt,1+tt,0,-1,2,G)||[],Q&&(Y=or(Q,1).concat(Y)),et&&(Y=Y.concat(or(et,-1)))),Y}(O,k),O.length&&this.splitTile(O,0,0,0),P&&(O.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function sr(j,k,P){return 32*((1<<j)*P+k)+j}function ko(j,k){const P=j.tileID.canonical;if(!this._geoJSONIndex)return k(null,null);const O=this._geoJSONIndex.getTile(P.z,P.x,P.y);if(!O)return k(null,null);const $=new kt(O.features);let G=ce($);G.byteOffset===0&&G.byteLength===G.buffer.byteLength||(G=new Uint8Array(G)),k(null,{vectorTile:$,rawData:G.buffer})}lr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},lr.prototype.splitTile=function(j,k,P,O,$,G,tt){for(var Y=[j,k,P,O],Q=this.options,et=Q.debug;Y.length;){O=Y.pop(),P=Y.pop(),k=Y.pop(),j=Y.pop();var _t=1<<k,At=sr(k,P,O),ft=this.tiles[At];if(!ft&&(et>1&&console.time("creation"),ft=this.tiles[At]=Xi(j,k,P,O,Q),this.tileCoords.push({z:k,x:P,y:O}),et)){et>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",k,P,O,ft.numFeatures,ft.numPoints,ft.numSimplified),console.timeEnd("creation"));var ee="z"+k;this.stats[ee]=(this.stats[ee]||0)+1,this.total++}if(ft.source=j,$){if(k===Q.maxZoom||k===$)continue;var Xt=1<<$-k;if(P!==Math.floor(G/Xt)||O!==Math.floor(tt/Xt))continue}else if(k===Q.indexMaxZoom||ft.numPoints<=Q.indexMaxPoints)continue;if(ft.source=null,j.length!==0){et>1&&console.time("clipping");var ie,de,Ue,Le,Pe,Ee,we=.5*Q.buffer/Q.extent,Fn=.5-we,Mn=.5+we,Yn=1+we;ie=de=Ue=Le=null,Pe=cn(j,_t,P-we,P+Mn,0,ft.minX,ft.maxX,Q),Ee=cn(j,_t,P+Fn,P+Yn,0,ft.minX,ft.maxX,Q),j=null,Pe&&(ie=cn(Pe,_t,O-we,O+Mn,1,ft.minY,ft.maxY,Q),de=cn(Pe,_t,O+Fn,O+Yn,1,ft.minY,ft.maxY,Q),Pe=null),Ee&&(Ue=cn(Ee,_t,O-we,O+Mn,1,ft.minY,ft.maxY,Q),Le=cn(Ee,_t,O+Fn,O+Yn,1,ft.minY,ft.maxY,Q),Ee=null),et>1&&console.timeEnd("clipping"),Y.push(ie||[],k+1,2*P,2*O),Y.push(de||[],k+1,2*P,2*O+1),Y.push(Ue||[],k+1,2*P+1,2*O),Y.push(Le||[],k+1,2*P+1,2*O+1)}}},lr.prototype.getTile=function(j,k,P){var O=this.options,$=O.extent,G=O.debug;if(j<0||j>24)return null;var tt=1<<j,Y=sr(j,k=(k%tt+tt)%tt,P);if(this.tiles[Y])return On(this.tiles[Y],$);G>1&&console.log("drilling down to z%d-%d-%d",j,k,P);for(var Q,et=j,_t=k,At=P;!Q&&et>0;)et--,_t=Math.floor(_t/2),At=Math.floor(At/2),Q=this.tiles[sr(et,_t,At)];return Q&&Q.source?(G>1&&console.log("found parent tile z%d-%d-%d",et,_t,At),G>1&&console.time("drilling down"),this.splitTile(Q.source,et,_t,At,j,k,P),G>1&&console.timeEnd("drilling down"),this.tiles[Y]?On(this.tiles[Y],$):null):null};class La extends Lt{constructor(k,P,O,$){super(k,P,O,ko),$&&(this.loadGeoJSON=$)}loadData(k,P){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=P,this._pendingLoadDataParams=k,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}_loadData(){if(!this._pendingCallback||!this._pendingLoadDataParams)return;const k=this._pendingCallback,P=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;const O=!!(P&&P.request&&P.request.collectResourceTiming)&&new u.RequestPerformance(P.request);this.loadGeoJSON(P,($,G)=>{if($||!G)return k($);if(typeof G!="object")return k(new Error(`Input data given to '${P.source}' is not a valid GeoJSON object.`));{H(G,!0);try{if(P.filter){const Y=u.createExpression(P.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Y.result==="error")throw new Error(Y.value.map(et=>`${et.key}: ${et.message}`).join(", "));const Q=G.features.filter(et=>Y.value.evaluate({zoom:0},et));G={type:"FeatureCollection",features:Q}}this._geoJSONIndex=P.cluster?new Lr(function({superclusterOptions:Y,clusterProperties:Q}){if(!Q||!Y)return Y;const et={},_t={},At={accumulated:null,zoom:0},ft={properties:null},ee=Object.keys(Q);for(const Xt of ee){const[ie,de]=Q[Xt],Ue=u.createExpression(de),Le=u.createExpression(typeof ie=="string"?[ie,["accumulated"],["get",Xt]]:ie);et[Xt]=Ue.value,_t[Xt]=Le.value}return Y.map=Xt=>{ft.properties=Xt;const ie={};for(const de of ee)ie[de]=et[de].evaluate(At,ft);return ie},Y.reduce=(Xt,ie)=>{ft.properties=ie;for(const de of ee)At.accumulated=Xt[de],Xt[de]=_t[de].evaluate(At,ft)},Y}(P)).load(G.features):function(Y,Q){return new lr(Y,Q)}(G,P.geojsonVtOptions)}catch(Y){return k(Y)}this.loaded={};const tt={};if(O){const Y=O.finish();Y&&(tt.resourceTiming={},tt.resourceTiming[P.source]=JSON.parse(JSON.stringify(Y)))}k(null,tt)}})}coalesce(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())}reloadTile(k,P){const O=this.loaded;return O&&O[k.uid]?super.reloadTile(k,P):this.loadTile(k,P)}loadGeoJSON(k,P){if(k.request)u.getJSON(k.request,P);else{if(typeof k.data!="string")return P(new Error(`Input data given to '${k.source}' is not a valid GeoJSON object.`));try{return P(null,JSON.parse(k.data))}catch{return P(new Error(`Input data given to '${k.source}' is not a valid GeoJSON object.`))}}}removeSource(k,P){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),P()}getClusterExpansionZoom(k,P){try{P(null,this._geoJSONIndex.getClusterExpansionZoom(k.clusterId))}catch(O){P(O)}}getClusterChildren(k,P){try{P(null,this._geoJSONIndex.getChildren(k.clusterId))}catch(O){P(O)}}getClusterLeaves(k,P){try{P(null,this._geoJSONIndex.getLeaves(k.clusterId,k.limit,k.offset))}catch(O){P(O)}}}class Ra{constructor(k){this.self=k,this.actor=new u.Actor(k,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Lt,geojson:La},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(P,O)=>{if(this.workerSourceTypes[P])throw new Error(`Worker source with name "${P}" already registered.`);this.workerSourceTypes[P]=O},this.self.registerRTLTextPlugin=P=>{if(u.plugin.isParsed())throw new Error("RTL text plugin already registered.");u.plugin.applyArabicShaping=P.applyArabicShaping,u.plugin.processBidirectionalText=P.processBidirectionalText,u.plugin.processStyledBidirectionalText=P.processStyledBidirectionalText}}setReferrer(k,P){this.referrer=P}setImages(k,P,O){this.availableImages[k]=P;for(const $ in this.workerSources[k]){const G=this.workerSources[k][$];for(const tt in G)G[tt].availableImages=P}O()}setLayers(k,P,O){this.getLayerIndex(k).replace(P),O()}updateLayers(k,P,O){this.getLayerIndex(k).update(P.layers,P.removedIds),O()}loadTile(k,P,O){this.getWorkerSource(k,P.type,P.source).loadTile(P,O)}loadDEMTile(k,P,O){this.getDEMWorkerSource(k,P.source).loadTile(P,O)}reloadTile(k,P,O){this.getWorkerSource(k,P.type,P.source).reloadTile(P,O)}abortTile(k,P,O){this.getWorkerSource(k,P.type,P.source).abortTile(P,O)}removeTile(k,P,O){this.getWorkerSource(k,P.type,P.source).removeTile(P,O)}removeDEMTile(k,P){this.getDEMWorkerSource(k,P.source).removeTile(P)}removeSource(k,P,O){if(!this.workerSources[k]||!this.workerSources[k][P.type]||!this.workerSources[k][P.type][P.source])return;const $=this.workerSources[k][P.type][P.source];delete this.workerSources[k][P.type][P.source],$.removeSource!==void 0?$.removeSource(P,O):O()}loadWorkerSource(k,P,O){try{this.self.importScripts(P.url),O()}catch($){O($.toString())}}syncRTLPluginState(k,P,O){try{u.plugin.setState(P);const $=u.plugin.getPluginURL();if(u.plugin.isLoaded()&&!u.plugin.isParsed()&&$!=null){this.self.importScripts($);const G=u.plugin.isParsed();O(G?void 0:new Error(`RTL Text Plugin failed to import scripts from ${$}`),G)}}catch($){O($.toString())}}getAvailableImages(k){let P=this.availableImages[k];return P||(P=[]),P}getLayerIndex(k){let P=this.layerIndexes[k];return P||(P=this.layerIndexes[k]=new yt),P}getWorkerSource(k,P,O){if(this.workerSources[k]||(this.workerSources[k]={}),this.workerSources[k][P]||(this.workerSources[k][P]={}),!this.workerSources[k][P][O]){const $={send:(G,tt,Y)=>{this.actor.send(G,tt,Y,k)}};this.workerSources[k][P][O]=new this.workerSourceTypes[P]($,this.getLayerIndex(k),this.getAvailableImages(k))}return this.workerSources[k][P][O]}getDEMWorkerSource(k,P){return this.demWorkerSources[k]||(this.demWorkerSources[k]={}),this.demWorkerSources[k][P]||(this.demWorkerSources[k][P]=new J),this.demWorkerSources[k][P]}enforceCacheSizeLimit(k,P){u.enforceCacheSizeLimit(P)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new Ra(self)),Ra}),v(["./shared"],function(u){var F=Z;function Z(h){return!function(n){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var c,g,y=new Blob([""],{type:"text/javascript"}),w=URL.createObjectURL(y);try{g=new Worker(w),c=!0}catch{c=!1}return g&&g.terminate(),URL.revokeObjectURL(w),c}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var c=document.createElement("canvas");c.width=c.height=1;var g=c.getContext("2d");if(!g)return!1;var y=g.getImageData(0,0,1,1);return y&&y.width===c.width}()?(yt[o=n&&n.failIfMajorPerformanceCaveat]===void 0&&(yt[o]=function(c){var g,y=function(w){var S=document.createElement("canvas"),E=Object.create(Z.webGLContextAttributes);return E.failIfMajorPerformanceCaveat=w,S.getContext("webgl",E)||S.getContext("experimental-webgl",E)}(c);if(!y)return!1;try{g=y.createShader(y.VERTEX_SHADER)}catch{return!1}return!(!g||y.isContextLost())&&(y.shaderSource(g,"void main() {}"),y.compileShader(g),y.getShaderParameter(g,y.COMPILE_STATUS)===!0)}(o)),yt[o]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var o}(h)}var yt={};function gt(h,n){if(Array.isArray(h)){if(!Array.isArray(n)||h.length!==n.length)return!1;for(let o=0;o<h.length;o++)if(!gt(h[o],n[o]))return!1;return!0}if(typeof h=="object"&&h!==null&&n!==null){if(typeof n!="object"||Object.keys(h).length!==Object.keys(n).length)return!1;for(const o in h)if(!gt(h[o],n[o]))return!1;return!0}return h===n}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class V{static testProp(n){if(!V.docStyle)return n[0];for(let o=0;o<n.length;o++)if(n[o]in V.docStyle)return n[o];return n[0]}static create(n,o,c){const g=window.document.createElement(n);return o!==void 0&&(g.className=o),c&&c.appendChild(g),g}static createNS(n,o){return window.document.createElementNS(n,o)}static disableDrag(){V.docStyle&&V.selectProp&&(V.userSelect=V.docStyle[V.selectProp],V.docStyle[V.selectProp]="none")}static enableDrag(){V.docStyle&&V.selectProp&&(V.docStyle[V.selectProp]=V.userSelect)}static setTransform(n,o){n.style[V.transformProp]=o}static addEventListener(n,o,c,g={}){n.addEventListener(o,c,"passive"in g?g:g.capture)}static removeEventListener(n,o,c,g={}){n.removeEventListener(o,c,"passive"in g?g:g.capture)}static suppressClickInternal(n){n.preventDefault(),n.stopPropagation(),window.removeEventListener("click",V.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",V.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",V.suppressClickInternal,!0)},0)}static mousePos(n,o){const c=n.getBoundingClientRect();return new u.pointGeometry(o.clientX-c.left-n.clientLeft,o.clientY-c.top-n.clientTop)}static touchPos(n,o){const c=n.getBoundingClientRect(),g=[];for(let y=0;y<o.length;y++)g.push(new u.pointGeometry(o[y].clientX-c.left-n.clientLeft,o[y].clientY-c.top-n.clientTop));return g}static mouseButton(n){return n.button}static remove(n){n.parentNode&&n.parentNode.removeChild(n)}}V.docStyle=typeof window!="undefined"&&window.document&&window.document.documentElement.style,V.selectProp=V.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),V.transformProp=V.testProp(["transform","WebkitTransform"]);class Pt{constructor(n){this._transformRequestFn=n}transformRequest(n,o){return this._transformRequestFn&&this._transformRequestFn(n,o)||{url:n}}normalizeSpriteURL(n,o,c){const g=function(y){const w=y.match(It);if(!w)throw new Error(`Unable to parse URL "${y}"`);return{protocol:w[1],authority:w[2],path:w[3]||"/",params:w[4]?w[4].split("&"):[]}}(n);return g.path+=`${o}${c}`,function(y){const w=y.params.length?`?${y.params.join("&")}`:"";return`${y.protocol}://${y.authority}${y.path}${w}`}(g)}setTransformRequest(n){this._transformRequestFn=n}}const It=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Lt(h){var n=new u.ARRAY_TYPE(3);return n[0]=h[0],n[1]=h[1],n[2]=h[2],n}var J,H=function(h,n,o){return h[0]=n[0]-o[0],h[1]=n[1]-o[1],h[2]=n[2]-o[2],h};J=new u.ARRAY_TYPE(3),u.ARRAY_TYPE!=Float32Array&&(J[0]=0,J[1]=0,J[2]=0);var nt=function(h){var n=h[0],o=h[1];return n*n+o*o};(function(){var h=new u.ARRAY_TYPE(2);u.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0)})();class ut{constructor(n,o,c,g){this.context=n,this.format=c,this.texture=n.gl.createTexture(),this.update(o,g)}update(n,o,c){const{width:g,height:y}=n,w=!(this.size&&this.size[0]===g&&this.size[1]===y||c),{context:S}=this,{gl:E}=S;if(this.useMipmap=Boolean(o&&o.useMipmap),E.bindTexture(E.TEXTURE_2D,this.texture),S.pixelStoreUnpackFlipY.set(!1),S.pixelStoreUnpack.set(1),S.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!o||o.premultiply!==!1)),w)this.size=[g,y],n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||u.isImageBitmap(n)?E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,E.UNSIGNED_BYTE,n):E.texImage2D(E.TEXTURE_2D,0,this.format,g,y,0,this.format,E.UNSIGNED_BYTE,n.data);else{const{x:C,y:z}=c||{x:0,y:0};n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||u.isImageBitmap(n)?E.texSubImage2D(E.TEXTURE_2D,0,C,z,E.RGBA,E.UNSIGNED_BYTE,n):E.texSubImage2D(E.TEXTURE_2D,0,C,z,g,y,E.RGBA,E.UNSIGNED_BYTE,n.data)}this.useMipmap&&this.isSizePowerOfTwo()&&E.generateMipmap(E.TEXTURE_2D)}bind(n,o,c){const{context:g}=this,{gl:y}=g;y.bindTexture(y.TEXTURE_2D,this.texture),c!==y.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(c=y.LINEAR),n!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,n),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,c||n),this.filter=n),o!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,o),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}function at(h){const{userImage:n}=h;return!!(n&&n.render&&n.render())&&(h.data.replace(new Uint8Array(n.data.buffer)),!0)}class bt extends u.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(n){if(this.loaded!==n&&(this.loaded=n,n)){for(const{ids:o,callback:c}of this.requestors)this._notify(o,c);this.requestors=[]}}getImage(n){return this.images[n]}addImage(n,o){this._validate(n,o)&&(this.images[n]=o)}_validate(n,o){let c=!0;return this._validateStretch(o.stretchX,o.data&&o.data.width)||(this.fire(new u.ErrorEvent(new Error(`Image "${n}" has invalid "stretchX" value`))),c=!1),this._validateStretch(o.stretchY,o.data&&o.data.height)||(this.fire(new u.ErrorEvent(new Error(`Image "${n}" has invalid "stretchY" value`))),c=!1),this._validateContent(o.content,o)||(this.fire(new u.ErrorEvent(new Error(`Image "${n}" has invalid "content" value`))),c=!1),c}_validateStretch(n,o){if(!n)return!0;let c=0;for(const g of n){if(g[0]<c||g[1]<g[0]||o<g[1])return!1;c=g[1]}return!0}_validateContent(n,o){return!(n&&(n.length!==4||n[0]<0||o.data.width<n[0]||n[1]<0||o.data.height<n[1]||n[2]<0||o.data.width<n[2]||n[3]<0||o.data.height<n[3]||n[2]<n[0]||n[3]<n[1]))}updateImage(n,o){o.version=this.images[n].version+1,this.images[n]=o,this.updatedImages[n]=!0}removeImage(n){const o=this.images[n];delete this.images[n],delete this.patterns[n],o.userImage&&o.userImage.onRemove&&o.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(n,o){let c=!0;if(!this.isLoaded())for(const g of n)this.images[g]||(c=!1);this.isLoaded()||c?this._notify(n,o):this.requestors.push({ids:n,callback:o})}_notify(n,o){const c={};for(const g of n){this.images[g]||this.fire(new u.Event("styleimagemissing",{id:g}));const y=this.images[g];y?c[g]={data:y.data.clone(),pixelRatio:y.pixelRatio,sdf:y.sdf,version:y.version,stretchX:y.stretchX,stretchY:y.stretchY,content:y.content,hasRenderCallback:Boolean(y.userImage&&y.userImage.render)}:u.warnOnce(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}o(null,c)}getPixelSize(){const{width:n,height:o}=this.atlasImage;return{width:n,height:o}}getPattern(n){const o=this.patterns[n],c=this.getImage(n);if(!c)return null;if(o&&o.position.version===c.version)return o.position;if(o)o.position.version=c.version;else{const g={w:c.data.width+2,h:c.data.height+2,x:0,y:0},y=new u.ImagePosition(g,c);this.patterns[n]={bin:g,position:y}}return this._updatePatternAtlas(),this.patterns[n].position}bind(n){const o=n.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ut(n,this.atlasImage,o.RGBA),this.atlasTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE)}_updatePatternAtlas(){const n=[];for(const y in this.patterns)n.push(this.patterns[y].bin);const{w:o,h:c}=u.potpack(n),g=this.atlasImage;g.resize({width:o||1,height:c||1});for(const y in this.patterns){const{bin:w}=this.patterns[y],S=w.x+1,E=w.y+1,C=this.images[y].data,z=C.width,L=C.height;u.RGBAImage.copy(C,g,{x:0,y:0},{x:S,y:E},{width:z,height:L}),u.RGBAImage.copy(C,g,{x:0,y:L-1},{x:S,y:E-1},{width:z,height:1}),u.RGBAImage.copy(C,g,{x:0,y:0},{x:S,y:E+L},{width:z,height:1}),u.RGBAImage.copy(C,g,{x:z-1,y:0},{x:S-1,y:E},{width:1,height:L}),u.RGBAImage.copy(C,g,{x:0,y:0},{x:S+z,y:E},{width:1,height:L})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(n){for(const o of n){if(this.callbackDispatchedThisFrame[o])continue;this.callbackDispatchedThisFrame[o]=!0;const c=this.images[o];at(c)&&this.updateImage(o,c)}}}const kt=1e20;function qt(h,n,o,c,g,y,w,S,E){for(let C=n;C<n+c;C++)Vt(h,o*y+C,y,g,w,S,E);for(let C=o;C<o+g;C++)Vt(h,C*y+n,1,c,w,S,E)}function Vt(h,n,o,c,g,y,w){y[0]=0,w[0]=-kt,w[1]=kt,g[0]=h[n];for(let S=1,E=0,C=0;S<c;S++){g[S]=h[n+S*o];const z=S*S;do{const L=y[E];C=(g[S]-g[L]+z-L*L)/(S-L)/2}while(C<=w[E]&&--E>-1);E++,y[E]=S,w[E]=C,w[E+1]=kt}for(let S=0,E=0;S<c;S++){for(;w[E+1]<S;)E++;const C=y[E],z=S-C;h[n+S*o]=g[C]+z*z}}class jt{constructor(n,o){this.requestManager=n,this.localIdeographFontFamily=o,this.entries={}}setURL(n){this.url=n}getGlyphs(n,o){const c=[];for(const g in n)for(const y of n[g])c.push({stack:g,id:y});u.asyncAll(c,({stack:g,id:y},w)=>{let S=this.entries[g];S||(S=this.entries[g]={glyphs:{},requests:{},ranges:{}});let E=S.glyphs[y];if(E!==void 0)return void w(null,{stack:g,id:y,glyph:E});if(E=this._tinySDF(S,g,y),E)return S.glyphs[y]=E,void w(null,{stack:g,id:y,glyph:E});const C=Math.floor(y/256);if(256*C>65535)return void w(new Error("glyphs > 65535 not supported"));if(S.ranges[C])return void w(null,{stack:g,id:y,glyph:E});let z=S.requests[C];z||(z=S.requests[C]=[],jt.loadGlyphRange(g,C,this.url,this.requestManager,(L,U)=>{if(U){for(const W in U)this._doesCharSupportLocalGlyph(+W)||(S.glyphs[+W]=U[+W]);S.ranges[C]=!0}for(const W of z)W(L,U);delete S.requests[C]})),z.push((L,U)=>{L?w(L):U&&w(null,{stack:g,id:y,glyph:U[y]||null})})},(g,y)=>{if(g)o(g);else if(y){const w={};for(const{stack:S,id:E,glyph:C}of y)(w[S]||(w[S]={}))[E]=C&&{id:C.id,bitmap:C.bitmap.clone(),metrics:C.metrics};o(null,w)}})}_doesCharSupportLocalGlyph(n){return!!this.localIdeographFontFamily&&(u.unicodeBlockLookup["CJK Unified Ideographs"](n)||u.unicodeBlockLookup["Hangul Syllables"](n)||u.unicodeBlockLookup.Hiragana(n)||u.unicodeBlockLookup.Katakana(n))}_tinySDF(n,o,c){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(c))return;let y=n.tinySDF;if(!y){let S="400";/bold/i.test(o)?S="900":/medium/i.test(o)?S="500":/light/i.test(o)&&(S="200"),y=n.tinySDF=new jt.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:g,fontWeight:S})}const w=y.draw(String.fromCharCode(c));return{id:c,bitmap:new u.AlphaImage({width:w.width||30,height:w.height||30},w.data),metrics:{width:w.glyphWidth||24,height:w.glyphHeight||24,left:w.glyphLeft||0,top:w.glyphTop-27||-8,advance:w.glyphAdvance||24}}}}jt.loadGlyphRange=function(h,n,o,c,g){const y=256*n,w=y+255,S=c.transformRequest(o.replace("{fontstack}",h).replace("{range}",`${y}-${w}`),u.ResourceType.Glyphs);u.getArrayBuffer(S,(E,C)=>{if(E)g(E);else if(C){const z={};for(const L of u.parseGlyphPBF(C))z[L.id]=L;g(null,z)}})},jt.TinySDF=class{constructor({fontSize:h=24,buffer:n=3,radius:o=8,cutoff:c=.25,fontFamily:g="sans-serif",fontWeight:y="normal",fontStyle:w="normal"}={}){this.buffer=n,this.cutoff=c,this.radius=o;const S=this.size=h+4*n,E=this._createCanvas(S),C=this.ctx=E.getContext("2d",{willReadFrequently:!0});C.font=`${w} ${y} ${h}px ${g}`,C.textBaseline="alphabetic",C.textAlign="left",C.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(h){const n=document.createElement("canvas");return n.width=n.height=h,n}draw(h){const{width:n,actualBoundingBoxAscent:o,actualBoundingBoxDescent:c,actualBoundingBoxLeft:g,actualBoundingBoxRight:y}=this.ctx.measureText(h),w=Math.ceil(o),S=Math.min(this.size-this.buffer,Math.ceil(y-g)),E=Math.min(this.size-this.buffer,w+Math.ceil(c)),C=S+2*this.buffer,z=E+2*this.buffer,L=Math.max(C*z,0),U=new Uint8ClampedArray(L),W={data:U,width:C,height:z,glyphWidth:S,glyphHeight:E,glyphTop:w,glyphLeft:0,glyphAdvance:n};if(S===0||E===0)return W;const{ctx:N,buffer:q,gridInner:it,gridOuter:rt}=this;N.clearRect(q,q,S,E),N.fillText(h,q,q+w);const st=N.getImageData(q,q,S,E);rt.fill(kt,0,L),it.fill(0,0,L);for(let ot=0;ot<E;ot++)for(let Et=0;Et<S;Et++){const mt=st.data[4*(ot*S+Et)+3]/255;if(mt===0)continue;const xt=(ot+q)*C+Et+q;if(mt===1)rt[xt]=0,it[xt]=kt;else{const Mt=.5-mt;rt[xt]=Mt>0?Mt*Mt:0,it[xt]=Mt<0?Mt*Mt:0}}qt(rt,0,0,C,z,C,this.f,this.v,this.z),qt(it,q,q,S,E,C,this.f,this.v,this.z);for(let ot=0;ot<L;ot++){const Et=Math.sqrt(rt[ot])-Math.sqrt(it[ot]);U[ot]=Math.round(255-255*(Et/this.radius+this.cutoff))}return W}};const $e=new u.Properties({anchor:new u.DataConstantProperty(u.spec.light.anchor),position:new class{constructor(){this.specification=u.spec.light.position}possiblyEvaluate(h,n){return u.sphericalToCartesian(h.expression.evaluate(n))}interpolate(h,n,o){return{x:u.number(h.x,n.x,o),y:u.number(h.y,n.y,o),z:u.number(h.z,n.z,o)}}},color:new u.DataConstantProperty(u.spec.light.color),intensity:new u.DataConstantProperty(u.spec.light.intensity)}),tn="-transition";class qe extends u.Evented{constructor(n){super(),this._transitionable=new u.Transitionable($e),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(n,o={}){if(!this._validate(u.validateLight,n,o))for(const c in n){const g=n[c];c.endsWith(tn)?this._transitionable.setTransition(c.slice(0,-tn.length),g):this._transitionable.setValue(c,g)}}updateTransitions(n){this._transitioning=this._transitionable.transitioned(n,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(n){this.properties=this._transitioning.possiblyEvaluate(n)}_validate(n,o,c){return(!c||c.validate!==!1)&&u.emitValidationErrors(this,n.call(u.validateStyle,u.extend({value:o,style:{glyphs:!0,sprite:!0},styleSpec:u.spec})))}}class Ye{constructor(n,o){this.width=n,this.height=o,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(n,o){const c=n.join(",")+String(o);return this.dashEntry[c]||(this.dashEntry[c]=this.addDash(n,o)),this.dashEntry[c]}getDashRanges(n,o,c){const g=[];let y=n.length%2==1?-n[n.length-1]*c:0,w=n[0]*c,S=!0;g.push({left:y,right:w,isDash:S,zeroLength:n[0]===0});let E=n[0];for(let C=1;C<n.length;C++){S=!S;const z=n[C];y=E*c,E+=z,w=E*c,g.push({left:y,right:w,isDash:S,zeroLength:z===0})}return g}addRoundDash(n,o,c){const g=o/2;for(let y=-c;y<=c;y++){const w=this.width*(this.nextRow+c+y);let S=0,E=n[S];for(let C=0;C<this.width;C++){C/E.right>1&&(E=n[++S]);const z=Math.abs(C-E.left),L=Math.abs(C-E.right),U=Math.min(z,L);let W;const N=y/c*(g+1);if(E.isDash){const q=g-Math.abs(N);W=Math.sqrt(U*U+q*q)}else W=g-Math.sqrt(U*U+N*N);this.data[w+C]=Math.max(0,Math.min(255,W+128))}}}addRegularDash(n){for(let S=n.length-1;S>=0;--S){const E=n[S],C=n[S+1];E.zeroLength?n.splice(S,1):C&&C.isDash===E.isDash&&(C.left=E.left,n.splice(S,1))}const o=n[0],c=n[n.length-1];o.isDash===c.isDash&&(o.left=c.left-this.width,c.right=o.right+this.width);const g=this.width*this.nextRow;let y=0,w=n[y];for(let S=0;S<this.width;S++){S/w.right>1&&(w=n[++y]);const E=Math.abs(S-w.left),C=Math.abs(S-w.right),z=Math.min(E,C);this.data[g+S]=Math.max(0,Math.min(255,(w.isDash?z:-z)+128))}}addDash(n,o){const c=o?7:0,g=2*c+1;if(this.nextRow+g>this.height)return u.warnOnce("LineAtlas out of space"),null;let y=0;for(let S=0;S<n.length;S++)y+=n[S];if(y!==0){const S=this.width/y,E=this.getDashRanges(n,this.width,S);o?this.addRoundDash(E,S,c):this.addRegularDash(E)}const w={y:(this.nextRow+c+.5)/this.height,height:2*c/this.height,width:y};return this.nextRow+=g,this.dirty=!0,w}bind(n){const o=n.gl;this.texture?(o.bindTexture(o.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,o.texSubImage2D(o.TEXTURE_2D,0,0,0,this.width,this.height,o.ALPHA,o.UNSIGNED_BYTE,this.data))):(this.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.REPEAT),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,this.width,this.height,0,o.ALPHA,o.UNSIGNED_BYTE,this.data))}}class wn{constructor(n,o){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=u.uniqueId();const c=this.workerPool.acquire(this.id);for(let g=0;g<c.length;g++){const y=new wn.Actor(c[g],o,this.id);y.name=`Worker ${g}`,this.actors.push(y)}}broadcast(n,o,c){u.asyncAll(this.actors,(g,y)=>{g.send(n,o,y)},c=c||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ne(h,n,o){const c=function(g,y){if(g)return o(g);if(y){const w=u.pick(u.extend(y,h),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);y.vector_layers&&(w.vectorLayers=y.vector_layers,w.vectorLayerIds=w.vectorLayers.map(S=>S.id)),o(null,w)}};return h.url?u.getJSON(n.transformRequest(h.url,u.ResourceType.Source),c):u.exported.frame(()=>c(null,h))}wn.Actor=u.Actor;class ae{constructor(n,o,c){this.bounds=u.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=o||0,this.maxzoom=c||24}validateBounds(n){return Array.isArray(n)&&n.length===4?[Math.max(-180,n[0]),Math.max(-90,n[1]),Math.min(180,n[2]),Math.min(90,n[3])]:[-180,-90,180,90]}contains(n){const o=Math.pow(2,n.z),c=Math.floor(u.mercatorXfromLng(this.bounds.getWest())*o),g=Math.floor(u.mercatorYfromLat(this.bounds.getNorth())*o),y=Math.ceil(u.mercatorXfromLng(this.bounds.getEast())*o),w=Math.ceil(u.mercatorYfromLat(this.bounds.getSouth())*o);return n.x>=c&&n.x<y&&n.y>=g&&n.y<w}}class Rn extends u.Evented{constructor(n,o,c,g){if(super(),this.id=n,this.dispatcher=c,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.extend(this,u.pick(o,["url","scheme","tileSize","promoteId"])),this._options=u.extend({type:"vector"},o),this._collectResourceTiming=o.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ne(this._options,this.map._requestManager,(n,o)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),n?this.fire(new u.ErrorEvent(n)):o&&(u.extend(this,o),o.bounds&&(this.tileBounds=new ae(o.bounds,this.minzoom,this.maxzoom)),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}onAdd(n){this.map=n,this.load()}setSourceProperty(n){this._tileJSONRequest&&this._tileJSONRequest.cancel(),n(),this.load()}setTiles(n){return this.setSourceProperty(()=>{this._options.tiles=n}),this}setUrl(n){return this.setSourceProperty(()=>{this.url=n,this._options.url=n}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return u.extend({},this._options)}loadTile(n,o){const c=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(c,u.ResourceType.Tile),uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,tileSize:this.tileSize*n.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function y(w,S){return delete n.request,n.aborted?o(null):w&&w.status!==404?o(w):(S&&S.resourceTiming&&(n.resourceTiming=S.resourceTiming),this.map._refreshExpiredTiles&&S&&n.setExpiryData(S),n.loadVectorData(S,this.map.painter),u.cacheEntryPossiblyAdded(this.dispatcher),o(null),void(n.reloadCallback&&(this.loadTile(n,n.reloadCallback),n.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,n.actor&&n.state!=="expired"?n.state==="loading"?n.reloadCallback=o:n.request=n.actor.send("reloadTile",g,y.bind(this)):(n.actor=this.dispatcher.getActor(),n.request=n.actor.send("loadTile",g,y.bind(this)))}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.actor&&n.actor.send("abortTile",{uid:n.uid,type:this.type,source:this.id},void 0)}unloadTile(n){n.unloadVectorData(),n.actor&&n.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class bn extends u.Evented{constructor(n,o,c,g){super(),this.id=n,this.dispatcher=c,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.extend({type:"raster"},o),u.extend(this,u.pick(o,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ne(this._options,this.map._requestManager,(n,o)=>{this._tileJSONRequest=null,this._loaded=!0,n?this.fire(new u.ErrorEvent(n)):o&&(u.extend(this,o),o.bounds&&(this.tileBounds=new ae(o.bounds,this.minzoom,this.maxzoom)),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(n){this.map=n,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return u.extend({},this._options)}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}loadTile(n,o){const c=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);n.request=u.getImage(this.map._requestManager.transformRequest(c,u.ResourceType.Tile),(g,y,w)=>{if(delete n.request,n.aborted)n.state="unloaded",o(null);else if(g)n.state="errored",o(g);else if(y){this.map._refreshExpiredTiles&&n.setExpiryData(w);const S=this.map.painter.context,E=S.gl;n.texture=this.map.painter.getTileTexture(y.width),n.texture?n.texture.update(y,{useMipmap:!0}):(n.texture=new ut(S,y,E.RGBA,{useMipmap:!0}),n.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),S.extTextureFilterAnisotropic&&E.texParameterf(E.TEXTURE_2D,S.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,S.extTextureFilterAnisotropicMax)),n.state="loaded",u.cacheEntryPossiblyAdded(this.dispatcher),o(null)}})}abortTile(n,o){n.request&&(n.request.cancel(),delete n.request),o()}unloadTile(n,o){n.texture&&this.map.painter.saveTileTexture(n.texture),o()}hasTransition(){return!1}}let Sn;class ln extends bn{constructor(n,o,c,g){super(n,o,c,g),this.type="raster-dem",this.maxzoom=22,this._options=u.extend({type:"raster-dem"},o),this.encoding=o.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(n,o){const c=n.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function g(y,w){y&&(n.state="errored",o(y)),w&&(n.dem=w,n.needsHillshadePrepare=!0,n.state="loaded",o(null))}n.request=u.getImage(this.map._requestManager.transformRequest(c,u.ResourceType.Tile),function(y,w){if(delete n.request,n.aborted)n.state="unloaded",o(null);else if(y)n.state="errored",o(y);else if(w){this.map._refreshExpiredTiles&&n.setExpiryData(w),delete w.cacheControl,delete w.expires;const S=u.isImageBitmap(w)&&(Sn==null&&(Sn=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Sn)?w:u.exported.getImageData(w,1),E={uid:n.uid,coord:n.tileID,source:this.id,rawImageData:S,encoding:this.encoding};n.actor&&n.state!=="expired"||(n.actor=this.dispatcher.getActor(),n.actor.send("loadDEMTile",E,g.bind(this)))}}.bind(this)),n.neighboringTiles=this._getNeighboringTiles(n.tileID)}_getNeighboringTiles(n){const o=n.canonical,c=Math.pow(2,o.z),g=(o.x-1+c)%c,y=o.x===0?n.wrap-1:n.wrap,w=(o.x+1+c)%c,S=o.x+1===c?n.wrap+1:n.wrap,E={};return E[new u.OverscaledTileID(n.overscaledZ,y,o.z,g,o.y).key]={backfilled:!1},E[new u.OverscaledTileID(n.overscaledZ,S,o.z,w,o.y).key]={backfilled:!1},o.y>0&&(E[new u.OverscaledTileID(n.overscaledZ,y,o.z,g,o.y-1).key]={backfilled:!1},E[new u.OverscaledTileID(n.overscaledZ,n.wrap,o.z,o.x,o.y-1).key]={backfilled:!1},E[new u.OverscaledTileID(n.overscaledZ,S,o.z,w,o.y-1).key]={backfilled:!1}),o.y+1<c&&(E[new u.OverscaledTileID(n.overscaledZ,y,o.z,g,o.y+1).key]={backfilled:!1},E[new u.OverscaledTileID(n.overscaledZ,n.wrap,o.z,o.x,o.y+1).key]={backfilled:!1},E[new u.OverscaledTileID(n.overscaledZ,S,o.z,w,o.y+1).key]={backfilled:!1}),E}unloadTile(n){n.demTexture&&this.map.painter.saveTileTexture(n.demTexture),n.fbo&&(n.fbo.destroy(),delete n.fbo),n.dem&&delete n.dem,delete n.neighboringTiles,n.state="unloaded",n.actor&&n.actor.send("removeDEMTile",{uid:n.uid,source:this.id})}}class Ft extends u.Evented{constructor(n,o,c,g){super(),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=c.getActor(),this.setEventedParent(g),this._data=o.data,this._options=u.extend({},o),this._collectResourceTiming=o.collectResourceTiming,o.maxzoom!==void 0&&(this.maxzoom=o.maxzoom),o.type&&(this.type=o.type),o.attribution&&(this.attribution=o.attribution),this.promoteId=o.promoteId;const y=u.EXTENT/this.tileSize;this.workerOptions=u.extend({source:this.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(o.buffer!==void 0?o.buffer:128)*y,tolerance:(o.tolerance!==void 0?o.tolerance:.375)*y,extent:u.EXTENT,maxZoom:this.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:o.clusterMaxZoom!==void 0?o.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:u.EXTENT,radius:(o.clusterRadius||50)*y,log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(n){this.map=n,this.load()}setData(n){return this._data=n,this._updateWorkerData("content"),this}getClusterExpansionZoom(n,o){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:n,source:this.id},o),this}getClusterChildren(n,o){return this.actor.send("geojson.getClusterChildren",{clusterId:n,source:this.id},o),this}getClusterLeaves(n,o,c,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:n,limit:o,offset:c},g),this}_updateWorkerData(n){const o=u.extend({},this.workerOptions),c=this._data;typeof c=="string"?(o.request=this.map._requestManager.transformRequest(u.exported.resolveURL(c),u.ResourceType.Source),o.request.collectResourceTiming=this._collectResourceTiming):o.data=JSON.stringify(c),this._pendingLoads++,this.fire(new u.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,o,(g,y)=>{if(this._pendingLoads--,this._removed||y&&y.abandoned)return;let w=null;if(y&&y.resourceTiming&&y.resourceTiming[this.id]&&(w=y.resourceTiming[this.id].slice(0)),this.actor.send(`${this.type}.coalesce`,{source:o.source},null),g)return void this.fire(new u.ErrorEvent(g));const S={dataType:"source",sourceDataType:n};this._collectResourceTiming&&w&&w.length>0&&u.extend(S,{resourceTiming:w}),this.fire(new u.Event("data",S))})}loaded(){return this._pendingLoads===0}loadTile(n,o){const c=n.actor?"reloadTile":"loadTile";n.actor=this.actor;const g={type:this.type,uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};n.request=this.actor.send(c,g,(y,w)=>(delete n.request,n.unloadVectorData(),n.aborted?o(null):y?o(y):(n.loadVectorData(w,this.map.painter,c==="reloadTile"),o(null))))}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.aborted=!0}unloadTile(n){n.unloadVectorData(),this.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return u.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var re=u.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ce extends u.Evented{constructor(n,o,c,g){super(),this.id=n,this.dispatcher=c,this.coordinates=o.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=o}load(n,o){this._loaded=!1,this.fire(new u.Event("dataloading",{dataType:"source"})),this.url=this.options.url,u.getImage(this.map._requestManager.transformRequest(this.url,u.ResourceType.Image),(c,g)=>{this._loaded=!0,c?this.fire(new u.ErrorEvent(c)):g&&(this.image=g,n&&(this.coordinates=n),o&&o(),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return this.image&&n.url?(this.options.url=n.url,this.load(n.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}setCoordinates(n){this.coordinates=n;const o=n.map(u.MercatorCoordinate.fromLngLat);this.tileID=function(g){let y=1/0,w=1/0,S=-1/0,E=-1/0;for(const U of g)y=Math.min(y,U.x),w=Math.min(w,U.y),S=Math.max(S,U.x),E=Math.max(E,U.y);const C=Math.max(S-y,E-w),z=Math.max(0,Math.floor(-Math.log(C)/Math.LN2)),L=Math.pow(2,z);return new u.CanonicalTileID(z,Math.floor((y+S)/2*L),Math.floor((w+E)/2*L))}(o),this.minzoom=this.maxzoom=this.tileID.z;const c=o.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new u.RasterBoundsArray,this._boundsArray.emplaceBack(c[0].x,c[0].y,0,0),this._boundsArray.emplaceBack(c[1].x,c[1].y,u.EXTENT,0),this._boundsArray.emplaceBack(c[3].x,c[3].y,0,u.EXTENT),this._boundsArray.emplaceBack(c[2].x,c[2].y,u.EXTENT,u.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new u.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const n=this.map.painter.context,o=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ut(n,this.image,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(const c in this.tiles){const g=this.tiles[c];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}loadTile(n,o){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},o(null)):(n.state="errored",o(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Ce extends ce{constructor(n,o,c,g){super(n,o,c,g),this.roundZoom=!0,this.type="video",this.options=o}load(){this._loaded=!1;const n=this.options;this.urls=[];for(const o of n.urls)this.urls.push(this.map._requestManager.transformRequest(o,u.ResourceType.Source).url);u.getVideo(this.urls,(o,c)=>{this._loaded=!0,o?this.fire(new u.ErrorEvent(o)):c&&(this.video=c,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(n){if(this.video){const o=this.video.seekable;n<o.start(0)||n>o.end(0)?this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${o.start(0)} and ${o.end(0)}-second mark.`))):this.video.currentTime=n}}getVideo(){return this.video}onAdd(n){this.map||(this.map=n,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const n=this.map.painter.context,o=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,this.video)):(this.texture=new ut(n,this.video,o.RGBA),this.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE));for(const c in this.tiles){const g=this.tiles[c];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Be extends ce{constructor(n,o,c,g){super(n,o,c,g),o.coordinates?Array.isArray(o.coordinates)&&o.coordinates.length===4&&!o.coordinates.some(y=>!Array.isArray(y)||y.length!==2||y.some(w=>typeof w!="number"))||this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${n}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${n}`,null,'missing required property "coordinates"'))),o.animate&&typeof o.animate!="boolean"&&this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${n}`,null,'optional "animate" property must be a boolean value'))),o.canvas?typeof o.canvas=="string"||o.canvas instanceof HTMLCanvasElement||this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${n}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.ErrorEvent(new u.ValidationError(`sources.${n}`,null,'missing required property "canvas"'))),this.options=o,this.animate=o.animate===void 0||o.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(n){this.map=n,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let n=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,n=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,n=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const o=this.map.painter.context,c=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,re.members)),this.boundsSegments||(this.boundsSegments=u.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(n||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ut(o,this.canvas,c.RGBA,{premultiply:!0});for(const g in this.tiles){const y=this.tiles[g];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const n of[this.canvas.width,this.canvas.height])if(isNaN(n)||n<=0)return!0;return!1}}const en={vector:Rn,raster:bn,"raster-dem":ln,geojson:Ft,video:Ce,image:ce,canvas:Be};function un(h,n){const o=u.create();return u.translate(o,o,[1,1,0]),u.scale(o,o,[.5*h.width,.5*h.height,1]),u.multiply(o,o,h.calculatePosMatrix(n.toUnwrapped()))}function En(h,n,o,c,g,y){const w=function(L,U,W){if(L)for(const N of L){const q=U[N];if(q&&q.source===W&&q.type==="fill-extrusion")return!0}else for(const N in U){const q=U[N];if(q.source===W&&q.type==="fill-extrusion")return!0}return!1}(g&&g.layers,n,h.id),S=y.maxPitchScaleFactor(),E=h.tilesIn(c,S,w);E.sort(Tn);const C=[];for(const L of E)C.push({wrappedTileID:L.tileID.wrapped().key,queryResults:L.tile.queryRenderedFeatures(n,o,h._state,L.queryGeometry,L.cameraQueryGeometry,L.scale,g,y,S,un(h.transform,L.tileID))});const z=function(L){const U={},W={};for(const N of L){const q=N.queryResults,it=N.wrappedTileID,rt=W[it]=W[it]||{};for(const st in q){const ot=q[st],Et=rt[st]=rt[st]||{},mt=U[st]=U[st]||[];for(const xt of ot)Et[xt.featureIndex]||(Et[xt.featureIndex]=!0,mt.push(xt))}}return U}(C);for(const L in z)z[L].forEach(U=>{const W=U.feature,N=h.getFeatureState(W.layer["source-layer"],W.id);W.source=W.layer.source,W.layer["source-layer"]&&(W.sourceLayer=W.layer["source-layer"]),W.state=N});return z}function Tn(h,n){const o=h.tileID,c=n.tileID;return o.overscaledZ-c.overscaledZ||o.canonical.y-c.canonical.y||o.wrap-c.wrap||o.canonical.x-c.canonical.x}class rr{constructor(n,o){this.tileID=n,this.uid=u.uniqueId(),this.uses=0,this.tileSize=o,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(n){const o=n+this.timeAdded;o<u.exported.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}loadVectorData(n,o,c){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(g,y){const w={};if(!y)return w;for(const S of g){const E=S.layerIds.map(C=>y.getLayer(C)).filter(Boolean);if(E.length!==0){S.layers=E,S.stateDependentLayerIds&&(S.stateDependentLayers=S.stateDependentLayerIds.map(C=>E.filter(z=>z.id===C)[0]));for(const C of E)w[C.id]=S}}return w}(n.buckets,o.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const y=this.buckets[g];if(y instanceof u.SymbolBucket){if(this.hasSymbolBuckets=!0,!c)break;y.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const y=this.buckets[g];if(y instanceof u.SymbolBucket&&y.hasRTLText){this.hasRTLText=!0,u.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const g in this.buckets){const y=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(g).queryRadius(y))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage)}else this.collisionBoxArray=new u.CollisionBoxArray}unloadVectorData(){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(n){return this.buckets[n.id]}upload(n){for(const c in this.buckets){const g=this.buckets[c];g.uploadPending()&&g.upload(n)}const o=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ut(n,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ut(n,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,o,c,g,y,w,S,E,C,z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:y,scale:w,tileSize:this.tileSize,pixelPosMatrix:z,transform:E,params:S,queryPadding:this.queryPadding*C},n,o,c):{}}querySourceFeatures(n,o){const c=this.latestFeatureIndex;if(!c||!c.rawTileData)return;const g=c.loadVTLayers(),y=o?o.sourceLayer:"",w=g._geojsonTileLayer||g[y];if(!w)return;const S=u.createFilter(o&&o.filter),{z:E,x:C,y:z}=this.tileID.canonical,L={z:E,x:C,y:z};for(let U=0;U<w.length;U++){const W=w.feature(U);if(S.needGeometry){const it=u.toEvaluationFeature(W,!0);if(!S.filter(new u.EvaluationParameters(this.tileID.overscaledZ),it,this.tileID.canonical))continue}else if(!S.filter(new u.EvaluationParameters(this.tileID.overscaledZ),W))continue;const N=c.getId(W,y),q=new u.GeoJSONFeature(W,E,C,z,N);q.tile=L,n.push(q)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const o=this.expirationTime;if(n.cacheControl){const c=u.parseCacheControl(n.cacheControl);c["max-age"]&&(this.expirationTime=Date.now()+1e3*c["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const c=Date.now();let g=!1;if(this.expirationTime>c)g=!1;else if(o)if(this.expirationTime<o)g=!0;else{const y=this.expirationTime-o;y?this.expirationTime=c+Math.max(y,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(n,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(n).length===0)return;const c=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!o.style.hasLayer(g))continue;const y=this.buckets[g],w=y.layers[0].sourceLayer||"_geojsonTileLayer",S=c[w],E=n[w];if(!S||!E||Object.keys(E).length===0)continue;y.update(E,S,this.imageAtlas&&this.imageAtlas.patternPositions||{});const C=o&&o.style&&o.style.getLayer(g);C&&(this.queryPadding=Math.max(this.queryPadding,C.queryRadius(y)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<u.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=u.exported.now()+n}setDependencies(n,o){const c={};for(const g of o)c[g]=!0;this.dependencies[n]=c}hasDependency(n,o){for(const c of n){const g=this.dependencies[c];if(g){for(const y of o)if(g[y])return!0}}return!1}}class hi{constructor(n,o){this.max=n,this.onRemove=o,this.reset()}reset(){for(const n in this.data)for(const o of this.data[n])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(n,o,c){const g=n.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const y={value:o,timeout:void 0};if(c!==void 0&&(y.timeout=setTimeout(()=>{this.remove(n,y)},c)),this.data[g].push(y),this.order.push(g),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const o=this.data[n].shift();return o.timeout&&clearTimeout(o.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),o.value}getByKey(n){const o=this.data[n];return o?o[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,o){if(!this.has(n))return this;const c=n.wrapped().key,g=o===void 0?0:this.data[c].indexOf(o),y=this.data[c][g];return this.data[c].splice(g,1),y.timeout&&clearTimeout(y.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(y.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(n){const o=[];for(const c in this.data)for(const g of this.data[c])n(g.value)||o.push(g);for(const c of o)this.remove(c.value.tileID,c)}}class Ei{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,o,c){const g=String(o);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][g]=this.stateChanges[n][g]||{},u.extend(this.stateChanges[n][g],c),this.deletedStates[n]===null){this.deletedStates[n]={};for(const y in this.state[n])y!==g&&(this.deletedStates[n][y]=null)}else if(this.deletedStates[n]&&this.deletedStates[n][g]===null){this.deletedStates[n][g]={};for(const y in this.state[n][g])c[y]||(this.deletedStates[n][g][y]=null)}else for(const y in c)this.deletedStates[n]&&this.deletedStates[n][g]&&this.deletedStates[n][g][y]===null&&delete this.deletedStates[n][g][y]}removeFeatureState(n,o,c){if(this.deletedStates[n]===null)return;const g=String(o);if(this.deletedStates[n]=this.deletedStates[n]||{},c&&o!==void 0)this.deletedStates[n][g]!==null&&(this.deletedStates[n][g]=this.deletedStates[n][g]||{},this.deletedStates[n][g][c]=null);else if(o!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][g])for(c in this.deletedStates[n][g]={},this.stateChanges[n][g])this.deletedStates[n][g][c]=null;else this.deletedStates[n][g]=null;else this.deletedStates[n]=null}getState(n,o){const c=String(o),g=u.extend({},(this.state[n]||{})[c],(this.stateChanges[n]||{})[c]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){const y=this.deletedStates[n][o];if(y===null)return{};for(const w in y)delete g[w]}return g}initializeTileState(n,o){n.setFeatureState(this.state,o)}coalesceChanges(n,o){const c={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const y={};for(const w in this.stateChanges[g])this.state[g][w]||(this.state[g][w]={}),u.extend(this.state[g][w],this.stateChanges[g][w]),y[w]=this.state[g][w];c[g]=y}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const y={};if(this.deletedStates[g]===null)for(const w in this.state[g])y[w]={},this.state[g][w]={};else for(const w in this.deletedStates[g]){if(this.deletedStates[g][w]===null)this.state[g][w]={};else for(const S of Object.keys(this.deletedStates[g][w]))delete this.state[g][w][S];y[w]=this.state[g][w]}c[g]=c[g]||{},u.extend(c[g],y)}if(this.stateChanges={},this.deletedStates={},Object.keys(c).length!==0)for(const g in n)n[g].setFeatureState(c,o)}}class me extends u.Evented{constructor(n,o,c){super(),this.id=n,this.dispatcher=c,this.on("data",g=>{g.dataType==="source"&&g.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&g.dataType==="source"&&g.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(g,y,w,S){const E=new en[y.type](g,y,w,S);if(E.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${E.id}`);return u.bindAll(["load","abort","unload","serialize","prepare"],E),E}(n,o,c,this),this._tiles={},this._cache=new hi(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ei}onAdd(n){this.map=n,this._maxTileCacheSize=n?n._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(n)}onRemove(n){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(n)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const n in this._tiles){const o=this._tiles[n];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(n,o){return this._source.loadTile(n,o)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){this._source.abortTile&&this._source.abortTile(n,()=>{}),this._source.fire(new u.Event("dataabort",{tile:n,coord:n.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const c=this._tiles[o];c.upload(n),c.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(n=>n.tileID).sort(Wi).map(n=>n.key)}getRenderableIds(n){const o=[];for(const c in this._tiles)this._isIdRenderable(c,n)&&o.push(this._tiles[c]);return n?o.sort((c,g)=>{const y=c.tileID,w=g.tileID,S=new u.pointGeometry(y.canonical.x,y.canonical.y)._rotate(this.transform.angle),E=new u.pointGeometry(w.canonical.x,w.canonical.y)._rotate(this.transform.angle);return y.overscaledZ-w.overscaledZ||E.y-S.y||E.x-S.x}).map(c=>c.tileID.key):o.map(c=>c.tileID).sort(Wi).map(c=>c.key)}hasRenderableParent(n){const o=this.findLoadedParent(n,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(n,o){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(o||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)this._tiles[n].state!=="errored"&&this._reloadTile(n,"reloading")}}_reloadTile(n,o){const c=this._tiles[n];c&&(c.state!=="loading"&&(c.state=o),this._loadTile(c,this._tileLoaded.bind(this,c,n,o)))}_tileLoaded(n,o,c,g){if(g)return n.state="errored",void(g.status!==404?this._source.fire(new u.ErrorEvent(g,{tile:n})):this.update(this.transform));n.timeAdded=u.exported.now(),c==="expired"&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(o,n),this.getSource().type==="raster-dem"&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),n.aborted||this._source.fire(new u.Event("data",{dataType:"source",tile:n,coord:n.tileID}))}_backfillDEM(n){const o=this.getRenderableIds();for(let g=0;g<o.length;g++){const y=o[g];if(n.neighboringTiles&&n.neighboringTiles[y]){const w=this.getTileByID(y);c(n,w),c(w,n)}}function c(g,y){g.needsHillshadePrepare=!0;let w=y.tileID.canonical.x-g.tileID.canonical.x;const S=y.tileID.canonical.y-g.tileID.canonical.y,E=Math.pow(2,g.tileID.canonical.z),C=y.tileID.key;w===0&&S===0||Math.abs(S)>1||(Math.abs(w)>1&&(Math.abs(w+E)===1?w+=E:Math.abs(w-E)===1&&(w-=E)),y.dem&&g.dem&&(g.dem.backfillBorder(y.dem,w,S),g.neighboringTiles&&g.neighboringTiles[C]&&(g.neighboringTiles[C].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,o,c,g){for(const y in this._tiles){let w=this._tiles[y];if(g[y]||!w.hasData()||w.tileID.overscaledZ<=o||w.tileID.overscaledZ>c)continue;let S=w.tileID;for(;w&&w.tileID.overscaledZ>o+1;){const C=w.tileID.scaledTo(w.tileID.overscaledZ-1);w=this._tiles[C.key],w&&w.hasData()&&(S=C)}let E=S;for(;E.overscaledZ>o;)if(E=E.scaledTo(E.overscaledZ-1),n[E.key]){g[S.key]=S;break}}}findLoadedParent(n,o){if(n.key in this._loadedParentTiles){const c=this._loadedParentTiles[n.key];return c&&c.tileID.overscaledZ>=o?c:null}for(let c=n.overscaledZ-1;c>=o;c--){const g=n.scaledTo(c),y=this._getLoadedTile(g);if(y)return y}}_getLoadedTile(n){const o=this._tiles[n.key];return o&&o.hasData()?o:this._cache.getByKey(n.wrapped().key)}updateCacheSize(n){const o=Math.ceil(n.width/this._source.tileSize)+1,c=Math.ceil(n.height/this._source.tileSize)+1,g=Math.floor(o*c*5),y=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(y)}handleWrapJump(n){const o=Math.round((n-(this._prevLng===void 0?n:this._prevLng))/360);if(this._prevLng=n,o){const c={};for(const g in this._tiles){const y=this._tiles[g];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+o),c[y.tileID.key]=y}this._tiles=c;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}update(n){if(this.transform=n,!this._sourceLoaded||this._paused)return;let o;this.updateCacheSize(n),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?o=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(E=>new u.OverscaledTileID(E.canonical.z,E.wrap,E.canonical.z,E.canonical.x,E.canonical.y)):(o=n.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(E=>this._source.hasTile(E)))):o=[];const c=n.coveringZoomLevel(this._source),g=Math.max(c-me.maxOverzooming,this._source.minzoom),y=Math.max(c+me.maxUnderzooming,this._source.minzoom),w=this._updateRetainedTiles(o,c);if(Lr(this._source.type)){const E={},C={},z=Object.keys(w);for(const L of z){const U=w[L],W=this._tiles[L];if(!W||W.fadeEndTime&&W.fadeEndTime<=u.exported.now())continue;const N=this.findLoadedParent(U,g);N&&(this._addTile(N.tileID),E[N.tileID.key]=N.tileID),C[L]=U}this._retainLoadedChildren(C,c,y,w);for(const L in E)w[L]||(this._coveredTiles[L]=!0,w[L]=E[L])}for(const E in w)this._tiles[E].clearFadeHold();const S=u.keysDifference(this._tiles,w);for(const E of S){const C=this._tiles[E];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(E)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(n)}_updateRetainedTiles(n,o){const c={},g={},y=Math.max(o-me.maxOverzooming,this._source.minzoom),w=Math.max(o+me.maxUnderzooming,this._source.minzoom),S={};for(const E of n){const C=this._addTile(E);c[E.key]=E,C.hasData()||o<this._source.maxzoom&&(S[E.key]=E)}this._retainLoadedChildren(S,o,w,c);for(const E of n){let C=this._tiles[E.key];if(C.hasData())continue;if(o+1>this._source.maxzoom){const L=E.children(this._source.maxzoom)[0],U=this.getTile(L);if(U&&U.hasData()){c[L.key]=L;continue}}else{const L=E.children(this._source.maxzoom);if(c[L[0].key]&&c[L[1].key]&&c[L[2].key]&&c[L[3].key])continue}let z=C.wasRequested();for(let L=E.overscaledZ-1;L>=y;--L){const U=E.scaledTo(L);if(g[U.key]||(g[U.key]=!0,C=this.getTile(U),!C&&z&&(C=this._addTile(U)),C&&(c[U.key]=U,z=C.wasRequested(),C.hasData())))break}}return c}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const o=[];let c,g=this._tiles[n].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){c=this._loadedParentTiles[g.key];break}o.push(g.key);const y=g.scaledTo(g.overscaledZ-1);if(c=this._getLoadedTile(y),c)break;g=y}for(const y of o)this._loadedParentTiles[y]=c}}_addTile(n){let o=this._tiles[n.key];if(o)return o;o=this._cache.getAndRemove(n),o&&(this._setTileReloadTimer(n.key,o),o.tileID=n,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,o)));const c=o;return o||(o=new rr(n,this._source.tileSize*n.overscaleFactor()),this._loadTile(o,this._tileLoaded.bind(this,o,n.key,o.state))),o.uses++,this._tiles[n.key]=o,c||this._source.fire(new u.Event("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o}_setTileReloadTimer(n,o){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const c=o.getExpiryTimeout();c&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},c))}_removeTile(n){const o=this._tiles[n];o&&(o.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(n);this._cache.reset()}tilesIn(n,o,c){const g=[],y=this.transform;if(!y)return g;const w=c?y.getCameraQueryGeometry(n):n,S=n.map(N=>y.pointCoordinate(N)),E=w.map(N=>y.pointCoordinate(N)),C=this.getIds();let z=1/0,L=1/0,U=-1/0,W=-1/0;for(const N of E)z=Math.min(z,N.x),L=Math.min(L,N.y),U=Math.max(U,N.x),W=Math.max(W,N.y);for(let N=0;N<C.length;N++){const q=this._tiles[C[N]];if(q.holdingForFade())continue;const it=q.tileID,rt=Math.pow(2,y.zoom-q.tileID.overscaledZ),st=o*q.queryPadding*u.EXTENT/q.tileSize/rt,ot=[it.getTilePoint(new u.MercatorCoordinate(z,L)),it.getTilePoint(new u.MercatorCoordinate(U,W))];if(ot[0].x-st<u.EXTENT&&ot[0].y-st<u.EXTENT&&ot[1].x+st>=0&&ot[1].y+st>=0){const Et=S.map(xt=>it.getTilePoint(xt)),mt=E.map(xt=>it.getTilePoint(xt));g.push({tile:q,tileID:it,queryGeometry:Et,cameraQueryGeometry:mt,scale:rt})}}return g}getVisibleCoordinates(n){const o=this.getRenderableIds(n).map(c=>this._tiles[c].tileID);for(const c of o)c.posMatrix=this.transform.calculatePosMatrix(c.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(Lr(this._source.type))for(const n in this._tiles){const o=this._tiles[n];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=u.exported.now())return!0}return!1}setFeatureState(n,o,c){this._state.updateState(n=n||"_geojsonTileLayer",o,c)}removeFeatureState(n,o,c){this._state.removeFeatureState(n=n||"_geojsonTileLayer",o,c)}getFeatureState(n,o){return this._state.getState(n=n||"_geojsonTileLayer",o)}setDependencies(n,o,c){const g=this._tiles[n];g&&g.setDependencies(o,c)}reloadTilesForDependencies(n,o){for(const c in this._tiles)this._tiles[c].hasDependency(n,o)&&this._reloadTile(c,"reloading");this._cache.filter(c=>!c.hasDependency(n,o))}}function Wi(h,n){const o=Math.abs(2*h.wrap)-+(h.wrap<0),c=Math.abs(2*n.wrap)-+(n.wrap<0);return h.overscaledZ-n.overscaledZ||c-o||n.canonical.y-h.canonical.y||n.canonical.x-h.canonical.x}function Lr(h){return h==="raster"||h==="image"||h==="video"}me.maxOverzooming=10,me.maxUnderzooming=3;const Hi="mapboxgl_preloaded_worker_pool";class ri{constructor(){this.active={}}acquire(n){if(!this.workers)for(this.workers=[];this.workers.length<ri.workerCount;)this.workers.push(new Worker(qo.workerUrl));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.numActive()===0&&(this.workers.forEach(o=>{o.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Hi]}numActive(){return Object.keys(this.active).length}}const Zr=Math.floor(u.exported.hardwareConcurrency/2);let Ri;function dt(){return Ri||(Ri=new ri),Ri}function Kt(h,n){const o={};for(const c in h)c!=="ref"&&(o[c]=h[c]);return u.refProperties.forEach(c=>{c in n&&(o[c]=n[c])}),o}function oe(h){h=h.slice();const n=Object.create(null);for(let o=0;o<h.length;o++)n[h[o].id]=h[o];for(let o=0;o<h.length;o++)"ref"in h[o]&&(h[o]=Kt(h[o],n[h[o].ref]));return h}ri.workerCount=Math.max(Math.min(Zr,6),1);const Dt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ye(h,n,o){o.push({command:Dt.addSource,args:[h,n[h]]})}function Ie(h,n,o){n.push({command:Dt.removeSource,args:[h]}),o[h]=!0}function nn(h,n,o,c){Ie(h,o,c),ye(h,n,o)}function xe(h,n,o){let c;for(c in h[o])if(Object.prototype.hasOwnProperty.call(h[o],c)&&c!=="data"&&!gt(h[o][c],n[o][c]))return!1;for(c in n[o])if(Object.prototype.hasOwnProperty.call(n[o],c)&&c!=="data"&&!gt(h[o][c],n[o][c]))return!1;return!0}function pt(h,n,o,c,g,y){let w;for(w in n=n||{},h=h||{})Object.prototype.hasOwnProperty.call(h,w)&&(gt(h[w],n[w])||o.push({command:y,args:[c,w,n[w],g]}));for(w in n)Object.prototype.hasOwnProperty.call(n,w)&&!Object.prototype.hasOwnProperty.call(h,w)&&(gt(h[w],n[w])||o.push({command:y,args:[c,w,n[w],g]}))}function Ot(h){return h.id}function Rr(h,n){return h[n.id]=n,h}class _r{constructor(n,o){this.reset(n,o)}reset(n,o){this.points=n||[],this._distances=[0];for(let c=1;c<this.points.length;c++)this._distances[c]=this._distances[c-1]+this.points[c].dist(this.points[c-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(o||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(n){if(this.points.length===1)return this.points[0];n=u.clamp(n,0,1);let o=1,c=this._distances[o];const g=n*this.paddedLength+this.padding;for(;c<g&&o<this._distances.length;)c=this._distances[++o];const y=o-1,w=this._distances[y],S=c-w,E=S>0?(g-w)/S:0;return this.points[y].mult(1-E).add(this.points[o].mult(E))}}function He(h,n){let o=!0;return h==="always"||h!=="never"&&n!=="never"||(o=!1),o}class Ti{constructor(n,o,c){const g=this.boxCells=[],y=this.circleCells=[];this.xCellCount=Math.ceil(n/c),this.yCellCount=Math.ceil(o/c);for(let w=0;w<this.xCellCount*this.yCellCount;w++)g.push([]),y.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=o,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/o,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(n,o,c,g,y){this._forEachCell(o,c,g,y,this._insertBoxCell,this.boxUid++),this.boxKeys.push(n),this.bboxes.push(o),this.bboxes.push(c),this.bboxes.push(g),this.bboxes.push(y)}insertCircle(n,o,c,g){this._forEachCell(o-g,c-g,o+g,c+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(n),this.circles.push(o),this.circles.push(c),this.circles.push(g)}_insertBoxCell(n,o,c,g,y,w){this.boxCells[y].push(w)}_insertCircleCell(n,o,c,g,y,w){this.circleCells[y].push(w)}_query(n,o,c,g,y,w,S){if(c<0||n>this.width||g<0||o>this.height)return[];const E=[];if(n<=0&&o<=0&&this.width<=c&&this.height<=g){if(y)return[{key:null,x1:n,y1:o,x2:c,y2:g}];for(let C=0;C<this.boxKeys.length;C++)E.push({key:this.boxKeys[C],x1:this.bboxes[4*C],y1:this.bboxes[4*C+1],x2:this.bboxes[4*C+2],y2:this.bboxes[4*C+3]});for(let C=0;C<this.circleKeys.length;C++){const z=this.circles[3*C],L=this.circles[3*C+1],U=this.circles[3*C+2];E.push({key:this.circleKeys[C],x1:z-U,y1:L-U,x2:z+U,y2:L+U})}}else this._forEachCell(n,o,c,g,this._queryCell,E,{hitTest:y,overlapMode:w,seenUids:{box:{},circle:{}}},S);return E}query(n,o,c,g){return this._query(n,o,c,g,!1,null)}hitTest(n,o,c,g,y,w){return this._query(n,o,c,g,!0,y,w).length>0}hitTestCircle(n,o,c,g,y){const w=n-c,S=n+c,E=o-c,C=o+c;if(S<0||w>this.width||C<0||E>this.height)return!1;const z=[];return this._forEachCell(w,E,S,C,this._queryCellCircle,z,{hitTest:!0,overlapMode:g,circle:{x:n,y:o,radius:c},seenUids:{box:{},circle:{}}},y),z.length>0}_queryCell(n,o,c,g,y,w,S,E){const{seenUids:C,hitTest:z,overlapMode:L}=S,U=this.boxCells[y];if(U!==null){const N=this.bboxes;for(const q of U)if(!C.box[q]){C.box[q]=!0;const it=4*q,rt=this.boxKeys[q];if(n<=N[it+2]&&o<=N[it+3]&&c>=N[it+0]&&g>=N[it+1]&&(!E||E(rt))&&(!z||!He(L,rt.overlapMode))&&(w.push({key:rt,x1:N[it],y1:N[it+1],x2:N[it+2],y2:N[it+3]}),z))return!0}}const W=this.circleCells[y];if(W!==null){const N=this.circles;for(const q of W)if(!C.circle[q]){C.circle[q]=!0;const it=3*q,rt=this.circleKeys[q];if(this._circleAndRectCollide(N[it],N[it+1],N[it+2],n,o,c,g)&&(!E||E(rt))&&(!z||!He(L,rt.overlapMode))){const st=N[it],ot=N[it+1],Et=N[it+2];if(w.push({key:rt,x1:st-Et,y1:ot-Et,x2:st+Et,y2:ot+Et}),z)return!0}}}return!1}_queryCellCircle(n,o,c,g,y,w,S,E){const{circle:C,seenUids:z,overlapMode:L}=S,U=this.boxCells[y];if(U!==null){const N=this.bboxes;for(const q of U)if(!z.box[q]){z.box[q]=!0;const it=4*q,rt=this.boxKeys[q];if(this._circleAndRectCollide(C.x,C.y,C.radius,N[it+0],N[it+1],N[it+2],N[it+3])&&(!E||E(rt))&&!He(L,rt.overlapMode))return w.push(!0),!0}}const W=this.circleCells[y];if(W!==null){const N=this.circles;for(const q of W)if(!z.circle[q]){z.circle[q]=!0;const it=3*q,rt=this.circleKeys[q];if(this._circlesCollide(N[it],N[it+1],N[it+2],C.x,C.y,C.radius)&&(!E||E(rt))&&!He(L,rt.overlapMode))return w.push(!0),!0}}}_forEachCell(n,o,c,g,y,w,S,E){const C=this._convertToXCellCoord(n),z=this._convertToYCellCoord(o),L=this._convertToXCellCoord(c),U=this._convertToYCellCoord(g);for(let W=C;W<=L;W++)for(let N=z;N<=U;N++)if(y.call(this,n,o,c,g,this.xCellCount*N+W,w,S,E))return}_convertToXCellCoord(n){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(n*this.xScale)))}_convertToYCellCoord(n){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(n*this.yScale)))}_circlesCollide(n,o,c,g,y,w){const S=g-n,E=y-o,C=c+w;return C*C>S*S+E*E}_circleAndRectCollide(n,o,c,g,y,w,S){const E=(w-g)/2,C=Math.abs(n-(g+E));if(C>E+c)return!1;const z=(S-y)/2,L=Math.abs(o-(y+z));if(L>z+c)return!1;if(C<=E||L<=z)return!0;const U=C-E,W=L-z;return U*U+W*W<=c*c}}function pi(h,n,o,c,g){const y=u.create();return n?(u.scale(y,y,[1/g,1/g,1]),o||u.rotateZ(y,y,c.angle)):u.multiply(y,c.labelPlaneMatrix,h),y}function ia(h,n,o,c,g){if(n){const y=u.clone(h);return u.scale(y,y,[g,g,1]),o||u.rotateZ(y,y,-c.angle),y}return c.glCoordMatrix}function cn(h,n){const o=[h.x,h.y,0,1];rn(o,o,n);const c=o[3];return{point:new u.pointGeometry(o[0]/c,o[1]/c),signedDistanceFromCamera:c}}function Ut(h,n){return .5+h/n*.5}function ke(h,n){const o=h[0]/h[3],c=h[1]/h[3];return o>=-n[0]&&o<=n[0]&&c>=-n[1]&&c<=n[1]}function be(h,n,o,c,g,y,w,S,E){const C=c?h.textSizeData:h.iconSizeData,z=u.evaluateSizeForZoom(C,o.transform.zoom),L=[256/o.width*2+1,256/o.height*2+1],U=c?h.text.dynamicLayoutVertexArray:h.icon.dynamicLayoutVertexArray;U.clear();const W=h.lineVertexArray,N=c?h.text.placedSymbolArray:h.icon.placedSymbolArray,q=o.transform.width/o.transform.height;let it=!1;for(let rt=0;rt<N.length;rt++){const st=N.get(rt);if(st.hidden||st.writingMode===u.WritingMode.vertical&&!it){On(st.numGlyphs,U);continue}it=!1;const ot=[st.anchorX,st.anchorY,0,1];if(u.transformMat4(ot,ot,n),!ke(ot,L)){On(st.numGlyphs,U);continue}const Et=Ut(o.transform.cameraToCenterDistance,ot[3]),mt=u.evaluateSizeForFeature(C,z,st),xt=w?mt/Et:mt*Et,Mt=new u.pointGeometry(st.anchorX,st.anchorY),Rt=cn(Mt,g).point,St={},te=Se(st,xt,!1,S,n,g,y,h.glyphOffsetArray,W,U,Rt,Mt,St,q,E);it=te.useVertical,(te.notEnoughRoom||it||te.needsFlipping&&Se(st,xt,!0,S,n,g,y,h.glyphOffsetArray,W,U,Rt,Mt,St,q,E).notEnoughRoom)&&On(st.numGlyphs,U)}c?h.text.dynamicLayoutVertexBuffer.updateData(U):h.icon.dynamicLayoutVertexBuffer.updateData(U)}function gi(h,n,o,c,g,y,w,S,E,C,z,L){const U=S.glyphStartIndex+S.numGlyphs,W=S.lineStartIndex,N=S.lineStartIndex+S.lineLength,q=n.getoffsetX(S.glyphStartIndex),it=n.getoffsetX(U-1),rt=or(h*q,o,c,g,y,w,S.segment,W,N,E,C,z,L);if(!rt)return null;const st=or(h*it,o,c,g,y,w,S.segment,W,N,E,C,z,L);return st?{first:rt,last:st}:null}function ar(h,n,o,c){return h===u.WritingMode.horizontal&&Math.abs(o.y-n.y)>Math.abs(o.x-n.x)*c?{useVertical:!0}:(h===u.WritingMode.vertical?n.y<o.y:n.x>o.x)?{needsFlipping:!0}:null}function Se(h,n,o,c,g,y,w,S,E,C,z,L,U,W,N){const q=n/24,it=h.lineOffsetX*q,rt=h.lineOffsetY*q;let st;if(h.numGlyphs>1){const ot=h.glyphStartIndex+h.numGlyphs,Et=h.lineStartIndex,mt=h.lineStartIndex+h.lineLength,xt=gi(q,S,it,rt,o,z,L,h,E,y,U,N);if(!xt)return{notEnoughRoom:!0};const Mt=cn(xt.first.point,w).point,Rt=cn(xt.last.point,w).point;if(c&&!o){const St=ar(h.writingMode,Mt,Rt,W);if(St)return St}st=[xt.first];for(let St=h.glyphStartIndex+1;St<ot-1;St++)st.push(or(q*S.getoffsetX(St),it,rt,o,z,L,h.segment,Et,mt,E,y,U,N));st.push(xt.last)}else{if(c&&!o){const Et=cn(L,g).point,mt=h.lineStartIndex+h.segment+1,xt=new u.pointGeometry(E.getx(mt),E.gety(mt)),Mt=cn(xt,g),Rt=Mt.signedDistanceFromCamera>0?Mt.point:ra(L,xt,Et,1,g),St=ar(h.writingMode,Et,Rt,W);if(St)return St}const ot=or(q*S.getoffsetX(h.glyphStartIndex),it,rt,o,z,L,h.segment,h.lineStartIndex,h.lineStartIndex+h.lineLength,E,y,U,N);if(!ot)return{notEnoughRoom:!0};st=[ot]}for(const ot of st)u.addDynamicAttributes(C,ot.point,ot.angle);return{}}function ra(h,n,o,c,g){const y=cn(h.add(h.sub(n)._unit()),g).point,w=o.sub(y);return o.add(w._mult(c/w.mag()))}function or(h,n,o,c,g,y,w,S,E,C,z,L,U){const W=c?h-n:h+n;let N=W>0?1:-1,q=0;c&&(N*=-1,q=Math.PI),N<0&&(q+=Math.PI);let it=N>0?S+w:S+w+1,rt=g,st=g,ot=0,Et=0;const mt=Math.abs(W),xt=[];for(;ot+Et<=mt;){if(it+=N,it<S||it>=E)return null;if(st=rt,xt.push(rt),rt=L[it],rt===void 0){const Gt=new u.pointGeometry(C.getx(it),C.gety(it)),fe=cn(Gt,z);if(fe.signedDistanceFromCamera>0)rt=L[it]=fe.point;else{const Oe=it-N;rt=ra(ot===0?y:new u.pointGeometry(C.getx(Oe),C.gety(Oe)),Gt,st,mt-ot+1,z)}}ot+=Et,Et=st.dist(rt)}const Mt=(mt-ot)/Et,Rt=rt.sub(st),St=Rt.mult(Mt)._add(st);St._add(Rt._unit()._perp()._mult(o*N));const te=q+Math.atan2(rt.y-st.y,rt.x-st.x);return xt.push(St),{point:St,angle:U?te:0,path:xt}}const Fr=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function On(h,n){for(let o=0;o<h;o++){const c=n.length;n.resize(c+4),n.float32.set(Fr,3*c)}}function rn(h,n,o){const c=n[0],g=n[1];return h[0]=o[0]*c+o[4]*g+o[12],h[1]=o[1]*c+o[5]*g+o[13],h[3]=o[3]*c+o[7]*g+o[15],h}const Xi=100;class aa{constructor(n,o=new Ti(n.width+200,n.height+200,25),c=new Ti(n.width+200,n.height+200,25)){this.transform=n,this.grid=o,this.ignoredGrid=c,this.pitchfactor=Math.cos(n._pitch)*n.cameraToCenterDistance,this.screenRightBoundary=n.width+Xi,this.screenBottomBoundary=n.height+Xi,this.gridRightBoundary=n.width+200,this.gridBottomBoundary=n.height+200}placeCollisionBox(n,o,c,g,y){const w=this.projectAndGetPerspectiveRatio(g,n.anchorPointX,n.anchorPointY),S=c*w.perspectiveRatio,E=n.x1*S+w.point.x,C=n.y1*S+w.point.y,z=n.x2*S+w.point.x,L=n.y2*S+w.point.y;return!this.isInsideGrid(E,C,z,L)||o!=="always"&&this.grid.hitTest(E,C,z,L,o,y)?{box:[],offscreen:!1}:{box:[E,C,z,L],offscreen:this.isOffscreen(E,C,z,L)}}placeCollisionCircles(n,o,c,g,y,w,S,E,C,z,L,U,W){const N=[],q=new u.pointGeometry(o.anchorX,o.anchorY),it=cn(q,w),rt=Ut(this.transform.cameraToCenterDistance,it.signedDistanceFromCamera),st=(z?y/rt:y*rt)/u.ONE_EM,ot=cn(q,S).point,Et=gi(st,g,o.lineOffsetX*st,o.lineOffsetY*st,!1,ot,q,o,c,S,{},!1);let mt=!1,xt=!1,Mt=!0;if(Et){const Rt=.5*U*rt+W,St=new u.pointGeometry(-100,-100),te=new u.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Gt=new _r,fe=Et.first,Oe=Et.last;let Me=[];for(let _e=fe.path.length-1;_e>=1;_e--)Me.push(fe.path[_e]);for(let _e=1;_e<Oe.path.length;_e++)Me.push(Oe.path[_e]);const Re=2.5*Rt;if(E){const _e=Me.map(Ve=>cn(Ve,E));Me=_e.some(Ve=>Ve.signedDistanceFromCamera<=0)?[]:_e.map(Ve=>Ve.point)}let An=[];if(Me.length>0){const _e=Me[0].clone(),Ve=Me[0].clone();for(let Je=1;Je<Me.length;Je++)_e.x=Math.min(_e.x,Me[Je].x),_e.y=Math.min(_e.y,Me[Je].y),Ve.x=Math.max(Ve.x,Me[Je].x),Ve.y=Math.max(Ve.y,Me[Je].y);An=_e.x>=St.x&&Ve.x<=te.x&&_e.y>=St.y&&Ve.y<=te.y?[Me]:Ve.x<St.x||_e.x>te.x||Ve.y<St.y||_e.y>te.y?[]:u.clipLine([Me],St.x,St.y,te.x,te.y)}for(const _e of An){Gt.reset(_e,.25*Rt);let Ve=0;Ve=Gt.length<=.5*Rt?1:Math.ceil(Gt.paddedLength/Re)+1;for(let Je=0;Je<Ve;Je++){const ei=Je/Math.max(Ve-1,1),Oi=Gt.lerp(ei),Yi=Oi.x+Xi,Ji=Oi.y+Xi;N.push(Yi,Ji,Rt,0);const Hr=Yi-Rt,Ii=Ji-Rt,xr=Yi+Rt,ga=Ji+Rt;if(Mt=Mt&&this.isOffscreen(Hr,Ii,xr,ga),xt=xt||this.isInsideGrid(Hr,Ii,xr,ga),n!=="always"&&this.grid.hitTestCircle(Yi,Ji,Rt,n,L)&&(mt=!0,!C))return{circles:[],offscreen:!1,collisionDetected:mt}}}}return{circles:!C&&mt||!xt?[]:N,offscreen:Mt,collisionDetected:mt}}queryRenderedSymbols(n){if(n.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const o=[];let c=1/0,g=1/0,y=-1/0,w=-1/0;for(const z of n){const L=new u.pointGeometry(z.x+Xi,z.y+Xi);c=Math.min(c,L.x),g=Math.min(g,L.y),y=Math.max(y,L.x),w=Math.max(w,L.y),o.push(L)}const S=this.grid.query(c,g,y,w).concat(this.ignoredGrid.query(c,g,y,w)),E={},C={};for(const z of S){const L=z.key;if(E[L.bucketInstanceId]===void 0&&(E[L.bucketInstanceId]={}),E[L.bucketInstanceId][L.featureIndex])continue;const U=[new u.pointGeometry(z.x1,z.y1),new u.pointGeometry(z.x2,z.y1),new u.pointGeometry(z.x2,z.y2),new u.pointGeometry(z.x1,z.y2)];u.polygonIntersectsPolygon(o,U)&&(E[L.bucketInstanceId][L.featureIndex]=!0,C[L.bucketInstanceId]===void 0&&(C[L.bucketInstanceId]=[]),C[L.bucketInstanceId].push(L.featureIndex))}return C}insertCollisionBox(n,o,c,g,y,w){(c?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:y,collisionGroupID:w,overlapMode:o},n[0],n[1],n[2],n[3])}insertCollisionCircles(n,o,c,g,y,w){const S=c?this.ignoredGrid:this.grid,E={bucketInstanceId:g,featureIndex:y,collisionGroupID:w,overlapMode:o};for(let C=0;C<n.length;C+=4)S.insertCircle(E,n[C],n[C+1],n[C+2])}projectAndGetPerspectiveRatio(n,o,c){const g=[o,c,0,1];return rn(g,g,n),{point:new u.pointGeometry((g[0]/g[3]+1)/2*this.transform.width+Xi,(-g[1]/g[3]+1)/2*this.transform.height+Xi),perspectiveRatio:.5+this.transform.cameraToCenterDistance/g[3]*.5}}isOffscreen(n,o,c,g){return c<Xi||n>=this.screenRightBoundary||g<Xi||o>this.screenBottomBoundary}isInsideGrid(n,o,c,g){return c>=0&&n<this.gridRightBoundary&&g>=0&&o<this.gridBottomBoundary}getViewportMatrix(){const n=u.identity([]);return u.translate(n,n,[-100,-100,0]),n}}function Zn(h,n,o){return n*(u.EXTENT/(h.tileSize*Math.pow(2,o-h.tileID.overscaledZ)))}class lr{constructor(n,o,c,g){this.opacity=n?Math.max(0,Math.min(1,n.opacity+(n.placed?o:-o))):g&&c?1:0,this.placed=c}isHidden(){return this.opacity===0&&!this.placed}}class sr{constructor(n,o,c,g,y){this.text=new lr(n?n.text:null,o,c,y),this.icon=new lr(n?n.icon:null,o,g,y)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ko{constructor(n,o,c){this.text=n,this.icon=o,this.skipFade=c}}class La{constructor(){this.invProjMatrix=u.create(),this.viewportMatrix=u.create(),this.circles=[]}}class Ra{constructor(n,o,c,g,y){this.bucketInstanceId=n,this.featureIndex=o,this.sourceLayerIndex=c,this.bucketIndex=g,this.tileID=y}}class j{constructor(n){this.crossSourceCollisions=n,this.maxGroupID=0,this.collisionGroups={}}get(n){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[n]){const o=++this.maxGroupID;this.collisionGroups[n]={ID:o,predicate:c=>c.collisionGroupID===o}}return this.collisionGroups[n]}}function k(h,n,o,c,g){const{horizontalAlign:y,verticalAlign:w}=u.getAnchorAlignment(h),S=-(y-.5)*n,E=-(w-.5)*o,C=u.evaluateVariableOffset(h,c);return new u.pointGeometry(S+C[0]*g,E+C[1]*g)}function P(h,n,o,c,g,y){const{x1:w,x2:S,y1:E,y2:C,anchorPointX:z,anchorPointY:L}=h,U=new u.pointGeometry(n,o);return c&&U._rotate(g?y:-y),{x1:w+U.x,y1:E+U.y,x2:S+U.x,y2:C+U.y,anchorPointX:z,anchorPointY:L}}class O{constructor(n,o,c,g){this.transform=n.clone(),this.collisionIndex=new aa(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=o,this.retainedQueryData={},this.collisionGroups=new j(c),this.collisionCircleArrays={},this.prevPlacement=g,g&&(g.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(n,o,c,g){const y=c.getBucket(o),w=c.latestFeatureIndex;if(!y||!w||o.id!==y.layerIds[0])return;const S=c.collisionBoxArray,E=y.layers[0].layout,C=Math.pow(2,this.transform.zoom-c.tileID.overscaledZ),z=c.tileSize/u.EXTENT,L=this.transform.calculatePosMatrix(c.tileID.toUnwrapped()),U=E.get("text-pitch-alignment")==="map",W=E.get("text-rotation-alignment")==="map",N=Zn(c,1,this.transform.zoom),q=pi(L,U,W,this.transform,N);let it=null;if(U){const st=ia(L,U,W,this.transform,N);it=u.multiply([],this.transform.labelPlaneMatrix,st)}this.retainedQueryData[y.bucketInstanceId]=new Ra(y.bucketInstanceId,w,y.sourceLayerIndex,y.index,c.tileID);const rt={bucket:y,layout:E,posMatrix:L,textLabelPlaneMatrix:q,labelToScreenMatrix:it,scale:C,textPixelRatio:z,holdingForFade:c.holdingForFade(),collisionBoxArray:S,partiallyEvaluatedTextSize:u.evaluateSizeForZoom(y.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(y.sourceID)};if(g)for(const st of y.sortKeyRanges){const{sortKey:ot,symbolInstanceStart:Et,symbolInstanceEnd:mt}=st;n.push({sortKey:ot,symbolInstanceStart:Et,symbolInstanceEnd:mt,parameters:rt})}else n.push({symbolInstanceStart:0,symbolInstanceEnd:y.symbolInstances.length,parameters:rt})}attemptAnchorPlacement(n,o,c,g,y,w,S,E,C,z,L,U,W,N,q){const it=[U.textOffset0,U.textOffset1],rt=k(n,c,g,it,y),st=this.collisionIndex.placeCollisionBox(P(o,rt.x,rt.y,w,S,this.transform.angle),L,E,C,z.predicate);if((!q||this.collisionIndex.placeCollisionBox(P(q,rt.x,rt.y,w,S,this.transform.angle),L,E,C,z.predicate).box.length!==0)&&st.box.length>0){let ot;return this.prevPlacement&&this.prevPlacement.variableOffsets[U.crossTileID]&&this.prevPlacement.placements[U.crossTileID]&&this.prevPlacement.placements[U.crossTileID].text&&(ot=this.prevPlacement.variableOffsets[U.crossTileID].anchor),this.variableOffsets[U.crossTileID]={textOffset:it,width:c,height:g,anchor:n,textBoxScale:y,prevAnchor:ot},this.markUsedJustification(W,n,U,N),W.allowVerticalPlacement&&(this.markUsedOrientation(W,N,U),this.placedOrientations[U.crossTileID]=N),{shift:rt,placedGlyphBoxes:st}}}placeLayerBucketPart(n,o,c){const{bucket:g,layout:y,posMatrix:w,textLabelPlaneMatrix:S,labelToScreenMatrix:E,textPixelRatio:C,holdingForFade:z,collisionBoxArray:L,partiallyEvaluatedTextSize:U,collisionGroup:W}=n.parameters,N=y.get("text-optional"),q=y.get("icon-optional"),it=u.getOverlapMode(y,"text-overlap","text-allow-overlap"),rt=it==="always",st=u.getOverlapMode(y,"icon-overlap","icon-allow-overlap"),ot=st==="always",Et=y.get("text-rotation-alignment")==="map",mt=y.get("text-pitch-alignment")==="map",xt=y.get("icon-text-fit")!=="none",Mt=y.get("symbol-z-order")==="viewport-y",Rt=rt&&(ot||!g.hasIconData()||q),St=ot&&(rt||!g.hasTextData()||N);!g.collisionArrays&&L&&g.deserializeCollisionBoxes(L);const te=(Gt,fe)=>{if(o[Gt.crossTileID])return;if(z)return void(this.placements[Gt.crossTileID]=new ko(!1,!1,!1));let Oe=!1,Me=!1,Re=!0,An=null,_e={box:null,offscreen:null},Ve={box:null,offscreen:null},Je=null,ei=null,Oi=null,Yi=0,Ji=0,Hr=0;fe.textFeatureIndex?Yi=fe.textFeatureIndex:Gt.useRuntimeCollisionCircles&&(Yi=Gt.featureIndex),fe.verticalTextFeatureIndex&&(Ji=fe.verticalTextFeatureIndex);const Ii=fe.textBox;if(Ii){const Ui=Ze=>{let Nn=u.WritingMode.horizontal;if(g.allowVerticalPlacement&&!Ze&&this.prevPlacement){const fi=this.prevPlacement.placedOrientations[Gt.crossTileID];fi&&(this.placedOrientations[Gt.crossTileID]=fi,Nn=fi,this.markUsedOrientation(g,Nn,Gt))}return Nn},je=(Ze,Nn)=>{if(g.allowVerticalPlacement&&Gt.numVerticalGlyphVertices>0&&fe.verticalTextBox){for(const fi of g.writingModes)if(fi===u.WritingMode.vertical?(_e=Nn(),Ve=_e):_e=Ze(),_e&&_e.box&&_e.box.length)break}else _e=Ze()};if(y.get("text-variable-anchor")){let Ze=y.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Gt.crossTileID]){const gn=this.prevPlacement.variableOffsets[Gt.crossTileID];Ze.indexOf(gn.anchor)>0&&(Ze=Ze.filter(fa=>fa!==gn.anchor),Ze.unshift(gn.anchor))}const Nn=(gn,fa,wr)=>{const Kl=gn.x2-gn.x1,Iu=gn.y2-gn.y1,Yl=Gt.textBoxScale,Pd=xt&&st==="never"?fa:null;let ma={box:[],offscreen:!1};const Jl=it!=="never"?2*Ze.length:Ze.length;for(let br=0;br<Jl;++br){const Ha=this.attemptAnchorPlacement(Ze[br%Ze.length],gn,Kl,Iu,Yl,Et,mt,C,w,W,br>=Ze.length?it:"never",Gt,g,wr,Pd);if(Ha&&(ma=Ha.placedGlyphBoxes,ma&&ma.box&&ma.box.length)){Oe=!0,An=Ha.shift;break}}return ma};je(()=>Nn(Ii,fe.iconBox,u.WritingMode.horizontal),()=>{const gn=fe.verticalTextBox;return g.allowVerticalPlacement&&!(_e&&_e.box&&_e.box.length)&&Gt.numVerticalGlyphVertices>0&&gn?Nn(gn,fe.verticalIconBox,u.WritingMode.vertical):{box:null,offscreen:null}}),_e&&(Oe=_e.box,Re=_e.offscreen);const fi=Ui(_e&&_e.box);if(!Oe&&this.prevPlacement){const gn=this.prevPlacement.variableOffsets[Gt.crossTileID];gn&&(this.variableOffsets[Gt.crossTileID]=gn,this.markUsedJustification(g,gn.anchor,Gt,fi))}}else{const Ze=(Nn,fi)=>{const gn=this.collisionIndex.placeCollisionBox(Nn,it,C,w,W.predicate);return gn&&gn.box&&gn.box.length&&(this.markUsedOrientation(g,fi,Gt),this.placedOrientations[Gt.crossTileID]=fi),gn};je(()=>Ze(Ii,u.WritingMode.horizontal),()=>{const Nn=fe.verticalTextBox;return g.allowVerticalPlacement&&Gt.numVerticalGlyphVertices>0&&Nn?Ze(Nn,u.WritingMode.vertical):{box:null,offscreen:null}}),Ui(_e&&_e.box&&_e.box.length)}}if(Je=_e,Oe=Je&&Je.box&&Je.box.length>0,Re=Je&&Je.offscreen,Gt.useRuntimeCollisionCircles){const Ui=g.text.placedSymbolArray.get(Gt.centerJustifiedTextSymbolIndex),je=u.evaluateSizeForFeature(g.textSizeData,U,Ui),Ze=y.get("text-padding");ei=this.collisionIndex.placeCollisionCircles(it,Ui,g.lineVertexArray,g.glyphOffsetArray,je,w,S,E,c,mt,W.predicate,Gt.collisionCircleDiameter,Ze),Oe=rt||ei.circles.length>0&&!ei.collisionDetected,Re=Re&&ei.offscreen}if(fe.iconFeatureIndex&&(Hr=fe.iconFeatureIndex),fe.iconBox){const Ui=je=>{const Ze=xt&&An?P(je,An.x,An.y,Et,mt,this.transform.angle):je;return this.collisionIndex.placeCollisionBox(Ze,st,C,w,W.predicate)};Ve&&Ve.box&&Ve.box.length&&fe.verticalIconBox?(Oi=Ui(fe.verticalIconBox),Me=Oi.box.length>0):(Oi=Ui(fe.iconBox),Me=Oi.box.length>0),Re=Re&&Oi.offscreen}const xr=N||Gt.numHorizontalGlyphVertices===0&&Gt.numVerticalGlyphVertices===0,ga=q||Gt.numIconVertices===0;if(xr||ga?ga?xr||(Me=Me&&Oe):Oe=Me&&Oe:Me=Oe=Me&&Oe,Oe&&Je&&Je.box&&this.collisionIndex.insertCollisionBox(Je.box,it,y.get("text-ignore-placement"),g.bucketInstanceId,Ve&&Ve.box&&Ji?Ji:Yi,W.ID),Me&&Oi&&this.collisionIndex.insertCollisionBox(Oi.box,st,y.get("icon-ignore-placement"),g.bucketInstanceId,Hr,W.ID),ei&&(Oe&&this.collisionIndex.insertCollisionCircles(ei.circles,it,y.get("text-ignore-placement"),g.bucketInstanceId,Yi,W.ID),c)){const Ui=g.bucketInstanceId;let je=this.collisionCircleArrays[Ui];je===void 0&&(je=this.collisionCircleArrays[Ui]=new La);for(let Ze=0;Ze<ei.circles.length;Ze+=4)je.circles.push(ei.circles[Ze+0]),je.circles.push(ei.circles[Ze+1]),je.circles.push(ei.circles[Ze+2]),je.circles.push(ei.collisionDetected?1:0)}this.placements[Gt.crossTileID]=new ko(Oe||Rt,Me||St,Re||g.justReloaded),o[Gt.crossTileID]=!0};if(Mt){const Gt=g.getSortedSymbolIndexes(this.transform.angle);for(let fe=Gt.length-1;fe>=0;--fe){const Oe=Gt[fe];te(g.symbolInstances.get(Oe),g.collisionArrays[Oe])}}else for(let Gt=n.symbolInstanceStart;Gt<n.symbolInstanceEnd;Gt++)te(g.symbolInstances.get(Gt),g.collisionArrays[Gt]);if(c&&g.bucketInstanceId in this.collisionCircleArrays){const Gt=this.collisionCircleArrays[g.bucketInstanceId];u.invert(Gt.invProjMatrix,w),Gt.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}markUsedJustification(n,o,c,g){let y;y=g===u.WritingMode.vertical?c.verticalPlacedTextSymbolIndex:{left:c.leftJustifiedTextSymbolIndex,center:c.centerJustifiedTextSymbolIndex,right:c.rightJustifiedTextSymbolIndex}[u.getAnchorJustification(o)];const w=[c.leftJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.rightJustifiedTextSymbolIndex,c.verticalPlacedTextSymbolIndex];for(const S of w)S>=0&&(n.text.placedSymbolArray.get(S).crossTileID=y>=0&&S!==y?0:c.crossTileID)}markUsedOrientation(n,o,c){const g=o===u.WritingMode.horizontal||o===u.WritingMode.horizontalOnly?o:0,y=o===u.WritingMode.vertical?o:0,w=[c.leftJustifiedTextSymbolIndex,c.centerJustifiedTextSymbolIndex,c.rightJustifiedTextSymbolIndex];for(const S of w)n.text.placedSymbolArray.get(S).placedOrientation=g;c.verticalPlacedTextSymbolIndex&&(n.text.placedSymbolArray.get(c.verticalPlacedTextSymbolIndex).placedOrientation=y)}commit(n){this.commitTime=n,this.zoomAtLastRecencyCheck=this.transform.zoom;const o=this.prevPlacement;let c=!1;this.prevZoomAdjustment=o?o.zoomAdjustment(this.transform.zoom):0;const g=o?o.symbolFadeChange(n):1,y=o?o.opacities:{},w=o?o.variableOffsets:{},S=o?o.placedOrientations:{};for(const E in this.placements){const C=this.placements[E],z=y[E];z?(this.opacities[E]=new sr(z,g,C.text,C.icon),c=c||C.text!==z.text.placed||C.icon!==z.icon.placed):(this.opacities[E]=new sr(null,g,C.text,C.icon,C.skipFade),c=c||C.text||C.icon)}for(const E in y){const C=y[E];if(!this.opacities[E]){const z=new sr(C,g,!1,!1);z.isHidden()||(this.opacities[E]=z,c=c||C.text.placed||C.icon.placed)}}for(const E in w)this.variableOffsets[E]||!this.opacities[E]||this.opacities[E].isHidden()||(this.variableOffsets[E]=w[E]);for(const E in S)this.placedOrientations[E]||!this.opacities[E]||this.opacities[E].isHidden()||(this.placedOrientations[E]=S[E]);c?this.lastPlacementChangeTime=n:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=o?o.lastPlacementChangeTime:n)}updateLayerOpacities(n,o){const c={};for(const g of o){const y=g.getBucket(n);y&&g.latestFeatureIndex&&n.id===y.layerIds[0]&&this.updateBucketOpacities(y,c,g.collisionBoxArray)}}updateBucketOpacities(n,o,c){n.hasTextData()&&n.text.opacityVertexArray.clear(),n.hasIconData()&&n.icon.opacityVertexArray.clear(),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexArray.clear(),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexArray.clear();const g=n.layers[0].layout,y=new sr(null,0,!1,!1,!0),w=g.get("text-allow-overlap"),S=g.get("icon-allow-overlap"),E=g.get("text-variable-anchor"),C=g.get("text-rotation-alignment")==="map",z=g.get("text-pitch-alignment")==="map",L=g.get("icon-text-fit")!=="none",U=new sr(null,0,w&&(S||!n.hasIconData()||g.get("icon-optional")),S&&(w||!n.hasTextData()||g.get("text-optional")),!0);!n.collisionArrays&&c&&(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData())&&n.deserializeCollisionBoxes(c);const W=(N,q,it)=>{for(let rt=0;rt<q/4;rt++)N.opacityVertexArray.emplaceBack(it)};for(let N=0;N<n.symbolInstances.length;N++){const q=n.symbolInstances.get(N),{numHorizontalGlyphVertices:it,numVerticalGlyphVertices:rt,crossTileID:st}=q;let ot=this.opacities[st];o[st]?ot=y:ot||(ot=U,this.opacities[st]=ot),o[st]=!0;const Et=q.numIconVertices>0,mt=this.placedOrientations[q.crossTileID],xt=mt===u.WritingMode.vertical,Mt=mt===u.WritingMode.horizontal||mt===u.WritingMode.horizontalOnly;if(it>0||rt>0){const Rt=ft(ot.text);W(n.text,it,xt?ee:Rt),W(n.text,rt,Mt?ee:Rt);const St=ot.text.isHidden();[q.rightJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.leftJustifiedTextSymbolIndex].forEach(fe=>{fe>=0&&(n.text.placedSymbolArray.get(fe).hidden=St||xt?1:0)}),q.verticalPlacedTextSymbolIndex>=0&&(n.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).hidden=St||Mt?1:0);const te=this.variableOffsets[q.crossTileID];te&&this.markUsedJustification(n,te.anchor,q,mt);const Gt=this.placedOrientations[q.crossTileID];Gt&&(this.markUsedJustification(n,"left",q,Gt),this.markUsedOrientation(n,Gt,q))}if(Et){const Rt=ft(ot.icon),St=!(L&&q.verticalPlacedIconSymbolIndex&&xt);q.placedIconSymbolIndex>=0&&(W(n.icon,q.numIconVertices,St?Rt:ee),n.icon.placedSymbolArray.get(q.placedIconSymbolIndex).hidden=ot.icon.isHidden()),q.verticalPlacedIconSymbolIndex>=0&&(W(n.icon,q.numVerticalIconVertices,St?ee:Rt),n.icon.placedSymbolArray.get(q.verticalPlacedIconSymbolIndex).hidden=ot.icon.isHidden())}if(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData()){const Rt=n.collisionArrays[N];if(Rt){let St=new u.pointGeometry(0,0);if(Rt.textBox||Rt.verticalTextBox){let Gt=!0;if(E){const fe=this.variableOffsets[st];fe?(St=k(fe.anchor,fe.width,fe.height,fe.textOffset,fe.textBoxScale),C&&St._rotate(z?this.transform.angle:-this.transform.angle)):Gt=!1}Rt.textBox&&$(n.textCollisionBox.collisionVertexArray,ot.text.placed,!Gt||xt,St.x,St.y),Rt.verticalTextBox&&$(n.textCollisionBox.collisionVertexArray,ot.text.placed,!Gt||Mt,St.x,St.y)}const te=Boolean(!Mt&&Rt.verticalIconBox);Rt.iconBox&&$(n.iconCollisionBox.collisionVertexArray,ot.icon.placed,te,L?St.x:0,L?St.y:0),Rt.verticalIconBox&&$(n.iconCollisionBox.collisionVertexArray,ot.icon.placed,!te,L?St.x:0,L?St.y:0)}}}if(n.sortFeatures(this.transform.angle),this.retainedQueryData[n.bucketInstanceId]&&(this.retainedQueryData[n.bucketInstanceId].featureSortOrder=n.featureSortOrder),n.hasTextData()&&n.text.opacityVertexBuffer&&n.text.opacityVertexBuffer.updateData(n.text.opacityVertexArray),n.hasIconData()&&n.icon.opacityVertexBuffer&&n.icon.opacityVertexBuffer.updateData(n.icon.opacityVertexArray),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexBuffer&&n.iconCollisionBox.collisionVertexBuffer.updateData(n.iconCollisionBox.collisionVertexArray),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexBuffer&&n.textCollisionBox.collisionVertexBuffer.updateData(n.textCollisionBox.collisionVertexArray),n.bucketInstanceId in this.collisionCircleArrays){const N=this.collisionCircleArrays[n.bucketInstanceId];n.placementInvProjMatrix=N.invProjMatrix,n.placementViewportMatrix=N.viewportMatrix,n.collisionCircleArray=N.circles,delete this.collisionCircleArrays[n.bucketInstanceId]}}symbolFadeChange(n){return this.fadeDuration===0?1:(n-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(n){return Math.max(0,(this.transform.zoom-n)/1.5)}hasTransitions(n){return this.stale||n-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(n,o){const c=this.zoomAtLastRecencyCheck===o?1-this.zoomAdjustment(o):1;return this.zoomAtLastRecencyCheck=o,this.commitTime+this.fadeDuration*c>n}setStale(){this.stale=!0}}function $(h,n,o,c,g){h.emplaceBack(n?1:0,o?1:0,c||0,g||0),h.emplaceBack(n?1:0,o?1:0,c||0,g||0),h.emplaceBack(n?1:0,o?1:0,c||0,g||0),h.emplaceBack(n?1:0,o?1:0,c||0,g||0)}const G=Math.pow(2,25),tt=Math.pow(2,24),Y=Math.pow(2,17),Q=Math.pow(2,16),et=Math.pow(2,9),_t=Math.pow(2,8),At=Math.pow(2,1);function ft(h){if(h.opacity===0&&!h.placed)return 0;if(h.opacity===1&&h.placed)return 4294967295;const n=h.placed?1:0,o=Math.floor(127*h.opacity);return o*G+n*tt+o*Y+n*Q+o*et+n*_t+o*At+n}const ee=0;class Xt{constructor(n){this._sortAcrossTiles=n.layout.get("symbol-z-order")!=="viewport-y"&&!n.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(n,o,c,g,y){const w=this._bucketParts;for(;this._currentTileIndex<n.length;)if(o.getBucketParts(w,g,n[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,y())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,w.sort((S,E)=>S.sortKey-E.sortKey));this._currentPartIndex<w.length;)if(o.placeLayerBucketPart(w[this._currentPartIndex],this._seenCrossTileIDs,c),this._currentPartIndex++,y())return!0;return!1}}class ie{constructor(n,o,c,g,y,w,S){this.placement=new O(n,y,w,S),this._currentPlacementIndex=o.length-1,this._forceFullPlacement=c,this._showCollisionBoxes=g,this._done=!1}isDone(){return this._done}continuePlacement(n,o,c){const g=u.exported.now(),y=()=>{const w=u.exported.now()-g;return!this._forceFullPlacement&&w>2};for(;this._currentPlacementIndex>=0;){const w=o[n[this._currentPlacementIndex]],S=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=S)&&(!w.maxzoom||w.maxzoom>S)){if(this._inProgressLayer||(this._inProgressLayer=new Xt(w)),this._inProgressLayer.continuePlacement(c[w.source],this.placement,this._showCollisionBoxes,w,y))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(n){return this.placement.commit(n),this.placement}}const de=512/u.EXTENT/2;class Ue{constructor(n,o,c){this.tileID=n,this.indexedSymbolInstances={},this.bucketInstanceId=c;for(let g=0;g<o.length;g++){const y=o.get(g),w=y.key;this.indexedSymbolInstances[w]||(this.indexedSymbolInstances[w]=[]),this.indexedSymbolInstances[w].push({crossTileID:y.crossTileID,coord:this.getScaledCoordinates(y,n)})}}getScaledCoordinates(n,o){const c=de/Math.pow(2,o.canonical.z-this.tileID.canonical.z);return{x:Math.floor((o.canonical.x*u.EXTENT+n.anchorX)*c),y:Math.floor((o.canonical.y*u.EXTENT+n.anchorY)*c)}}findMatches(n,o,c){const g=this.tileID.canonical.z<o.canonical.z?1:Math.pow(2,this.tileID.canonical.z-o.canonical.z);for(let y=0;y<n.length;y++){const w=n.get(y);if(w.crossTileID)continue;const S=this.indexedSymbolInstances[w.key];if(!S)continue;const E=this.getScaledCoordinates(w,o);for(const C of S)if(Math.abs(C.coord.x-E.x)<=g&&Math.abs(C.coord.y-E.y)<=g&&!c[C.crossTileID]){c[C.crossTileID]=!0,w.crossTileID=C.crossTileID;break}}}}class Le{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Pe{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(n){const o=Math.round((n-this.lng)/360);if(o!==0)for(const c in this.indexes){const g=this.indexes[c],y={};for(const w in g){const S=g[w];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+o),y[S.tileID.key]=S}this.indexes[c]=y}this.lng=n}addBucket(n,o,c){if(this.indexes[n.overscaledZ]&&this.indexes[n.overscaledZ][n.key]){if(this.indexes[n.overscaledZ][n.key].bucketInstanceId===o.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(n.overscaledZ,this.indexes[n.overscaledZ][n.key])}for(let y=0;y<o.symbolInstances.length;y++)o.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[n.overscaledZ]||(this.usedCrossTileIDs[n.overscaledZ]={});const g=this.usedCrossTileIDs[n.overscaledZ];for(const y in this.indexes){const w=this.indexes[y];if(Number(y)>n.overscaledZ)for(const S in w){const E=w[S];E.tileID.isChildOf(n)&&E.findMatches(o.symbolInstances,n,g)}else{const S=w[n.scaledTo(Number(y)).key];S&&S.findMatches(o.symbolInstances,n,g)}}for(let y=0;y<o.symbolInstances.length;y++){const w=o.symbolInstances.get(y);w.crossTileID||(w.crossTileID=c.generate(),g[w.crossTileID]=!0)}return this.indexes[n.overscaledZ]===void 0&&(this.indexes[n.overscaledZ]={}),this.indexes[n.overscaledZ][n.key]=new Ue(n,o.symbolInstances,o.bucketInstanceId),!0}removeBucketCrossTileIDs(n,o){for(const c in o.indexedSymbolInstances)for(const g of o.indexedSymbolInstances[c])delete this.usedCrossTileIDs[n][g.crossTileID]}removeStaleBuckets(n){let o=!1;for(const c in this.indexes){const g=this.indexes[c];for(const y in g)n[g[y].bucketInstanceId]||(this.removeBucketCrossTileIDs(c,g[y]),delete g[y],o=!0)}return o}}class Ee{constructor(){this.layerIndexes={},this.crossTileIDs=new Le,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(n,o,c){let g=this.layerIndexes[n.id];g===void 0&&(g=this.layerIndexes[n.id]=new Pe);let y=!1;const w={};g.handleWrapJump(c);for(const S of o){const E=S.getBucket(n);E&&n.id===E.layerIds[0]&&(E.bucketInstanceId||(E.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(S.tileID,E,this.crossTileIDs)&&(y=!0),w[E.bucketInstanceId]=!0)}return g.removeStaleBuckets(w)&&(y=!0),y}pruneUnusedLayers(n){const o={};n.forEach(c=>{o[c]=!0});for(const c in this.layerIndexes)o[c]||delete this.layerIndexes[c]}}const we=(h,n)=>u.emitValidationErrors(h,n&&n.filter(o=>o.identifier!=="source.canvas")),Fn=u.pick(Dt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Mn=u.pick(Dt,["setCenter","setZoom","setBearing","setPitch"]),Yn=function(){const h={},n=u.spec.$version;for(const o in u.spec.$root){const c=u.spec.$root[o];if(c.required){let g=null;g=o==="version"?n:c.type==="array"?[]:{},g!=null&&(h[o]=g)}}return h}();class ti extends u.Evented{constructor(n,o={}){super(),this.map=n,this.dispatcher=new wn(dt(),this),this.imageManager=new bt,this.imageManager.setEventedParent(this),this.glyphManager=new jt(n._requestManager,o.localIdeographFontFamily),this.lineAtlas=new Ye(256,512),this.crossTileSymbolIndex=new Ee,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new u.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.getReferrer());const c=this;this._rtlTextPluginCallback=ti.registerForPluginStateChange(g=>{c.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:g.pluginStatus,pluginURL:g.pluginURL},(y,w)=>{if(u.triggerPluginCompletionEvent(y),w&&w.every(S=>S))for(const S in c.sourceCaches)c.sourceCaches[S].reload()})}),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;const y=this.sourceCaches[g.sourceId];if(!y)return;const w=y.getSource();if(w&&w.vectorLayerIds)for(const S in this._layers){const E=this._layers[S];E.source===w.id&&this._validateLayer(E)}})}loadURL(n,o={}){this.fire(new u.Event("dataloading",{dataType:"style"}));const c=typeof o.validate!="boolean"||o.validate,g=this.map._requestManager.transformRequest(n,u.ResourceType.Style);this._request=u.getJSON(g,(y,w)=>{this._request=null,y?this.fire(new u.ErrorEvent(y)):w&&this._load(w,c)})}loadJSON(n,o={}){this.fire(new u.Event("dataloading",{dataType:"style"})),this._request=u.exported.frame(()=>{this._request=null,this._load(n,o.validate!==!1)})}loadEmpty(){this.fire(new u.Event("dataloading",{dataType:"style"})),this._load(Yn,!1)}_load(n,o){if(o&&we(this,u.validateStyle(n)))return;this._loaded=!0,this.stylesheet=n;for(const g in n.sources)this.addSource(g,n.sources[g],{validate:!1});n.sprite?this._loadSprite(n.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(n.glyphs);const c=oe(this.stylesheet.layers);this._order=c.map(g=>g.id),this._layers={},this._serializedLayers={};for(let g of c)g=u.createStyleLayer(g),g.setEventedParent(this,{layer:{id:g.id}}),this._layers[g.id]=g,this._serializedLayers[g.id]=g.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new qe(this.stylesheet.light),this.fire(new u.Event("data",{dataType:"style"})),this.fire(new u.Event("style.load"))}_loadSprite(n){this._spriteRequest=function(o,c,g,y){let w,S,E;const C=g>1?"@2x":"";let z=u.getJSON(c.transformRequest(c.normalizeSpriteURL(o,C,".json"),u.ResourceType.SpriteJSON),(W,N)=>{z=null,E||(E=W,w=N,U())}),L=u.getImage(c.transformRequest(c.normalizeSpriteURL(o,C,".png"),u.ResourceType.SpriteImage),(W,N)=>{L=null,E||(E=W,S=N,U())});function U(){if(E)y(E);else if(w&&S){const W=u.exported.getImageData(S),N={};for(const q in w){const{width:it,height:rt,x:st,y:ot,sdf:Et,pixelRatio:mt,stretchX:xt,stretchY:Mt,content:Rt}=w[q],St=new u.RGBAImage({width:it,height:rt});u.RGBAImage.copy(W,St,{x:st,y:ot},{x:0,y:0},{width:it,height:rt}),N[q]={data:St,pixelRatio:mt,sdf:Et,stretchX:xt,stretchY:Mt,content:Rt}}y(null,N)}}return{cancel(){z&&(z.cancel(),z=null),L&&(L.cancel(),L=null)}}}(n,this.map._requestManager,this.map.getPixelRatio(),(o,c)=>{if(this._spriteRequest=null,o)this.fire(new u.ErrorEvent(o));else if(c)for(const g in c)this.imageManager.addImage(g,c[g]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.Event("data",{dataType:"style"}))})}_validateLayer(n){const o=this.sourceCaches[n.source];if(!o)return;const c=n.sourceLayer;if(!c)return;const g=o.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(c)===-1)&&this.fire(new u.ErrorEvent(new Error(`Source layer "${c}" does not exist on source "${g.id}" as specified by style layer "${n.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const n in this.sourceCaches)if(!this.sourceCaches[n].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(n){const o=[];for(const c of n){const g=this._layers[c];g.type!=="custom"&&o.push(g.serialize())}return o}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const n in this.sourceCaches)if(this.sourceCaches[n].hasTransition())return!0;for(const n in this._layers)if(this._layers[n].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(n){if(!this._loaded)return;const o=this._changed;if(this._changed){const g=Object.keys(this._updatedLayers),y=Object.keys(this._removedLayers);(g.length||y.length)&&this._updateWorkerLayers(g,y);for(const w in this._updatedSources){const S=this._updatedSources[w];S==="reload"?this._reloadSource(w):S==="clear"&&this._clearSource(w)}this._updateTilesForChangedImages();for(const w in this._updatedPaintProps)this._layers[w].updateTransitions(n);this.light.updateTransitions(n),this._resetUpdates()}const c={};for(const g in this.sourceCaches){const y=this.sourceCaches[g];c[g]=y.used,y.used=!1}for(const g of this._order){const y=this._layers[g];y.recalculate(n,this._availableImages),!y.isHidden(n.zoom)&&y.source&&(this.sourceCaches[y.source].used=!0)}for(const g in c){const y=this.sourceCaches[g];c[g]!==y.used&&y.fire(new u.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(n),this.z=n.zoom,o&&this.fire(new u.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const n=Object.keys(this._changedImages);if(n.length){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["icons","patterns"],n);this._changedImages={}}}_updateWorkerLayers(n,o){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(n),removedIds:o})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(n){if(this._checkLoaded(),we(this,u.validateStyle(n)))return!1;(n=u.clone$1(n)).layers=oe(n.layers);const o=function(g,y){if(!g)return[{command:Dt.setStyle,args:[y]}];let w=[];try{if(!gt(g.version,y.version))return[{command:Dt.setStyle,args:[y]}];gt(g.center,y.center)||w.push({command:Dt.setCenter,args:[y.center]}),gt(g.zoom,y.zoom)||w.push({command:Dt.setZoom,args:[y.zoom]}),gt(g.bearing,y.bearing)||w.push({command:Dt.setBearing,args:[y.bearing]}),gt(g.pitch,y.pitch)||w.push({command:Dt.setPitch,args:[y.pitch]}),gt(g.sprite,y.sprite)||w.push({command:Dt.setSprite,args:[y.sprite]}),gt(g.glyphs,y.glyphs)||w.push({command:Dt.setGlyphs,args:[y.glyphs]}),gt(g.transition,y.transition)||w.push({command:Dt.setTransition,args:[y.transition]}),gt(g.light,y.light)||w.push({command:Dt.setLight,args:[y.light]});const S={},E=[];(function(z,L,U,W){let N;for(N in L=L||{},z=z||{})Object.prototype.hasOwnProperty.call(z,N)&&(Object.prototype.hasOwnProperty.call(L,N)||Ie(N,U,W));for(N in L)Object.prototype.hasOwnProperty.call(L,N)&&(Object.prototype.hasOwnProperty.call(z,N)?gt(z[N],L[N])||(z[N].type==="geojson"&&L[N].type==="geojson"&&xe(z,L,N)?U.push({command:Dt.setGeoJSONSourceData,args:[N,L[N].data]}):nn(N,L,U,W)):ye(N,L,U))})(g.sources,y.sources,E,S);const C=[];g.layers&&g.layers.forEach(z=>{S[z.source]?w.push({command:Dt.removeLayer,args:[z.id]}):C.push(z)}),w=w.concat(E),function(z,L,U){L=L||[];const W=(z=z||[]).map(Ot),N=L.map(Ot),q=z.reduce(Rr,{}),it=L.reduce(Rr,{}),rt=W.slice(),st=Object.create(null);let ot,Et,mt,xt,Mt,Rt,St;for(ot=0,Et=0;ot<W.length;ot++)mt=W[ot],Object.prototype.hasOwnProperty.call(it,mt)?Et++:(U.push({command:Dt.removeLayer,args:[mt]}),rt.splice(rt.indexOf(mt,Et),1));for(ot=0,Et=0;ot<N.length;ot++)mt=N[N.length-1-ot],rt[rt.length-1-ot]!==mt&&(Object.prototype.hasOwnProperty.call(q,mt)?(U.push({command:Dt.removeLayer,args:[mt]}),rt.splice(rt.lastIndexOf(mt,rt.length-Et),1)):Et++,Rt=rt[rt.length-ot],U.push({command:Dt.addLayer,args:[it[mt],Rt]}),rt.splice(rt.length-ot,0,mt),st[mt]=!0);for(ot=0;ot<N.length;ot++)if(mt=N[ot],xt=q[mt],Mt=it[mt],!st[mt]&&!gt(xt,Mt))if(gt(xt.source,Mt.source)&&gt(xt["source-layer"],Mt["source-layer"])&&gt(xt.type,Mt.type)){for(St in pt(xt.layout,Mt.layout,U,mt,null,Dt.setLayoutProperty),pt(xt.paint,Mt.paint,U,mt,null,Dt.setPaintProperty),gt(xt.filter,Mt.filter)||U.push({command:Dt.setFilter,args:[mt,Mt.filter]}),gt(xt.minzoom,Mt.minzoom)&&gt(xt.maxzoom,Mt.maxzoom)||U.push({command:Dt.setLayerZoomRange,args:[mt,Mt.minzoom,Mt.maxzoom]}),xt)Object.prototype.hasOwnProperty.call(xt,St)&&St!=="layout"&&St!=="paint"&&St!=="filter"&&St!=="metadata"&&St!=="minzoom"&&St!=="maxzoom"&&(St.indexOf("paint.")===0?pt(xt[St],Mt[St],U,mt,St.slice(6),Dt.setPaintProperty):gt(xt[St],Mt[St])||U.push({command:Dt.setLayerProperty,args:[mt,St,Mt[St]]}));for(St in Mt)Object.prototype.hasOwnProperty.call(Mt,St)&&!Object.prototype.hasOwnProperty.call(xt,St)&&St!=="layout"&&St!=="paint"&&St!=="filter"&&St!=="metadata"&&St!=="minzoom"&&St!=="maxzoom"&&(St.indexOf("paint.")===0?pt(xt[St],Mt[St],U,mt,St.slice(6),Dt.setPaintProperty):gt(xt[St],Mt[St])||U.push({command:Dt.setLayerProperty,args:[mt,St,Mt[St]]}))}else U.push({command:Dt.removeLayer,args:[mt]}),Rt=rt[rt.lastIndexOf(mt)+1],U.push({command:Dt.addLayer,args:[Mt,Rt]})}(C,y.layers,w)}catch(S){console.warn("Unable to compute style diff:",S),w=[{command:Dt.setStyle,args:[y]}]}return w}(this.serialize(),n).filter(g=>!(g.command in Mn));if(o.length===0)return!1;const c=o.filter(g=>!(g.command in Fn));if(c.length>0)throw new Error(`Unimplemented: ${c.map(g=>g.command).join(", ")}.`);return o.forEach(g=>{g.command!=="setTransition"&&this[g.command].apply(this,g.args)}),this.stylesheet=n,!0}addImage(n,o){if(this.getImage(n))return this.fire(new u.ErrorEvent(new Error(`An image named "${n}" already exists.`)));this.imageManager.addImage(n,o),this._afterImageUpdated(n)}updateImage(n,o){this.imageManager.updateImage(n,o)}getImage(n){return this.imageManager.getImage(n)}removeImage(n){if(!this.getImage(n))return this.fire(new u.ErrorEvent(new Error(`An image named "${n}" does not exist.`)));this.imageManager.removeImage(n),this._afterImageUpdated(n)}_afterImageUpdated(n){this._availableImages=this.imageManager.listImages(),this._changedImages[n]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(n,o,c={}){if(this._checkLoaded(),this.sourceCaches[n]!==void 0)throw new Error(`Source "${n}" already exists.`);if(!o.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(o).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(o.type)>=0&&this._validate(u.validateStyle.source,`sources.${n}`,o,null,c))return;this.map&&this.map._collectResourceTiming&&(o.collectResourceTiming=!0);const g=this.sourceCaches[n]=new me(n,o,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:g.serialize(),sourceId:n})),g.onAdd(this.map),this._changed=!0}removeSource(n){if(this._checkLoaded(),this.sourceCaches[n]===void 0)throw new Error("There is no source with this ID");for(const c in this._layers)if(this._layers[c].source===n)return this.fire(new u.ErrorEvent(new Error(`Source "${n}" cannot be removed while layer "${c}" is using it.`)));const o=this.sourceCaches[n];delete this.sourceCaches[n],delete this._updatedSources[n],o.fire(new u.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:n})),o.setEventedParent(null),o.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(n,o){this._checkLoaded(),this.sourceCaches[n].getSource().setData(o),this._changed=!0}getSource(n){return this.sourceCaches[n]&&this.sourceCaches[n].getSource()}addLayer(n,o,c={}){this._checkLoaded();const g=n.id;if(this.getLayer(g))return void this.fire(new u.ErrorEvent(new Error(`Layer "${g}" already exists on this map.`)));let y;if(n.type==="custom"){if(we(this,u.validateCustomStyleLayer(n)))return;y=u.createStyleLayer(n)}else{if(typeof n.source=="object"&&(this.addSource(g,n.source),n=u.clone$1(n),n=u.extend(n,{source:g})),this._validate(u.validateStyle.layer,`layers.${g}`,n,{arrayIndex:-1},c))return;y=u.createStyleLayer(n),this._validateLayer(y),y.setEventedParent(this,{layer:{id:g}}),this._serializedLayers[y.id]=y.serialize()}const w=o?this._order.indexOf(o):this._order.length;if(o&&w===-1)this.fire(new u.ErrorEvent(new Error(`Cannot add layer "${g}" before non-existing layer "${o}".`)));else{if(this._order.splice(w,0,g),this._layerOrderChanged=!0,this._layers[g]=y,this._removedLayers[g]&&y.source&&y.type!=="custom"){const S=this._removedLayers[g];delete this._removedLayers[g],S.type!==y.type?this._updatedSources[y.source]="clear":(this._updatedSources[y.source]="reload",this.sourceCaches[y.source].pause())}this._updateLayer(y),y.onAdd&&y.onAdd(this.map)}}moveLayer(n,o){if(this._checkLoaded(),this._changed=!0,!this._layers[n])return void this.fire(new u.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be moved.`)));if(n===o)return;const c=this._order.indexOf(n);this._order.splice(c,1);const g=o?this._order.indexOf(o):this._order.length;o&&g===-1?this.fire(new u.ErrorEvent(new Error(`Cannot move layer "${n}" before non-existing layer "${o}".`))):(this._order.splice(g,0,n),this._layerOrderChanged=!0)}removeLayer(n){this._checkLoaded();const o=this._layers[n];if(!o)return void this.fire(new u.ErrorEvent(new Error(`Cannot remove non-existing layer "${n}".`)));o.setEventedParent(null);const c=this._order.indexOf(n);this._order.splice(c,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[n]=o,delete this._layers[n],delete this._serializedLayers[n],delete this._updatedLayers[n],delete this._updatedPaintProps[n],o.onRemove&&o.onRemove(this.map)}getLayer(n){return this._layers[n]}hasLayer(n){return n in this._layers}setLayerZoomRange(n,o,c){this._checkLoaded();const g=this.getLayer(n);g?g.minzoom===o&&g.maxzoom===c||(o!=null&&(g.minzoom=o),c!=null&&(g.maxzoom=c),this._updateLayer(g)):this.fire(new u.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${n}".`)))}setFilter(n,o,c={}){this._checkLoaded();const g=this.getLayer(n);if(g){if(!gt(g.filter,o))return o==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(u.validateStyle.filter,`layers.${g.id}.filter`,o,null,c)||(g.filter=u.clone$1(o),this._updateLayer(g)))}else this.fire(new u.ErrorEvent(new Error(`Cannot filter non-existing layer "${n}".`)))}getFilter(n){return u.clone$1(this.getLayer(n).filter)}setLayoutProperty(n,o,c,g={}){this._checkLoaded();const y=this.getLayer(n);y?gt(y.getLayoutProperty(o),c)||(y.setLayoutProperty(o,c,g),this._updateLayer(y)):this.fire(new u.ErrorEvent(new Error(`Cannot style non-existing layer "${n}".`)))}getLayoutProperty(n,o){const c=this.getLayer(n);if(c)return c.getLayoutProperty(o);this.fire(new u.ErrorEvent(new Error(`Cannot get style of non-existing layer "${n}".`)))}setPaintProperty(n,o,c,g={}){this._checkLoaded();const y=this.getLayer(n);y?gt(y.getPaintProperty(o),c)||(y.setPaintProperty(o,c,g)&&this._updateLayer(y),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new u.ErrorEvent(new Error(`Cannot style non-existing layer "${n}".`)))}getPaintProperty(n,o){return this.getLayer(n).getPaintProperty(o)}setFeatureState(n,o){this._checkLoaded();const c=n.source,g=n.sourceLayer,y=this.sourceCaches[c];if(y===void 0)return void this.fire(new u.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)));const w=y.getSource().type;w==="geojson"&&g?this.fire(new u.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||g?(n.id===void 0&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),y.setFeatureState(g,n.id,o)):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(n,o){this._checkLoaded();const c=n.source,g=this.sourceCaches[c];if(g===void 0)return void this.fire(new u.ErrorEvent(new Error(`The source '${c}' does not exist in the map's style.`)));const y=g.getSource().type,w=y==="vector"?n.sourceLayer:void 0;y!=="vector"||w?o&&typeof n.id!="string"&&typeof n.id!="number"?this.fire(new u.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(w,n.id,o):this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(n){this._checkLoaded();const o=n.source,c=n.sourceLayer,g=this.sourceCaches[o];if(g!==void 0)return g.getSource().type!=="vector"||c?(n.id===void 0&&this.fire(new u.ErrorEvent(new Error("The feature id parameter must be provided."))),g.getFeatureState(c,n.id)):void this.fire(new u.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new u.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)))}getTransition(){return u.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return u.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:u.mapObject(this.sourceCaches,n=>n.serialize()),layers:this._serializeLayers(this._order)},n=>n!==void 0)}_updateLayer(n){this._updatedLayers[n.id]=!0,n.source&&!this._updatedSources[n.source]&&this.sourceCaches[n.source].getSource().type!=="raster"&&(this._updatedSources[n.source]="reload",this.sourceCaches[n.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(n){const o=w=>this._layers[w].type==="fill-extrusion",c={},g=[];for(let w=this._order.length-1;w>=0;w--){const S=this._order[w];if(o(S)){c[S]=w;for(const E of n){const C=E[S];if(C)for(const z of C)g.push(z)}}}g.sort((w,S)=>S.intersectionZ-w.intersectionZ);const y=[];for(let w=this._order.length-1;w>=0;w--){const S=this._order[w];if(o(S))for(let E=g.length-1;E>=0;E--){const C=g[E].feature;if(c[C.layer.id]<w)break;y.push(C),g.pop()}else for(const E of n){const C=E[S];if(C)for(const z of C)y.push(z.feature)}}return y}queryRenderedFeatures(n,o,c){o&&o.filter&&this._validate(u.validateStyle.filter,"queryRenderedFeatures.filter",o.filter,null,o);const g={};if(o&&o.layers){if(!Array.isArray(o.layers))return this.fire(new u.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const w of o.layers){const S=this._layers[w];if(!S)return this.fire(new u.ErrorEvent(new Error(`The layer '${w}' does not exist in the map's style and cannot be queried for features.`))),[];g[S.source]=!0}}const y=[];o.availableImages=this._availableImages;for(const w in this.sourceCaches)o.layers&&!g[w]||y.push(En(this.sourceCaches[w],this._layers,this._serializedLayers,n,o,c));return this.placement&&y.push(function(w,S,E,C,z,L,U){const W={},N=L.queryRenderedSymbols(C),q=[];for(const it of Object.keys(N).map(Number))q.push(U[it]);q.sort(Tn);for(const it of q){const rt=it.featureIndex.lookupSymbolFeatures(N[it.bucketInstanceId],S,it.bucketIndex,it.sourceLayerIndex,z.filter,z.layers,z.availableImages,w);for(const st in rt){const ot=W[st]=W[st]||[],Et=rt[st];Et.sort((mt,xt)=>{const Mt=it.featureSortOrder;if(Mt){const Rt=Mt.indexOf(mt.featureIndex);return Mt.indexOf(xt.featureIndex)-Rt}return xt.featureIndex-mt.featureIndex});for(const mt of Et)ot.push(mt)}}for(const it in W)W[it].forEach(rt=>{const st=rt.feature,ot=E[w[it].source].getFeatureState(st.layer["source-layer"],st.id);st.source=st.layer.source,st.layer["source-layer"]&&(st.sourceLayer=st.layer["source-layer"]),st.state=ot});return W}(this._layers,this._serializedLayers,this.sourceCaches,n,o,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(y)}querySourceFeatures(n,o){o&&o.filter&&this._validate(u.validateStyle.filter,"querySourceFeatures.filter",o.filter,null,o);const c=this.sourceCaches[n];return c?function(g,y){const w=g.getRenderableIds().map(C=>g.getTileByID(C)),S=[],E={};for(let C=0;C<w.length;C++){const z=w[C],L=z.tileID.canonical.key;E[L]||(E[L]=!0,z.querySourceFeatures(S,y))}return S}(c,o):[]}addSourceType(n,o,c){return ti.getSourceType(n)?c(new Error(`A source type called "${n}" already exists.`)):(ti.setSourceType(n,o),o.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:n,url:o.workerSourceURL},c):c(null,null))}getLight(){return this.light.getLight()}setLight(n,o={}){this._checkLoaded();const c=this.light.getLight();let g=!1;for(const w in n)if(!gt(n[w],c[w])){g=!0;break}if(!g)return;const y={now:u.exported.now(),transition:u.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(n,o),this.light.updateTransitions(y)}_validate(n,o,c,g,y={}){return(!y||y.validate!==!1)&&we(this,n.call(u.validateStyle,u.extend({key:o,style:this.serialize(),value:c,styleSpec:u.spec},g)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const n in this._layers)this._layers[n].setEventedParent(null);for(const n in this.sourceCaches){const o=this.sourceCaches[n];o.setEventedParent(null),o.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(n){this.sourceCaches[n].clearTiles()}_reloadSource(n){this.sourceCaches[n].resume(),this.sourceCaches[n].reload()}_updateSources(n){for(const o in this.sourceCaches)this.sourceCaches[o].update(n)}_generateCollisionBoxes(){for(const n in this.sourceCaches)this._reloadSource(n)}_updatePlacement(n,o,c,g,y=!1){let w=!1,S=!1;const E={};for(const C of this._order){const z=this._layers[C];if(z.type!=="symbol")continue;if(!E[z.source]){const U=this.sourceCaches[z.source];E[z.source]=U.getRenderableIds(!0).map(W=>U.getTileByID(W)).sort((W,N)=>N.tileID.overscaledZ-W.tileID.overscaledZ||(W.tileID.isLessThan(N.tileID)?-1:1))}const L=this.crossTileSymbolIndex.addLayer(z,E[z.source],n.center.lng);w=w||L}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((y=y||this._layerOrderChanged||c===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.exported.now(),n.zoom))&&(this.pauseablePlacement=new ie(n,this._order,y,o,c,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,E),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.exported.now()),S=!0),w&&this.pauseablePlacement.placement.setStale()),S||w)for(const C of this._order){const z=this._layers[C];z.type==="symbol"&&this.placement.updateLayerOpacities(z,E[z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.exported.now())}_releaseSymbolFadeTiles(){for(const n in this.sourceCaches)this.sourceCaches[n].releaseSymbolFadeTiles()}getImages(n,o,c){this.imageManager.getImages(o.icons,c),this._updateTilesForChangedImages();const g=this.sourceCaches[o.source];g&&g.setDependencies(o.tileID.key,o.type,o.icons)}getGlyphs(n,o,c){this.glyphManager.getGlyphs(o.stacks,c)}getResource(n,o,c){return u.makeRequest(o,c)}}ti.getSourceType=function(h){return en[h]},ti.setSourceType=function(h,n){en[h]=n},ti.registerForPluginStateChange=u.registerForPluginStateChange;var Zs=u.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ws={prelude:an(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),background:an(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:an(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:an(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:an("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:an(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:an(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:an("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:an("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:an("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fill:an(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:an(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:an(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:an(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:an(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:an(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:an(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:an(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:an(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),lineGradient:an(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),linePattern:an(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:an(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:an(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:an(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),symbolSDF:an(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:an(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`)};function an(h,n){const o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,c=n.match(/attribute ([\w]+) ([\w]+)/g),g=h.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),y=n.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=y?y.concat(g):g,S={};return{fragmentSource:h=h.replace(o,(E,C,z,L,U)=>(S[U]=!0,C==="define"?`
#ifndef HAS_UNIFORM_u_${U}
varying ${z} ${L} ${U};
#else
uniform ${z} ${L} u_${U};
#endif
`:`
#ifdef HAS_UNIFORM_u_${U}
    ${z} ${L} ${U} = u_${U};
#endif
`)),vertexSource:n=n.replace(o,(E,C,z,L,U)=>{const W=L==="float"?"vec2":"vec4",N=U.match(/color/)?"color":W;return S[U]?C==="define"?`
#ifndef HAS_UNIFORM_u_${U}
uniform lowp float u_${U}_t;
attribute ${z} ${W} a_${U};
varying ${z} ${L} ${U};
#else
uniform ${z} ${L} u_${U};
#endif
`:N==="vec4"?`
#ifndef HAS_UNIFORM_u_${U}
    ${U} = a_${U};
#else
    ${z} ${L} ${U} = u_${U};
#endif
`:`
#ifndef HAS_UNIFORM_u_${U}
    ${U} = unpack_mix_${N}(a_${U}, u_${U}_t);
#else
    ${z} ${L} ${U} = u_${U};
#endif
`:C==="define"?`
#ifndef HAS_UNIFORM_u_${U}
uniform lowp float u_${U}_t;
attribute ${z} ${W} a_${U};
#else
uniform ${z} ${L} u_${U};
#endif
`:N==="vec4"?`
#ifndef HAS_UNIFORM_u_${U}
    ${z} ${L} ${U} = a_${U};
#else
    ${z} ${L} ${U} = u_${U};
#endif
`:`
#ifndef HAS_UNIFORM_u_${U}
    ${z} ${L} ${U} = unpack_mix_${N}(a_${U}, u_${U}_t);
#else
    ${z} ${L} ${U} = u_${U};
#endif
`}),staticAttributes:c,staticUniforms:w}}class Pp{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(n,o,c,g,y,w,S,E){this.context=n;let C=this.boundPaintVertexBuffers.length!==g.length;for(let z=0;!C&&z<g.length;z++)this.boundPaintVertexBuffers[z]!==g[z]&&(C=!0);n.extVertexArrayObject&&this.vao&&this.boundProgram===o&&this.boundLayoutVertexBuffer===c&&!C&&this.boundIndexBuffer===y&&this.boundVertexOffset===w&&this.boundDynamicVertexBuffer===S&&this.boundDynamicVertexBuffer2===E?(n.bindVertexArrayOES.set(this.vao),S&&S.bind(),y&&y.dynamicDraw&&y.bind(),E&&E.bind()):this.freshBind(o,c,g,y,w,S,E)}freshBind(n,o,c,g,y,w,S){let E;const C=n.numAttributes,z=this.context,L=z.gl;if(z.extVertexArrayObject)this.vao&&this.destroy(),this.vao=z.extVertexArrayObject.createVertexArrayOES(),z.bindVertexArrayOES.set(this.vao),E=0,this.boundProgram=n,this.boundLayoutVertexBuffer=o,this.boundPaintVertexBuffers=c,this.boundIndexBuffer=g,this.boundVertexOffset=y,this.boundDynamicVertexBuffer=w,this.boundDynamicVertexBuffer2=S;else{E=z.currentNumAttributes||0;for(let U=C;U<E;U++)L.disableVertexAttribArray(U)}o.enableAttributes(L,n);for(const U of c)U.enableAttributes(L,n);w&&w.enableAttributes(L,n),S&&S.enableAttributes(L,n),o.bind(),o.setVertexAttribPointers(L,n,y);for(const U of c)U.bind(),U.setVertexAttribPointers(L,n,y);w&&(w.bind(),w.setVertexAttribPointers(L,n,y)),g&&g.bind(),S&&(S.bind(),S.setVertexAttribPointers(L,n,y)),z.currentNumAttributes=C}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Hs(h){const n=[];for(let o=0;o<h.length;o++){if(h[o]===null)continue;const c=h[o].split(" ");n.push(c.pop())}return n}class Mp{constructor(n,o,c,g,y,w){const S=n.gl;this.program=S.createProgram();const E=Hs(c.staticAttributes),C=g?g.getBinderAttributes():[],z=E.concat(C),L=c.staticUniforms?Hs(c.staticUniforms):[],U=g?g.getBinderUniforms():[],W=L.concat(U),N=[];for(const mt of W)N.indexOf(mt)<0&&N.push(mt);const q=g?g.defines():[];w&&q.push("#define OVERDRAW_INSPECTOR;");const it=q.concat(Ws.prelude.fragmentSource,c.fragmentSource).join(`
`),rt=q.concat(Ws.prelude.vertexSource,c.vertexSource).join(`
`),st=S.createShader(S.FRAGMENT_SHADER);if(S.isContextLost())return void(this.failedToCreate=!0);S.shaderSource(st,it),S.compileShader(st),S.attachShader(this.program,st);const ot=S.createShader(S.VERTEX_SHADER);if(S.isContextLost())return void(this.failedToCreate=!0);S.shaderSource(ot,rt),S.compileShader(ot),S.attachShader(this.program,ot),this.attributes={};const Et={};this.numAttributes=z.length;for(let mt=0;mt<this.numAttributes;mt++)z[mt]&&(S.bindAttribLocation(this.program,mt,z[mt]),this.attributes[z[mt]]=mt);S.linkProgram(this.program),S.deleteShader(ot),S.deleteShader(st);for(let mt=0;mt<N.length;mt++){const xt=N[mt];if(xt&&!Et[xt]){const Mt=S.getUniformLocation(this.program,xt);Mt&&(Et[xt]=Mt)}}this.fixedUniforms=y(n,Et),this.binderUniforms=g?g.getUniforms(n,Et):[]}draw(n,o,c,g,y,w,S,E,C,z,L,U,W,N,q,it){const rt=n.gl;if(this.failedToCreate)return;n.program.set(this.program),n.setDepthMode(c),n.setStencilMode(g),n.setColorMode(y),n.setCullFace(w);for(const ot in this.fixedUniforms)this.fixedUniforms[ot].set(S[ot]);N&&N.setUniforms(n,this.binderUniforms,U,{zoom:W});const st={[rt.LINES]:2,[rt.TRIANGLES]:3,[rt.LINE_STRIP]:1}[o];for(const ot of L.get()){const Et=ot.vaos||(ot.vaos={});(Et[E]||(Et[E]=new Pp)).bind(n,this,C,N?N.getPaintVertexBuffers():[],z,ot.vertexOffset,q,it),rt.drawElements(o,ot.primitiveLength*st,rt.UNSIGNED_SHORT,ot.primitiveOffset*st*2)}}}function Xs(h,n,o){const c=1/Zn(o,1,n.transform.tileZoom),g=Math.pow(2,o.tileID.overscaledZ),y=o.tileSize*Math.pow(2,n.transform.tileZoom)/g,w=y*(o.tileID.canonical.x+o.tileID.wrap*g),S=y*o.tileID.canonical.y;return{u_image:0,u_texsize:o.imageAtlasTexture.size,u_scale:[c,h.fromScale,h.toScale],u_fade:h.t,u_pixel_coord_upper:[w>>16,S>>16],u_pixel_coord_lower:[65535&w,65535&S]}}const Jc=(h,n,o,c)=>{const g=n.style.light,y=g.properties.get("position"),w=[y.x,y.y,y.z],S=function(){var C=new u.ARRAY_TYPE(9);return u.ARRAY_TYPE!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[5]=0,C[6]=0,C[7]=0),C[0]=1,C[4]=1,C[8]=1,C}();g.properties.get("anchor")==="viewport"&&function(C,z){var L=Math.sin(z),U=Math.cos(z);C[0]=U,C[1]=L,C[2]=0,C[3]=-L,C[4]=U,C[5]=0,C[6]=0,C[7]=0,C[8]=1}(S,-n.transform.angle),function(C,z,L){var U=z[0],W=z[1],N=z[2];C[0]=U*L[0]+W*L[3]+N*L[6],C[1]=U*L[1]+W*L[4]+N*L[7],C[2]=U*L[2]+W*L[5]+N*L[8]}(w,w,S);const E=g.properties.get("color");return{u_matrix:h,u_lightpos:w,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[E.r,E.g,E.b],u_vertical_gradient:+o,u_opacity:c}},Ks=(h,n,o,c,g,y,w)=>u.extend(Jc(h,n,o,c),Xs(y,n,w),{u_height_factor:-Math.pow(2,g.overscaledZ)/w.tileSize/8}),Ys=h=>({u_matrix:h}),Js=(h,n,o,c)=>u.extend(Ys(h),Xs(o,n,c)),Qc=(h,n)=>({u_matrix:h,u_world:n}),td=(h,n,o,c,g)=>u.extend(Js(h,n,o,c),{u_world:g}),oa=(h,n,o,c)=>{const g=h.transform;let y,w;if(c.paint.get("circle-pitch-alignment")==="map"){const S=Zn(o,1,g.zoom);y=!0,w=[S,S]}else y=!1,w=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(c.paint.get("circle-pitch-scale")==="map"),u_matrix:h.translatePosMatrix(n.posMatrix,o,c.paint.get("circle-translate"),c.paint.get("circle-translate-anchor")),u_pitch_with_map:+y,u_device_pixel_ratio:h.pixelRatio,u_extrude_scale:w}},Sl=(h,n,o)=>{const c=Zn(o,1,n.zoom),g=Math.pow(2,n.zoom-o.tileID.overscaledZ),y=o.tileID.overscaleFactor();return{u_matrix:h,u_camera_to_center_distance:n.cameraToCenterDistance,u_pixels_to_tile_units:c,u_extrude_scale:[n.pixelsToGLUnits[0]/(c*g),n.pixelsToGLUnits[1]/(c*g)],u_overscale_factor:y}},Fa=(h,n,o=1)=>({u_matrix:h,u_color:n,u_overlay:0,u_overlay_scale:o}),Co=h=>({u_matrix:h}),El=(h,n,o,c)=>({u_matrix:h,u_extrude_scale:Zn(n,1,o),u_intensity:c});function Tl(h,n){const o=Math.pow(2,n.canonical.z),c=n.canonical.y;return[new u.MercatorCoordinate(0,c/o).toLngLat().lat,new u.MercatorCoordinate(0,(c+1)/o).toLngLat().lat]}const Io=(h,n,o)=>{const c=h.transform;return{u_matrix:Qs(h,n,o),u_ratio:1/Zn(n,1,c.zoom),u_device_pixel_ratio:h.pixelRatio,u_units_to_pixels:[1/c.pixelsToGLUnits[0],1/c.pixelsToGLUnits[1]]}},Al=(h,n,o,c)=>u.extend(Io(h,n,o),{u_image:0,u_image_height:c}),Po=(h,n,o,c)=>{const g=h.transform,y=Mo(n,g);return{u_matrix:Qs(h,n,o),u_texsize:n.imageAtlasTexture.size,u_ratio:1/Zn(n,1,g.zoom),u_device_pixel_ratio:h.pixelRatio,u_image:0,u_scale:[y,c.fromScale,c.toScale],u_fade:c.t,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},Un=(h,n,o,c,g)=>{const y=h.lineAtlas,w=Mo(n,h.transform),S=o.layout.get("line-cap")==="round",E=y.getDash(c.from,S),C=y.getDash(c.to,S),z=E.width*g.fromScale,L=C.width*g.toScale;return u.extend(Io(h,n,o),{u_patternscale_a:[w/z,-E.height/2],u_patternscale_b:[w/L,-C.height/2],u_sdfgamma:y.width/(256*Math.min(z,L)*h.pixelRatio)/2,u_image:0,u_tex_y_a:E.y,u_tex_y_b:C.y,u_mix:g.t})};function Mo(h,n){return 1/Zn(h,1,n.tileZoom)}function Qs(h,n,o){return h.translatePosMatrix(n.tileID.posMatrix,n,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"))}const ed=(h,n,o,c,g)=>{return{u_matrix:h,u_tl_parent:n,u_scale_parent:o,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(w=g.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(y=g.paint.get("raster-contrast"),y>0?1/(1-y):1+y),u_spin_weights:nd(g.paint.get("raster-hue-rotate"))};var y,w};function nd(h){h*=Math.PI/180;const n=Math.sin(h),o=Math.cos(h);return[(2*o+1)/3,(-Math.sqrt(3)*n-o+1)/3,(Math.sqrt(3)*n-o+1)/3]}const kl=(h,n,o,c,g,y,w,S,E,C)=>{const z=g.transform;return{u_is_size_zoom_constant:+(h==="constant"||h==="source"),u_is_size_feature_constant:+(h==="constant"||h==="camera"),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:z.cameraToCenterDistance,u_pitch:z.pitch/360*2*Math.PI,u_rotate_symbol:+o,u_aspect_ratio:z.width/z.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:y,u_label_plane_matrix:w,u_coord_matrix:S,u_is_text:+E,u_pitch_with_map:+c,u_texsize:C,u_texture:0}},tu=(h,n,o,c,g,y,w,S,E,C,z)=>{const L=g.transform;return u.extend(kl(h,n,o,c,g,y,w,S,E,C),{u_gamma_scale:c?Math.cos(L._pitch)*L.cameraToCenterDistance:1,u_device_pixel_ratio:g.pixelRatio,u_is_halo:+z})},zp=(h,n,o,c,g,y,w,S,E,C)=>u.extend(tu(h,n,o,c,g,y,w,S,!0,E,!0),{u_texsize_icon:C,u_texture_icon:1}),Dp=(h,n,o)=>({u_matrix:h,u_opacity:n,u_color:o}),eu=(h,n,o,c,g,y)=>u.extend(function(w,S,E,C){const z=E.imageManager.getPattern(w.from.toString()),L=E.imageManager.getPattern(w.to.toString()),{width:U,height:W}=E.imageManager.getPixelSize(),N=Math.pow(2,C.tileID.overscaledZ),q=C.tileSize*Math.pow(2,E.transform.tileZoom)/N,it=q*(C.tileID.canonical.x+C.tileID.wrap*N),rt=q*C.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:z.tl,u_pattern_br_a:z.br,u_pattern_tl_b:L.tl,u_pattern_br_b:L.br,u_texsize:[U,W],u_mix:S.t,u_pattern_size_a:z.displaySize,u_pattern_size_b:L.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/Zn(C,1,E.transform.tileZoom),u_pixel_coord_upper:[it>>16,rt>>16],u_pixel_coord_lower:[65535&it,65535&rt]}}(c,y,o,g),{u_matrix:h,u_opacity:n}),nu={fillExtrusion:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_lightpos:new u.Uniform3f(h,n.u_lightpos),u_lightintensity:new u.Uniform1f(h,n.u_lightintensity),u_lightcolor:new u.Uniform3f(h,n.u_lightcolor),u_vertical_gradient:new u.Uniform1f(h,n.u_vertical_gradient),u_opacity:new u.Uniform1f(h,n.u_opacity)}),fillExtrusionPattern:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_lightpos:new u.Uniform3f(h,n.u_lightpos),u_lightintensity:new u.Uniform1f(h,n.u_lightintensity),u_lightcolor:new u.Uniform3f(h,n.u_lightcolor),u_vertical_gradient:new u.Uniform1f(h,n.u_vertical_gradient),u_height_factor:new u.Uniform1f(h,n.u_height_factor),u_image:new u.Uniform1i(h,n.u_image),u_texsize:new u.Uniform2f(h,n.u_texsize),u_pixel_coord_upper:new u.Uniform2f(h,n.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(h,n.u_pixel_coord_lower),u_scale:new u.Uniform3f(h,n.u_scale),u_fade:new u.Uniform1f(h,n.u_fade),u_opacity:new u.Uniform1f(h,n.u_opacity)}),fill:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix)}),fillPattern:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_image:new u.Uniform1i(h,n.u_image),u_texsize:new u.Uniform2f(h,n.u_texsize),u_pixel_coord_upper:new u.Uniform2f(h,n.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(h,n.u_pixel_coord_lower),u_scale:new u.Uniform3f(h,n.u_scale),u_fade:new u.Uniform1f(h,n.u_fade)}),fillOutline:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_world:new u.Uniform2f(h,n.u_world)}),fillOutlinePattern:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_world:new u.Uniform2f(h,n.u_world),u_image:new u.Uniform1i(h,n.u_image),u_texsize:new u.Uniform2f(h,n.u_texsize),u_pixel_coord_upper:new u.Uniform2f(h,n.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(h,n.u_pixel_coord_lower),u_scale:new u.Uniform3f(h,n.u_scale),u_fade:new u.Uniform1f(h,n.u_fade)}),circle:(h,n)=>({u_camera_to_center_distance:new u.Uniform1f(h,n.u_camera_to_center_distance),u_scale_with_map:new u.Uniform1i(h,n.u_scale_with_map),u_pitch_with_map:new u.Uniform1i(h,n.u_pitch_with_map),u_extrude_scale:new u.Uniform2f(h,n.u_extrude_scale),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_matrix:new u.UniformMatrix4f(h,n.u_matrix)}),collisionBox:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_camera_to_center_distance:new u.Uniform1f(h,n.u_camera_to_center_distance),u_pixels_to_tile_units:new u.Uniform1f(h,n.u_pixels_to_tile_units),u_extrude_scale:new u.Uniform2f(h,n.u_extrude_scale),u_overscale_factor:new u.Uniform1f(h,n.u_overscale_factor)}),collisionCircle:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_inv_matrix:new u.UniformMatrix4f(h,n.u_inv_matrix),u_camera_to_center_distance:new u.Uniform1f(h,n.u_camera_to_center_distance),u_viewport_size:new u.Uniform2f(h,n.u_viewport_size)}),debug:(h,n)=>({u_color:new u.UniformColor(h,n.u_color),u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_overlay:new u.Uniform1i(h,n.u_overlay),u_overlay_scale:new u.Uniform1f(h,n.u_overlay_scale)}),clippingMask:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix)}),heatmap:(h,n)=>({u_extrude_scale:new u.Uniform1f(h,n.u_extrude_scale),u_intensity:new u.Uniform1f(h,n.u_intensity),u_matrix:new u.UniformMatrix4f(h,n.u_matrix)}),heatmapTexture:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_world:new u.Uniform2f(h,n.u_world),u_image:new u.Uniform1i(h,n.u_image),u_color_ramp:new u.Uniform1i(h,n.u_color_ramp),u_opacity:new u.Uniform1f(h,n.u_opacity)}),hillshade:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_image:new u.Uniform1i(h,n.u_image),u_latrange:new u.Uniform2f(h,n.u_latrange),u_light:new u.Uniform2f(h,n.u_light),u_shadow:new u.UniformColor(h,n.u_shadow),u_highlight:new u.UniformColor(h,n.u_highlight),u_accent:new u.UniformColor(h,n.u_accent)}),hillshadePrepare:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_image:new u.Uniform1i(h,n.u_image),u_dimension:new u.Uniform2f(h,n.u_dimension),u_zoom:new u.Uniform1f(h,n.u_zoom),u_unpack:new u.Uniform4f(h,n.u_unpack)}),line:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_ratio:new u.Uniform1f(h,n.u_ratio),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(h,n.u_units_to_pixels)}),lineGradient:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_ratio:new u.Uniform1f(h,n.u_ratio),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(h,n.u_units_to_pixels),u_image:new u.Uniform1i(h,n.u_image),u_image_height:new u.Uniform1f(h,n.u_image_height)}),linePattern:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_texsize:new u.Uniform2f(h,n.u_texsize),u_ratio:new u.Uniform1f(h,n.u_ratio),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_image:new u.Uniform1i(h,n.u_image),u_units_to_pixels:new u.Uniform2f(h,n.u_units_to_pixels),u_scale:new u.Uniform3f(h,n.u_scale),u_fade:new u.Uniform1f(h,n.u_fade)}),lineSDF:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_ratio:new u.Uniform1f(h,n.u_ratio),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_units_to_pixels:new u.Uniform2f(h,n.u_units_to_pixels),u_patternscale_a:new u.Uniform2f(h,n.u_patternscale_a),u_patternscale_b:new u.Uniform2f(h,n.u_patternscale_b),u_sdfgamma:new u.Uniform1f(h,n.u_sdfgamma),u_image:new u.Uniform1i(h,n.u_image),u_tex_y_a:new u.Uniform1f(h,n.u_tex_y_a),u_tex_y_b:new u.Uniform1f(h,n.u_tex_y_b),u_mix:new u.Uniform1f(h,n.u_mix)}),raster:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_tl_parent:new u.Uniform2f(h,n.u_tl_parent),u_scale_parent:new u.Uniform1f(h,n.u_scale_parent),u_buffer_scale:new u.Uniform1f(h,n.u_buffer_scale),u_fade_t:new u.Uniform1f(h,n.u_fade_t),u_opacity:new u.Uniform1f(h,n.u_opacity),u_image0:new u.Uniform1i(h,n.u_image0),u_image1:new u.Uniform1i(h,n.u_image1),u_brightness_low:new u.Uniform1f(h,n.u_brightness_low),u_brightness_high:new u.Uniform1f(h,n.u_brightness_high),u_saturation_factor:new u.Uniform1f(h,n.u_saturation_factor),u_contrast_factor:new u.Uniform1f(h,n.u_contrast_factor),u_spin_weights:new u.Uniform3f(h,n.u_spin_weights)}),symbolIcon:(h,n)=>({u_is_size_zoom_constant:new u.Uniform1i(h,n.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(h,n.u_is_size_feature_constant),u_size_t:new u.Uniform1f(h,n.u_size_t),u_size:new u.Uniform1f(h,n.u_size),u_camera_to_center_distance:new u.Uniform1f(h,n.u_camera_to_center_distance),u_pitch:new u.Uniform1f(h,n.u_pitch),u_rotate_symbol:new u.Uniform1i(h,n.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(h,n.u_aspect_ratio),u_fade_change:new u.Uniform1f(h,n.u_fade_change),u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(h,n.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(h,n.u_coord_matrix),u_is_text:new u.Uniform1i(h,n.u_is_text),u_pitch_with_map:new u.Uniform1i(h,n.u_pitch_with_map),u_texsize:new u.Uniform2f(h,n.u_texsize),u_texture:new u.Uniform1i(h,n.u_texture)}),symbolSDF:(h,n)=>({u_is_size_zoom_constant:new u.Uniform1i(h,n.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(h,n.u_is_size_feature_constant),u_size_t:new u.Uniform1f(h,n.u_size_t),u_size:new u.Uniform1f(h,n.u_size),u_camera_to_center_distance:new u.Uniform1f(h,n.u_camera_to_center_distance),u_pitch:new u.Uniform1f(h,n.u_pitch),u_rotate_symbol:new u.Uniform1i(h,n.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(h,n.u_aspect_ratio),u_fade_change:new u.Uniform1f(h,n.u_fade_change),u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(h,n.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(h,n.u_coord_matrix),u_is_text:new u.Uniform1i(h,n.u_is_text),u_pitch_with_map:new u.Uniform1i(h,n.u_pitch_with_map),u_texsize:new u.Uniform2f(h,n.u_texsize),u_texture:new u.Uniform1i(h,n.u_texture),u_gamma_scale:new u.Uniform1f(h,n.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(h,n.u_is_halo)}),symbolTextAndIcon:(h,n)=>({u_is_size_zoom_constant:new u.Uniform1i(h,n.u_is_size_zoom_constant),u_is_size_feature_constant:new u.Uniform1i(h,n.u_is_size_feature_constant),u_size_t:new u.Uniform1f(h,n.u_size_t),u_size:new u.Uniform1f(h,n.u_size),u_camera_to_center_distance:new u.Uniform1f(h,n.u_camera_to_center_distance),u_pitch:new u.Uniform1f(h,n.u_pitch),u_rotate_symbol:new u.Uniform1i(h,n.u_rotate_symbol),u_aspect_ratio:new u.Uniform1f(h,n.u_aspect_ratio),u_fade_change:new u.Uniform1f(h,n.u_fade_change),u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_label_plane_matrix:new u.UniformMatrix4f(h,n.u_label_plane_matrix),u_coord_matrix:new u.UniformMatrix4f(h,n.u_coord_matrix),u_is_text:new u.Uniform1i(h,n.u_is_text),u_pitch_with_map:new u.Uniform1i(h,n.u_pitch_with_map),u_texsize:new u.Uniform2f(h,n.u_texsize),u_texsize_icon:new u.Uniform2f(h,n.u_texsize_icon),u_texture:new u.Uniform1i(h,n.u_texture),u_texture_icon:new u.Uniform1i(h,n.u_texture_icon),u_gamma_scale:new u.Uniform1f(h,n.u_gamma_scale),u_device_pixel_ratio:new u.Uniform1f(h,n.u_device_pixel_ratio),u_is_halo:new u.Uniform1i(h,n.u_is_halo)}),background:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_opacity:new u.Uniform1f(h,n.u_opacity),u_color:new u.UniformColor(h,n.u_color)}),backgroundPattern:(h,n)=>({u_matrix:new u.UniformMatrix4f(h,n.u_matrix),u_opacity:new u.Uniform1f(h,n.u_opacity),u_image:new u.Uniform1i(h,n.u_image),u_pattern_tl_a:new u.Uniform2f(h,n.u_pattern_tl_a),u_pattern_br_a:new u.Uniform2f(h,n.u_pattern_br_a),u_pattern_tl_b:new u.Uniform2f(h,n.u_pattern_tl_b),u_pattern_br_b:new u.Uniform2f(h,n.u_pattern_br_b),u_texsize:new u.Uniform2f(h,n.u_texsize),u_mix:new u.Uniform1f(h,n.u_mix),u_pattern_size_a:new u.Uniform2f(h,n.u_pattern_size_a),u_pattern_size_b:new u.Uniform2f(h,n.u_pattern_size_b),u_scale_a:new u.Uniform1f(h,n.u_scale_a),u_scale_b:new u.Uniform1f(h,n.u_scale_b),u_pixel_coord_upper:new u.Uniform2f(h,n.u_pixel_coord_upper),u_pixel_coord_lower:new u.Uniform2f(h,n.u_pixel_coord_lower),u_tile_units_to_pixels:new u.Uniform1f(h,n.u_tile_units_to_pixels)})};class iu{constructor(n,o,c){this.context=n;const g=n.gl;this.buffer=g.createBuffer(),this.dynamicDraw=Boolean(c),this.context.unbindVAO(),n.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(n){const o=this.context.gl;this.context.unbindVAO(),this.bind(),o.bufferSubData(o.ELEMENT_ARRAY_BUFFER,0,n.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ru={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class id{constructor(n,o,c,g){this.length=o.length,this.attributes=c,this.itemSize=o.bytesPerElement,this.dynamicDraw=g,this.context=n;const y=n.gl;this.buffer=y.createBuffer(),n.bindVertexBuffer.set(this.buffer),y.bufferData(y.ARRAY_BUFFER,o.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete o.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(n){const o=this.context.gl;this.bind(),o.bufferSubData(o.ARRAY_BUFFER,0,n.arrayBuffer)}enableAttributes(n,o){for(let c=0;c<this.attributes.length;c++){const g=o.attributes[this.attributes[c].name];g!==void 0&&n.enableVertexAttribArray(g)}}setVertexAttribPointers(n,o,c){for(let g=0;g<this.attributes.length;g++){const y=this.attributes[g],w=o.attributes[y.name];w!==void 0&&n.vertexAttribPointer(w,y.components,n[ru[y.type]],!1,this.itemSize,y.offset+this.itemSize*(c||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ge{constructor(n){this.gl=n.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(n){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Lp extends Ge{getDefault(){return u.Color.transparent}set(n){const o=this.current;(n.r!==o.r||n.g!==o.g||n.b!==o.b||n.a!==o.a||this.dirty)&&(this.gl.clearColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class zo extends Ge{getDefault(){return 1}set(n){(n!==this.current||this.dirty)&&(this.gl.clearDepth(n),this.current=n,this.dirty=!1)}}class Do extends Ge{getDefault(){return 0}set(n){(n!==this.current||this.dirty)&&(this.gl.clearStencil(n),this.current=n,this.dirty=!1)}}class rd extends Ge{getDefault(){return[!0,!0,!0,!0]}set(n){const o=this.current;(n[0]!==o[0]||n[1]!==o[1]||n[2]!==o[2]||n[3]!==o[3]||this.dirty)&&(this.gl.colorMask(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class Fi extends Ge{getDefault(){return!0}set(n){(n!==this.current||this.dirty)&&(this.gl.depthMask(n),this.current=n,this.dirty=!1)}}class au extends Ge{getDefault(){return 255}set(n){(n!==this.current||this.dirty)&&(this.gl.stencilMask(n),this.current=n,this.dirty=!1)}}class Cl extends Ge{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(n){const o=this.current;(n.func!==o.func||n.ref!==o.ref||n.mask!==o.mask||this.dirty)&&(this.gl.stencilFunc(n.func,n.ref,n.mask),this.current=n,this.dirty=!1)}}class Il extends Ge{getDefault(){const n=this.gl;return[n.KEEP,n.KEEP,n.KEEP]}set(n){const o=this.current;(n[0]!==o[0]||n[1]!==o[1]||n[2]!==o[2]||this.dirty)&&(this.gl.stencilOp(n[0],n[1],n[2]),this.current=n,this.dirty=!1)}}class ou extends Ge{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;n?o.enable(o.STENCIL_TEST):o.disable(o.STENCIL_TEST),this.current=n,this.dirty=!1}}class lu extends Ge{getDefault(){return[0,1]}set(n){const o=this.current;(n[0]!==o[0]||n[1]!==o[1]||this.dirty)&&(this.gl.depthRange(n[0],n[1]),this.current=n,this.dirty=!1)}}class Pl extends Ge{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;n?o.enable(o.DEPTH_TEST):o.disable(o.DEPTH_TEST),this.current=n,this.dirty=!1}}class su extends Ge{getDefault(){return this.gl.LESS}set(n){(n!==this.current||this.dirty)&&(this.gl.depthFunc(n),this.current=n,this.dirty=!1)}}class uu extends Ge{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;n?o.enable(o.BLEND):o.disable(o.BLEND),this.current=n,this.dirty=!1}}class Ml extends Ge{getDefault(){const n=this.gl;return[n.ONE,n.ZERO]}set(n){const o=this.current;(n[0]!==o[0]||n[1]!==o[1]||this.dirty)&&(this.gl.blendFunc(n[0],n[1]),this.current=n,this.dirty=!1)}}class ad extends Ge{getDefault(){return u.Color.transparent}set(n){const o=this.current;(n.r!==o.r||n.g!==o.g||n.b!==o.b||n.a!==o.a||this.dirty)&&(this.gl.blendColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class od extends Ge{getDefault(){return this.gl.FUNC_ADD}set(n){(n!==this.current||this.dirty)&&(this.gl.blendEquation(n),this.current=n,this.dirty=!1)}}class Ba extends Ge{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;n?o.enable(o.CULL_FACE):o.disable(o.CULL_FACE),this.current=n,this.dirty=!1}}class Rp extends Ge{getDefault(){return this.gl.BACK}set(n){(n!==this.current||this.dirty)&&(this.gl.cullFace(n),this.current=n,this.dirty=!1)}}class Fp extends Ge{getDefault(){return this.gl.CCW}set(n){(n!==this.current||this.dirty)&&(this.gl.frontFace(n),this.current=n,this.dirty=!1)}}class Bp extends Ge{getDefault(){return null}set(n){(n!==this.current||this.dirty)&&(this.gl.useProgram(n),this.current=n,this.dirty=!1)}}class Op extends Ge{getDefault(){return this.gl.TEXTURE0}set(n){(n!==this.current||this.dirty)&&(this.gl.activeTexture(n),this.current=n,this.dirty=!1)}}class Up extends Ge{getDefault(){const n=this.gl;return[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}set(n){const o=this.current;(n[0]!==o[0]||n[1]!==o[1]||n[2]!==o[2]||n[3]!==o[3]||this.dirty)&&(this.gl.viewport(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class Np extends Ge{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,n),this.current=n,this.dirty=!1}}class cu extends Ge{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.bindRenderbuffer(o.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class du extends Ge{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.bindTexture(o.TEXTURE_2D,n),this.current=n,this.dirty=!1}}class Oa extends Ge{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class ld extends Ge{getDefault(){return null}set(n){const o=this.gl;o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class sd extends Ge{constructor(n){super(n),this.vao=n.extVertexArrayObject}getDefault(){return null}set(n){this.vao&&(n!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(n),this.current=n,this.dirty=!1)}}class hu extends Ge{getDefault(){return 4}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_ALIGNMENT,n),this.current=n,this.dirty=!1}}class la extends Ge{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n),this.current=n,this.dirty=!1}}class ud extends Ge{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const o=this.gl;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,n),this.current=n,this.dirty=!1}}class sa extends Ge{constructor(n,o){super(n),this.context=n,this.parent=o}getDefault(){return null}}class Ua extends sa{setDirty(){this.dirty=!0}set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0),this.current=n,this.dirty=!1}}class cd extends sa{set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const o=this.gl;o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class pu{constructor(n,o,c,g){this.context=n,this.width=o,this.height=c;const y=this.framebuffer=n.gl.createFramebuffer();this.colorAttachment=new Ua(n,y),g&&(this.depthAttachment=new cd(n,y))}destroy(){const n=this.context.gl,o=this.colorAttachment.get();if(o&&n.deleteTexture(o),this.depthAttachment){const c=this.depthAttachment.get();c&&n.deleteRenderbuffer(c)}n.deleteFramebuffer(this.framebuffer)}}class ve{constructor(n,o,c){this.blendFunction=n,this.blendColor=o,this.mask=c}}ve.Replace=[1,0],ve.disabled=new ve(ve.Replace,u.Color.transparent,[!1,!1,!1,!1]),ve.unblended=new ve(ve.Replace,u.Color.transparent,[!0,!0,!0,!0]),ve.alphaBlended=new ve([1,771],u.Color.transparent,[!0,!0,!0,!0]);class zl{constructor(n){this.gl=n,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Lp(this),this.clearDepth=new zo(this),this.clearStencil=new Do(this),this.colorMask=new rd(this),this.depthMask=new Fi(this),this.stencilMask=new au(this),this.stencilFunc=new Cl(this),this.stencilOp=new Il(this),this.stencilTest=new ou(this),this.depthRange=new lu(this),this.depthTest=new Pl(this),this.depthFunc=new su(this),this.blend=new uu(this),this.blendFunc=new Ml(this),this.blendColor=new ad(this),this.blendEquation=new od(this),this.cullFace=new Ba(this),this.cullFaceSide=new Rp(this),this.frontFace=new Fp(this),this.program=new Bp(this),this.activeTexture=new Op(this),this.viewport=new Up(this),this.bindFramebuffer=new Np(this),this.bindRenderbuffer=new cu(this),this.bindTexture=new du(this),this.bindVertexBuffer=new Oa(this),this.bindElementBuffer=new ld(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new sd(this),this.pixelStoreUnpack=new hu(this),this.pixelStoreUnpackPremultiplyAlpha=new la(this),this.pixelStoreUnpackFlipY=new ud(this),this.extTextureFilterAnisotropic=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=n.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=n.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(n.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=n.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=n.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(n,o){return new iu(this,n,o)}createVertexBuffer(n,o,c){return new id(this,n,o,c)}createRenderbuffer(n,o,c){const g=this.gl,y=g.createRenderbuffer();return this.bindRenderbuffer.set(y),g.renderbufferStorage(g.RENDERBUFFER,n,o,c),this.bindRenderbuffer.set(null),y}createFramebuffer(n,o,c){return new pu(this,n,o,c)}clear({color:n,depth:o}){const c=this.gl;let g=0;n&&(g|=c.COLOR_BUFFER_BIT,this.clearColor.set(n),this.colorMask.set([!0,!0,!0,!0])),o!==void 0&&(g|=c.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(o),this.depthMask.set(!0)),c.clear(g)}setCullFace(n){n.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(n.mode),this.frontFace.set(n.frontFace))}setDepthMode(n){n.func!==this.gl.ALWAYS||n.mask?(this.depthTest.set(!0),this.depthFunc.set(n.func),this.depthMask.set(n.mask),this.depthRange.set(n.range)):this.depthTest.set(!1)}setStencilMode(n){n.test.func!==this.gl.ALWAYS||n.mask?(this.stencilTest.set(!0),this.stencilMask.set(n.mask),this.stencilOp.set([n.fail,n.depthFail,n.pass]),this.stencilFunc.set({func:n.test.func,ref:n.ref,mask:n.test.mask})):this.stencilTest.set(!1)}setColorMode(n){gt(n.blendFunction,ve.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Xe{constructor(n,o,c){this.func=n,this.mask=o,this.range=c}}Xe.ReadOnly=!1,Xe.ReadWrite=!0,Xe.disabled=new Xe(519,Xe.ReadOnly,[0,1]);const Dl=7680;class hn{constructor(n,o,c,g,y,w){this.test=n,this.ref=o,this.mask=c,this.fail=g,this.depthFail=y,this.pass=w}}hn.disabled=new hn({func:519,mask:0},0,0,Dl,Dl,Dl);class zn{constructor(n,o,c){this.enable=n,this.mode=o,this.frontFace=c}}let Ll;function gu(h,n,o,c,g,y,w){const S=h.context,E=S.gl,C=h.useProgram("collisionBox"),z=[];let L=0,U=0;for(let ot=0;ot<c.length;ot++){const Et=c[ot],mt=n.getTile(Et),xt=mt.getBucket(o);if(!xt)continue;let Mt=Et.posMatrix;g[0]===0&&g[1]===0||(Mt=h.translatePosMatrix(Et.posMatrix,mt,g,y));const Rt=w?xt.textCollisionBox:xt.iconCollisionBox,St=xt.collisionCircleArray;if(St.length>0){const te=u.create(),Gt=Mt;u.mul(te,xt.placementInvProjMatrix,h.transform.glCoordMatrix),u.mul(te,te,xt.placementViewportMatrix),z.push({circleArray:St,circleOffset:U,transform:Gt,invTransform:te}),L+=St.length/4,U=L}Rt&&C.draw(S,E.LINES,Xe.disabled,hn.disabled,h.colorModeForRenderPass(),zn.disabled,Sl(Mt,h.transform,mt),o.id,Rt.layoutVertexBuffer,Rt.indexBuffer,Rt.segments,null,h.transform.zoom,null,null,Rt.collisionVertexBuffer)}if(!w||!z.length)return;const W=h.useProgram("collisionCircle"),N=new u.CollisionCircleLayoutArray;N.resize(4*L),N._trim();let q=0;for(const ot of z)for(let Et=0;Et<ot.circleArray.length/4;Et++){const mt=4*Et,xt=ot.circleArray[mt+0],Mt=ot.circleArray[mt+1],Rt=ot.circleArray[mt+2],St=ot.circleArray[mt+3];N.emplace(q++,xt,Mt,Rt,St,0),N.emplace(q++,xt,Mt,Rt,St,1),N.emplace(q++,xt,Mt,Rt,St,2),N.emplace(q++,xt,Mt,Rt,St,3)}(!Ll||Ll.length<2*L)&&(Ll=function(ot){const Et=2*ot,mt=new u.QuadTriangleArray;mt.resize(Et),mt._trim();for(let xt=0;xt<Et;xt++){const Mt=6*xt;mt.uint16[Mt+0]=4*xt+0,mt.uint16[Mt+1]=4*xt+1,mt.uint16[Mt+2]=4*xt+2,mt.uint16[Mt+3]=4*xt+2,mt.uint16[Mt+4]=4*xt+3,mt.uint16[Mt+5]=4*xt+0}return mt}(L));const it=S.createIndexBuffer(Ll,!0),rt=S.createVertexBuffer(N,u.collisionCircleLayout.members,!0);for(const ot of z){const Et={u_matrix:ot.transform,u_inv_matrix:ot.invTransform,u_camera_to_center_distance:(st=h.transform).cameraToCenterDistance,u_viewport_size:[st.width,st.height]};W.draw(S,E.TRIANGLES,Xe.disabled,hn.disabled,h.colorModeForRenderPass(),zn.disabled,Et,o.id,rt,it,u.SegmentVector.simpleSegment(0,2*ot.circleOffset,ot.circleArray.length,ot.circleArray.length/2),null,h.transform.zoom,null,null,null)}var st;rt.destroy(),it.destroy()}zn.disabled=new zn(!1,1029,2305),zn.backCCW=new zn(!0,1029,2305);const Vp=u.identity(new Float32Array(16));function fu(h,n,o,c,g,y){const{horizontalAlign:w,verticalAlign:S}=u.getAnchorAlignment(h),E=-(w-.5)*n,C=-(S-.5)*o,z=u.evaluateVariableOffset(h,c);return new u.pointGeometry((E/g+z[0])*y,(C/g+z[1])*y)}function Rl(h,n,o,c,g,y,w,S,E,C){const z=h.text.placedSymbolArray,L=h.text.dynamicLayoutVertexArray,U=h.icon.dynamicLayoutVertexArray,W={};L.clear();for(let N=0;N<z.length;N++){const q=z.get(N),it=h.allowVerticalPlacement&&!q.placedOrientation,rt=q.hidden||!q.crossTileID||it?null:c[q.crossTileID];if(rt){const st=new u.pointGeometry(q.anchorX,q.anchorY),ot=cn(st,o?w:y),Et=Ut(g.cameraToCenterDistance,ot.signedDistanceFromCamera);let mt=u.evaluateSizeForFeature(h.textSizeData,E,q)*Et/u.ONE_EM;o&&(mt*=h.tilePixelRatio/S);const{width:xt,height:Mt,anchor:Rt,textOffset:St,textBoxScale:te}=rt,Gt=fu(Rt,xt,Mt,St,te,mt),fe=o?cn(st.add(Gt),y).point:ot.point.add(n?Gt.rotate(-g.angle):Gt),Oe=h.allowVerticalPlacement&&q.placedOrientation===u.WritingMode.vertical?Math.PI/2:0;for(let Me=0;Me<q.numGlyphs;Me++)u.addDynamicAttributes(L,fe,Oe);C&&q.associatedIconIndex>=0&&(W[q.associatedIconIndex]={shiftedAnchor:fe,angle:Oe})}else On(q.numGlyphs,L)}if(C){U.clear();const N=h.icon.placedSymbolArray;for(let q=0;q<N.length;q++){const it=N.get(q);if(it.hidden)On(it.numGlyphs,U);else{const rt=W[q];if(rt)for(let st=0;st<it.numGlyphs;st++)u.addDynamicAttributes(U,rt.shiftedAnchor,rt.angle);else On(it.numGlyphs,U)}}h.icon.dynamicLayoutVertexBuffer.updateData(U)}h.text.dynamicLayoutVertexBuffer.updateData(L)}function Fl(h,n,o){return o.iconsInText&&n?"symbolTextAndIcon":h?"symbolSDF":"symbolIcon"}function Bl(h,n,o,c,g,y,w,S,E,C,z,L){const U=h.context,W=U.gl,N=h.transform,q=S==="map",it=E==="map",rt=S!=="viewport"&&o.layout.get("symbol-placement")!=="point",st=q&&!it&&!rt,ot=!o.layout.get("symbol-sort-key").isConstant();let Et=!1;const mt=h.depthModeForSublayer(0,Xe.ReadOnly),xt=o.layout.get("text-variable-anchor"),Mt=[];for(const Rt of c){const St=n.getTile(Rt),te=St.getBucket(o);if(!te)continue;const Gt=g?te.text:te.icon;if(!Gt||!Gt.segments.get().length)continue;const fe=Gt.programConfigurations.get(o.id),Oe=g||te.sdfIcons,Me=g?te.textSizeData:te.iconSizeData,Re=it||N.pitch!==0,An=h.useProgram(Fl(Oe,g,te),fe),_e=u.evaluateSizeForZoom(Me,N.zoom);let Ve,Je,ei,Oi,Yi=[0,0],Ji=null;if(g){if(Je=St.glyphAtlasTexture,ei=W.LINEAR,Ve=St.glyphAtlasTexture.size,te.iconsInText){Yi=St.imageAtlasTexture.size,Ji=St.imageAtlasTexture;const wr=Me.kind==="composite"||Me.kind==="camera";Oi=Re||h.options.rotating||h.options.zooming||wr?W.LINEAR:W.NEAREST}}else{const wr=o.layout.get("icon-size").constantOr(0)!==1||te.iconsNeedLinear;Je=St.imageAtlasTexture,ei=Oe||h.options.rotating||h.options.zooming||wr||Re?W.LINEAR:W.NEAREST,Ve=St.imageAtlasTexture.size}const Hr=Zn(St,1,h.transform.zoom),Ii=pi(Rt.posMatrix,it,q,h.transform,Hr),xr=ia(Rt.posMatrix,it,q,h.transform,Hr),ga=xt&&te.hasTextData(),Ui=o.layout.get("icon-text-fit")!=="none"&&ga&&te.hasIconData();if(rt){const wr=o.layout.get("text-rotation-alignment")==="map";be(te,Rt.posMatrix,h,g,Ii,xr,it,C,wr)}const je=h.translatePosMatrix(Rt.posMatrix,St,y,w),Ze=rt||g&&xt||Ui?Vp:Ii,Nn=h.translatePosMatrix(xr,St,y,w,!0),fi=Oe&&o.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let gn;gn=Oe?te.iconsInText?zp(Me.kind,_e,st,it,h,je,Ze,Nn,Ve,Yi):tu(Me.kind,_e,st,it,h,je,Ze,Nn,g,Ve,!0):kl(Me.kind,_e,st,it,h,je,Ze,Nn,g,Ve);const fa={program:An,buffers:Gt,uniformValues:gn,atlasTexture:Je,atlasTextureIcon:Ji,atlasInterpolation:ei,atlasInterpolationIcon:Oi,isSDF:Oe,hasHalo:fi};if(ot&&te.canOverlap){Et=!0;const wr=Gt.segments.get();for(const Kl of wr)Mt.push({segments:new u.SegmentVector([Kl]),sortKey:Kl.sortKey,state:fa})}else Mt.push({segments:Gt.segments,sortKey:0,state:fa})}Et&&Mt.sort((Rt,St)=>Rt.sortKey-St.sortKey);for(const Rt of Mt){const St=Rt.state;if(U.activeTexture.set(W.TEXTURE0),St.atlasTexture.bind(St.atlasInterpolation,W.CLAMP_TO_EDGE),St.atlasTextureIcon&&(U.activeTexture.set(W.TEXTURE1),St.atlasTextureIcon&&St.atlasTextureIcon.bind(St.atlasInterpolationIcon,W.CLAMP_TO_EDGE)),St.isSDF){const te=St.uniformValues;St.hasHalo&&(te.u_is_halo=1,Ol(St.buffers,Rt.segments,o,h,St.program,mt,z,L,te)),te.u_is_halo=0}Ol(St.buffers,Rt.segments,o,h,St.program,mt,z,L,St.uniformValues)}}function Ol(h,n,o,c,g,y,w,S,E){const C=c.context;g.draw(C,C.gl.TRIANGLES,y,w,S,zn.disabled,E,o.id,h.layoutVertexBuffer,h.indexBuffer,n,o.paint,c.transform.zoom,h.programConfigurations.get(o.id),h.dynamicLayoutVertexBuffer,h.opacityVertexBuffer)}function mu(h,n,o,c,g,y,w){const S=h.context.gl,E=o.paint.get("fill-pattern"),C=E&&E.constantOr(1),z=o.getCrossfadeParameters();let L,U,W,N,q;w?(U=C&&!o.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",L=S.LINES):(U=C?"fillPattern":"fill",L=S.TRIANGLES);for(const it of c){const rt=n.getTile(it);if(C&&!rt.patternsLoaded())continue;const st=rt.getBucket(o);if(!st)continue;const ot=st.programConfigurations.get(o.id),Et=h.useProgram(U,ot);C&&(h.context.activeTexture.set(S.TEXTURE0),rt.imageAtlasTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),ot.updatePaintBuffers(z));const mt=E.constantOr(null);if(mt&&rt.imageAtlas){const Mt=rt.imageAtlas,Rt=Mt.patternPositions[mt.to.toString()],St=Mt.patternPositions[mt.from.toString()];Rt&&St&&ot.setConstantPatternPositions(Rt,St)}const xt=h.translatePosMatrix(it.posMatrix,rt,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"));if(w){N=st.indexBuffer2,q=st.segments2;const Mt=[S.drawingBufferWidth,S.drawingBufferHeight];W=U==="fillOutlinePattern"&&C?td(xt,h,z,rt,Mt):Qc(xt,Mt)}else N=st.indexBuffer,q=st.segments,W=C?Js(xt,h,z,rt):Ys(xt);Et.draw(h.context,L,g,h.stencilModeForClipping(it),y,zn.disabled,W,o.id,st.layoutVertexBuffer,N,q,o.paint,h.transform.zoom,ot)}}function Na(h,n,o,c,g,y,w){const S=h.context,E=S.gl,C=o.paint.get("fill-extrusion-pattern"),z=C.constantOr(1),L=o.getCrossfadeParameters(),U=o.paint.get("fill-extrusion-opacity");for(const W of c){const N=n.getTile(W),q=N.getBucket(o);if(!q)continue;const it=q.programConfigurations.get(o.id),rt=h.useProgram(z?"fillExtrusionPattern":"fillExtrusion",it);z&&(h.context.activeTexture.set(E.TEXTURE0),N.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),it.updatePaintBuffers(L));const st=C.constantOr(null);if(st&&N.imageAtlas){const xt=N.imageAtlas,Mt=xt.patternPositions[st.to.toString()],Rt=xt.patternPositions[st.from.toString()];Mt&&Rt&&it.setConstantPatternPositions(Mt,Rt)}const ot=h.translatePosMatrix(W.posMatrix,N,o.paint.get("fill-extrusion-translate"),o.paint.get("fill-extrusion-translate-anchor")),Et=o.paint.get("fill-extrusion-vertical-gradient"),mt=z?Ks(ot,h,Et,U,W,L,N):Jc(ot,h,Et,U);rt.draw(S,S.gl.TRIANGLES,g,y,w,zn.backCCW,mt,o.id,q.layoutVertexBuffer,q.indexBuffer,q.segments,o.paint,h.transform.zoom,it)}}function Ul(h,n,o,c,g,y){const w=h.context,S=w.gl,E=n.fbo;if(!E)return;const C=h.useProgram("hillshade");w.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,E.colorAttachment.get());const z=((L,U,W)=>{const N=W.paint.get("hillshade-shadow-color"),q=W.paint.get("hillshade-highlight-color"),it=W.paint.get("hillshade-accent-color");let rt=W.paint.get("hillshade-illumination-direction")*(Math.PI/180);W.paint.get("hillshade-illumination-anchor")==="viewport"&&(rt-=L.transform.angle);const st=!L.options.moving;return{u_matrix:L.transform.calculatePosMatrix(U.tileID.toUnwrapped(),st),u_image:0,u_latrange:Tl(0,U.tileID),u_light:[W.paint.get("hillshade-exaggeration"),rt],u_shadow:N,u_highlight:q,u_accent:it}})(h,n,o);C.draw(w,S.TRIANGLES,c,g,y,zn.disabled,z,o.id,h.rasterBoundsBuffer,h.quadTriangleIndexBuffer,h.rasterBoundsSegments)}function ur(h,n,o,c,g,y){const w=h.context,S=w.gl,E=n.dem;if(E&&E.data){const C=E.dim,z=E.stride,L=E.getPixels();if(w.activeTexture.set(S.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||h.getTileTexture(z),n.demTexture){const W=n.demTexture;W.update(L,{premultiply:!1}),W.bind(S.NEAREST,S.CLAMP_TO_EDGE)}else n.demTexture=new ut(w,L,S.RGBA,{premultiply:!1}),n.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE);w.activeTexture.set(S.TEXTURE0);let U=n.fbo;if(!U){const W=new ut(w,{width:C,height:C,data:null},S.RGBA);W.bind(S.LINEAR,S.CLAMP_TO_EDGE),U=n.fbo=w.createFramebuffer(C,C,!0),U.colorAttachment.set(W.texture)}w.bindFramebuffer.set(U.framebuffer),w.viewport.set([0,0,C,C]),h.useProgram("hillshadePrepare").draw(w,S.TRIANGLES,c,g,y,zn.disabled,((W,N)=>{const q=N.stride,it=u.create();return u.ortho(it,0,u.EXTENT,-u.EXTENT,0,0,1),u.translate(it,it,[0,-u.EXTENT,0]),{u_matrix:it,u_image:1,u_dimension:[q,q],u_zoom:W.overscaledZ,u_unpack:N.getUnpackVector()}})(n.tileID,E),o.id,h.rasterBoundsBuffer,h.quadTriangleIndexBuffer,h.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function dd(h,n,o,c,g){const y=c.paint.get("raster-fade-duration");if(y>0){const w=u.exported.now(),S=(w-h.timeAdded)/y,E=n?(w-n.timeAdded)/y:-1,C=o.getSource(),z=g.coveringZoomLevel({tileSize:C.tileSize,roundZoom:C.roundZoom}),L=!n||Math.abs(n.tileID.overscaledZ-z)>Math.abs(h.tileID.overscaledZ-z),U=L&&h.refreshedUponExpiration?1:u.clamp(L?S:1-E,0,1);return h.refreshedUponExpiration&&S>=1&&(h.refreshedUponExpiration=!1),n?{opacity:1,mix:1-U}:{opacity:U,mix:0}}return{opacity:1,mix:0}}const hd=new u.Color(1,0,0,1),pd=new u.Color(0,1,0,1),Va=new u.Color(0,0,1,1),Nl=new u.Color(1,0,1,1),yu=new u.Color(0,1,1,1);function gd(h,n,o,c){jl(h,0,n+o/2,h.transform.width,o,c)}function Vl(h,n,o,c){jl(h,n-o/2,0,o,h.transform.height,c)}function jl(h,n,o,c,g,y){const w=h.context,S=w.gl;S.enable(S.SCISSOR_TEST),S.scissor(n*h.pixelRatio,o*h.pixelRatio,c*h.pixelRatio,g*h.pixelRatio),w.clear({color:y}),S.disable(S.SCISSOR_TEST)}function fd(h,n,o){const c=h.context,g=c.gl,y=o.posMatrix,w=h.useProgram("debug"),S=Xe.disabled,E=hn.disabled,C=h.colorModeForRenderPass(),z="$debug";c.activeTexture.set(g.TEXTURE0),h.emptyTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),w.draw(c,g.LINE_STRIP,S,E,C,zn.disabled,Fa(y,u.Color.red),z,h.debugBuffer,h.tileBorderIndexBuffer,h.debugSegments);const L=n.getTileByID(o.key).latestRawTileData,U=Math.floor((L&&L.byteLength||0)/1024),W=n.getTile(o).tileSize,N=512/Math.min(W,512)*(o.overscaledZ/h.transform.zoom)*.5;let q=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(q+=` => ${o.overscaledZ}`),function(it,rt){it.initDebugOverlayCanvas();const st=it.debugOverlayCanvas,ot=it.context.gl,Et=it.debugOverlayCanvas.getContext("2d");Et.clearRect(0,0,st.width,st.height),Et.shadowColor="white",Et.shadowBlur=2,Et.lineWidth=1.5,Et.strokeStyle="white",Et.textBaseline="top",Et.font="bold 36px Open Sans, sans-serif",Et.fillText(rt,5,5),Et.strokeText(rt,5,5),it.debugOverlayTexture.update(st),it.debugOverlayTexture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE)}(h,`${q} ${U}kb`),w.draw(c,g.TRIANGLES,S,E,ve.alphaBlended,zn.disabled,Fa(y,u.Color.transparent,N),z,h.debugBuffer,h.quadTriangleIndexBuffer,h.debugSegments)}const Lo={symbol:function(h,n,o,c,g){if(h.renderPass!=="translucent")return;const y=hn.disabled,w=h.colorModeForRenderPass();o.layout.get("text-variable-anchor")&&function(S,E,C,z,L,U,W){const N=E.transform,q=L==="map",it=U==="map";for(const rt of S){const st=z.getTile(rt),ot=st.getBucket(C);if(!ot||!ot.text||!ot.text.segments.get().length)continue;const Et=u.evaluateSizeForZoom(ot.textSizeData,N.zoom),mt=Zn(st,1,E.transform.zoom),xt=pi(rt.posMatrix,it,q,E.transform,mt),Mt=C.layout.get("icon-text-fit")!=="none"&&ot.hasIconData();if(Et){const Rt=Math.pow(2,N.zoom-st.tileID.overscaledZ);Rl(ot,q,it,W,N,xt,rt.posMatrix,Rt,Et,Mt)}}}(c,h,o,n,o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),g),o.paint.get("icon-opacity").constantOr(1)!==0&&Bl(h,n,o,c,!1,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),o.layout.get("icon-rotation-alignment"),o.layout.get("icon-pitch-alignment"),o.layout.get("icon-keep-upright"),y,w),o.paint.get("text-opacity").constantOr(1)!==0&&Bl(h,n,o,c,!0,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),o.layout.get("text-rotation-alignment"),o.layout.get("text-pitch-alignment"),o.layout.get("text-keep-upright"),y,w),n.map.showCollisionBoxes&&(gu(h,n,o,c,o.paint.get("text-translate"),o.paint.get("text-translate-anchor"),!0),gu(h,n,o,c,o.paint.get("icon-translate"),o.paint.get("icon-translate-anchor"),!1))},circle:function(h,n,o,c){if(h.renderPass!=="translucent")return;const g=o.paint.get("circle-opacity"),y=o.paint.get("circle-stroke-width"),w=o.paint.get("circle-stroke-opacity"),S=!o.layout.get("circle-sort-key").isConstant();if(g.constantOr(1)===0&&(y.constantOr(1)===0||w.constantOr(1)===0))return;const E=h.context,C=E.gl,z=h.depthModeForSublayer(0,Xe.ReadOnly),L=hn.disabled,U=h.colorModeForRenderPass(),W=[];for(let N=0;N<c.length;N++){const q=c[N],it=n.getTile(q),rt=it.getBucket(o);if(!rt)continue;const st=rt.programConfigurations.get(o.id),ot={programConfiguration:st,program:h.useProgram("circle",st),layoutVertexBuffer:rt.layoutVertexBuffer,indexBuffer:rt.indexBuffer,uniformValues:oa(h,q,it,o)};if(S){const Et=rt.segments.get();for(const mt of Et)W.push({segments:new u.SegmentVector([mt]),sortKey:mt.sortKey,state:ot})}else W.push({segments:rt.segments,sortKey:0,state:ot})}S&&W.sort((N,q)=>N.sortKey-q.sortKey);for(const N of W){const{programConfiguration:q,program:it,layoutVertexBuffer:rt,indexBuffer:st,uniformValues:ot}=N.state;it.draw(E,C.TRIANGLES,z,L,U,zn.disabled,ot,o.id,rt,st,N.segments,o.paint,h.transform.zoom,q)}},heatmap:function(h,n,o,c){if(o.paint.get("heatmap-opacity")!==0)if(h.renderPass==="offscreen"){const g=h.context,y=g.gl,w=hn.disabled,S=new ve([y.ONE,y.ONE],u.Color.transparent,[!0,!0,!0,!0]);(function(E,C,z){const L=E.gl;E.activeTexture.set(L.TEXTURE1),E.viewport.set([0,0,C.width/4,C.height/4]);let U=z.heatmapFbo;if(U)L.bindTexture(L.TEXTURE_2D,U.colorAttachment.get()),E.bindFramebuffer.set(U.framebuffer);else{const W=L.createTexture();L.bindTexture(L.TEXTURE_2D,W),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.LINEAR),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.LINEAR),U=z.heatmapFbo=E.createFramebuffer(C.width/4,C.height/4,!1),function(N,q,it,rt){const st=N.gl;st.texImage2D(st.TEXTURE_2D,0,st.RGBA,q.width/4,q.height/4,0,st.RGBA,N.extRenderToTextureHalfFloat?N.extTextureHalfFloat.HALF_FLOAT_OES:st.UNSIGNED_BYTE,null),rt.colorAttachment.set(it)}(E,C,W,U)}})(g,h,o),g.clear({color:u.Color.transparent});for(let E=0;E<c.length;E++){const C=c[E];if(n.hasRenderableParent(C))continue;const z=n.getTile(C),L=z.getBucket(o);if(!L)continue;const U=L.programConfigurations.get(o.id),W=h.useProgram("heatmap",U),{zoom:N}=h.transform;W.draw(g,y.TRIANGLES,Xe.disabled,w,S,zn.disabled,El(C.posMatrix,z,N,o.paint.get("heatmap-intensity")),o.id,L.layoutVertexBuffer,L.indexBuffer,L.segments,o.paint,h.transform.zoom,U)}g.viewport.set([0,0,h.width,h.height])}else h.renderPass==="translucent"&&(h.context.setColorMode(h.colorModeForRenderPass()),function(g,y){const w=g.context,S=w.gl,E=y.heatmapFbo;if(!E)return;w.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,E.colorAttachment.get()),w.activeTexture.set(S.TEXTURE1);let C=y.colorRampTexture;C||(C=y.colorRampTexture=new ut(w,y.colorRamp,S.RGBA)),C.bind(S.LINEAR,S.CLAMP_TO_EDGE),g.useProgram("heatmapTexture").draw(w,S.TRIANGLES,Xe.disabled,hn.disabled,g.colorModeForRenderPass(),zn.disabled,((z,L,U,W)=>{const N=u.create();u.ortho(N,0,z.width,z.height,0,0,1);const q=z.context.gl;return{u_matrix:N,u_world:[q.drawingBufferWidth,q.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:L.paint.get("heatmap-opacity")}})(g,y),y.id,g.viewportBuffer,g.quadTriangleIndexBuffer,g.viewportSegments,y.paint,g.transform.zoom)}(h,o))},line:function(h,n,o,c){if(h.renderPass!=="translucent")return;const g=o.paint.get("line-opacity"),y=o.paint.get("line-width");if(g.constantOr(1)===0||y.constantOr(1)===0)return;const w=h.depthModeForSublayer(0,Xe.ReadOnly),S=h.colorModeForRenderPass(),E=o.paint.get("line-dasharray"),C=o.paint.get("line-pattern"),z=C.constantOr(1),L=o.paint.get("line-gradient"),U=o.getCrossfadeParameters(),W=z?"linePattern":E?"lineSDF":L?"lineGradient":"line",N=h.context,q=N.gl;let it=!0;for(const rt of c){const st=n.getTile(rt);if(z&&!st.patternsLoaded())continue;const ot=st.getBucket(o);if(!ot)continue;const Et=ot.programConfigurations.get(o.id),mt=h.context.program.get(),xt=h.useProgram(W,Et),Mt=it||xt.program!==mt,Rt=C.constantOr(null);if(Rt&&st.imageAtlas){const te=st.imageAtlas,Gt=te.patternPositions[Rt.to.toString()],fe=te.patternPositions[Rt.from.toString()];Gt&&fe&&Et.setConstantPatternPositions(Gt,fe)}const St=z?Po(h,st,o,U):E?Un(h,st,o,E,U):L?Al(h,st,o,ot.lineClipsArray.length):Io(h,st,o);if(z)N.activeTexture.set(q.TEXTURE0),st.imageAtlasTexture.bind(q.LINEAR,q.CLAMP_TO_EDGE),Et.updatePaintBuffers(U);else if(E&&(Mt||h.lineAtlas.dirty))N.activeTexture.set(q.TEXTURE0),h.lineAtlas.bind(N);else if(L){const te=ot.gradients[o.id];let Gt=te.texture;if(o.gradientVersion!==te.version){let fe=256;if(o.stepInterpolant){const Oe=n.getSource().maxzoom,Me=rt.canonical.z===Oe?Math.ceil(1<<h.transform.maxZoom-rt.canonical.z):1;fe=u.clamp(u.nextPowerOfTwo(ot.maxLineLength/u.EXTENT*1024*Me),256,N.maxTextureSize)}te.gradient=u.renderColorRamp({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:fe,image:te.gradient||void 0,clips:ot.lineClipsArray}),te.texture?te.texture.update(te.gradient):te.texture=new ut(N,te.gradient,q.RGBA),te.version=o.gradientVersion,Gt=te.texture}N.activeTexture.set(q.TEXTURE0),Gt.bind(o.stepInterpolant?q.NEAREST:q.LINEAR,q.CLAMP_TO_EDGE)}xt.draw(N,q.TRIANGLES,w,h.stencilModeForClipping(rt),S,zn.disabled,St,o.id,ot.layoutVertexBuffer,ot.indexBuffer,ot.segments,o.paint,h.transform.zoom,Et,ot.layoutVertexBuffer2),it=!1}},fill:function(h,n,o,c){const g=o.paint.get("fill-color"),y=o.paint.get("fill-opacity");if(y.constantOr(1)===0)return;const w=h.colorModeForRenderPass(),S=o.paint.get("fill-pattern"),E=h.opaquePassEnabledForLayer()&&!S.constantOr(1)&&g.constantOr(u.Color.transparent).a===1&&y.constantOr(0)===1?"opaque":"translucent";if(h.renderPass===E){const C=h.depthModeForSublayer(1,h.renderPass==="opaque"?Xe.ReadWrite:Xe.ReadOnly);mu(h,n,o,c,C,w,!1)}if(h.renderPass==="translucent"&&o.paint.get("fill-antialias")){const C=h.depthModeForSublayer(o.getPaintProperty("fill-outline-color")?2:0,Xe.ReadOnly);mu(h,n,o,c,C,w,!0)}},"fill-extrusion":function(h,n,o,c){const g=o.paint.get("fill-extrusion-opacity");if(g!==0&&h.renderPass==="translucent"){const y=new Xe(h.context.gl.LEQUAL,Xe.ReadWrite,h.depthRangeFor3D);if(g!==1||o.paint.get("fill-extrusion-pattern").constantOr(1))Na(h,n,o,c,y,hn.disabled,ve.disabled),Na(h,n,o,c,y,h.stencilModeFor3D(),h.colorModeForRenderPass());else{const w=h.colorModeForRenderPass();Na(h,n,o,c,y,hn.disabled,w)}}},hillshade:function(h,n,o,c){if(h.renderPass!=="offscreen"&&h.renderPass!=="translucent")return;const g=h.context,y=h.depthModeForSublayer(0,Xe.ReadOnly),w=h.colorModeForRenderPass(),[S,E]=h.renderPass==="translucent"?h.stencilConfigForOverlap(c):[{},c];for(const C of E){const z=n.getTile(C);z.needsHillshadePrepare&&h.renderPass==="offscreen"?ur(h,z,o,y,hn.disabled,w):h.renderPass==="translucent"&&Ul(h,z,o,y,S[C.overscaledZ],w)}g.viewport.set([0,0,h.width,h.height])},raster:function(h,n,o,c){if(h.renderPass!=="translucent"||o.paint.get("raster-opacity")===0||!c.length)return;const g=h.context,y=g.gl,w=n.getSource(),S=h.useProgram("raster"),E=h.colorModeForRenderPass(),[C,z]=w instanceof ce?[{},c]:h.stencilConfigForOverlap(c),L=z[z.length-1].overscaledZ,U=!h.options.moving;for(const W of z){const N=h.depthModeForSublayer(W.overscaledZ-L,o.paint.get("raster-opacity")===1?Xe.ReadWrite:Xe.ReadOnly,y.LESS),q=n.getTile(W),it=h.transform.calculatePosMatrix(W.toUnwrapped(),U);q.registerFadeDuration(o.paint.get("raster-fade-duration"));const rt=n.findLoadedParent(W,0),st=dd(q,rt,n,o,h.transform);let ot,Et;const mt=o.paint.get("raster-resampling")==="nearest"?y.NEAREST:y.LINEAR;g.activeTexture.set(y.TEXTURE0),q.texture.bind(mt,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST),g.activeTexture.set(y.TEXTURE1),rt?(rt.texture.bind(mt,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST),ot=Math.pow(2,rt.tileID.overscaledZ-q.tileID.overscaledZ),Et=[q.tileID.canonical.x*ot%1,q.tileID.canonical.y*ot%1]):q.texture.bind(mt,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST);const xt=ed(it,Et||[0,0],ot||1,st,o);w instanceof ce?S.draw(g,y.TRIANGLES,N,hn.disabled,E,zn.disabled,xt,o.id,w.boundsBuffer,h.quadTriangleIndexBuffer,w.boundsSegments):S.draw(g,y.TRIANGLES,N,C[W.overscaledZ],E,zn.disabled,xt,o.id,h.rasterBoundsBuffer,h.quadTriangleIndexBuffer,h.rasterBoundsSegments)}},background:function(h,n,o){const c=o.paint.get("background-color"),g=o.paint.get("background-opacity");if(g===0)return;const y=h.context,w=y.gl,S=h.transform,E=S.tileSize,C=o.paint.get("background-pattern");if(h.isPatternMissing(C))return;const z=!C&&c.a===1&&g===1&&h.opaquePassEnabledForLayer()?"opaque":"translucent";if(h.renderPass!==z)return;const L=hn.disabled,U=h.depthModeForSublayer(0,z==="opaque"?Xe.ReadWrite:Xe.ReadOnly),W=h.colorModeForRenderPass(),N=h.useProgram(C?"backgroundPattern":"background"),q=S.coveringTiles({tileSize:E});C&&(y.activeTexture.set(w.TEXTURE0),h.imageManager.bind(h.context));const it=o.getCrossfadeParameters();for(const rt of q){const st=h.transform.calculatePosMatrix(rt.toUnwrapped()),ot=C?eu(st,g,h,C,{tileID:rt,tileSize:E},it):Dp(st,g,c);N.draw(y,w.TRIANGLES,U,L,W,zn.disabled,ot,o.id,h.tileExtentBuffer,h.quadTriangleIndexBuffer,h.tileExtentSegments)}},debug:function(h,n,o){for(let c=0;c<o.length;c++)fd(h,n,o[c])},custom:function(h,n,o){const c=h.context,g=o.implementation;if(h.renderPass==="offscreen"){const y=g.prerender;y&&(h.setCustomLayerDefaults(),c.setColorMode(h.colorModeForRenderPass()),y.call(g,c.gl,h.transform.customLayerMatrix()),c.setDirty(),h.setBaseState())}else if(h.renderPass==="translucent"){h.setCustomLayerDefaults(),c.setColorMode(h.colorModeForRenderPass()),c.setStencilMode(hn.disabled);const y=g.renderingMode==="3d"?new Xe(h.context.gl.LEQUAL,Xe.ReadWrite,h.depthRangeFor3D):h.depthModeForSublayer(0,Xe.ReadOnly);c.setDepthMode(y),g.render(c.gl,h.transform.customLayerMatrix()),c.setDirty(),h.setBaseState(),c.bindFramebuffer.set(null)}}};class _u{constructor(n,o){this.context=new zl(n),this.transform=o,this._tileTextures={},this.setup(),this.numSublayers=me.maxUnderzooming+me.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ee,this.gpuTimers={}}resize(n,o,c){if(this.width=n*c,this.height=o*c,this.pixelRatio=c,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const n=this.context,o=new u.PosArray;o.emplaceBack(0,0),o.emplaceBack(u.EXTENT,0),o.emplaceBack(0,u.EXTENT),o.emplaceBack(u.EXTENT,u.EXTENT),this.tileExtentBuffer=n.createVertexBuffer(o,Zs.members),this.tileExtentSegments=u.SegmentVector.simpleSegment(0,0,4,2);const c=new u.PosArray;c.emplaceBack(0,0),c.emplaceBack(u.EXTENT,0),c.emplaceBack(0,u.EXTENT),c.emplaceBack(u.EXTENT,u.EXTENT),this.debugBuffer=n.createVertexBuffer(c,Zs.members),this.debugSegments=u.SegmentVector.simpleSegment(0,0,4,5);const g=new u.RasterBoundsArray;g.emplaceBack(0,0,0,0),g.emplaceBack(u.EXTENT,0,u.EXTENT,0),g.emplaceBack(0,u.EXTENT,0,u.EXTENT),g.emplaceBack(u.EXTENT,u.EXTENT,u.EXTENT,u.EXTENT),this.rasterBoundsBuffer=n.createVertexBuffer(g,re.members),this.rasterBoundsSegments=u.SegmentVector.simpleSegment(0,0,4,2);const y=new u.PosArray;y.emplaceBack(0,0),y.emplaceBack(1,0),y.emplaceBack(0,1),y.emplaceBack(1,1),this.viewportBuffer=n.createVertexBuffer(y,Zs.members),this.viewportSegments=u.SegmentVector.simpleSegment(0,0,4,2);const w=new u.LineStripIndexArray;w.emplaceBack(0),w.emplaceBack(1),w.emplaceBack(3),w.emplaceBack(2),w.emplaceBack(0),this.tileBorderIndexBuffer=n.createIndexBuffer(w);const S=new u.TriangleIndexArray;S.emplaceBack(0,1,2),S.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=n.createIndexBuffer(S),this.emptyTexture=new ut(n,{width:1,height:1,data:new Uint8Array([0,0,0,0])},n.gl.RGBA);const E=this.context.gl;this.stencilClearMode=new hn({func:E.ALWAYS,mask:0},0,255,E.ZERO,E.ZERO,E.ZERO)}clearStencil(){const n=this.context,o=n.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const c=u.create();u.ortho(c,0,this.width,this.height,0,0,1),u.scale(c,c,[o.drawingBufferWidth,o.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(n,o.TRIANGLES,Xe.disabled,this.stencilClearMode,ve.disabled,zn.disabled,Co(c),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(n,o){if(this.currentStencilSource===n.source||!n.isTileClipped()||!o||!o.length)return;this.currentStencilSource=n.source;const c=this.context,g=c.gl;this.nextStencilID+o.length>256&&this.clearStencil(),c.setColorMode(ve.disabled),c.setDepthMode(Xe.disabled);const y=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const w of o){const S=this._tileClippingMaskIDs[w.key]=this.nextStencilID++;y.draw(c,g.TRIANGLES,Xe.disabled,new hn({func:g.ALWAYS,mask:0},S,255,g.KEEP,g.KEEP,g.REPLACE),ve.disabled,zn.disabled,Co(w.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const n=this.nextStencilID++,o=this.context.gl;return new hn({func:o.NOTEQUAL,mask:255},n,255,o.KEEP,o.KEEP,o.REPLACE)}stencilModeForClipping(n){const o=this.context.gl;return new hn({func:o.EQUAL,mask:255},this._tileClippingMaskIDs[n.key],0,o.KEEP,o.KEEP,o.REPLACE)}stencilConfigForOverlap(n){const o=this.context.gl,c=n.sort((w,S)=>S.overscaledZ-w.overscaledZ),g=c[c.length-1].overscaledZ,y=c[0].overscaledZ-g+1;if(y>1){this.currentStencilSource=void 0,this.nextStencilID+y>256&&this.clearStencil();const w={};for(let S=0;S<y;S++)w[S+g]=new hn({func:o.GEQUAL,mask:255},S+this.nextStencilID,255,o.KEEP,o.KEEP,o.REPLACE);return this.nextStencilID+=y,[w,c]}return[{[g]:hn.disabled},c]}colorModeForRenderPass(){const n=this.context.gl;return this._showOverdrawInspector?new ve([n.CONSTANT_COLOR,n.ONE],new u.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ve.unblended:ve.alphaBlended}depthModeForSublayer(n,o,c){if(!this.opaquePassEnabledForLayer())return Xe.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+n)*this.depthEpsilon;return new Xe(c||this.context.gl.LEQUAL,o,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(n,o){this.style=n,this.options=o,this.lineAtlas=n.lineAtlas,this.imageManager=n.imageManager,this.glyphManager=n.glyphManager,this.symbolFadeChange=n.placement.symbolFadeChange(u.exported.now()),this.imageManager.beginFrame();const c=this.style._order,g=this.style.sourceCaches;for(const E in g){const C=g[E];C.used&&C.prepare(this.context)}const y={},w={},S={};for(const E in g){const C=g[E];y[E]=C.getVisibleCoordinates(),w[E]=y[E].slice().reverse(),S[E]=C.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let E=0;E<c.length;E++)if(this.style._layers[c[E]].is3D()){this.opaquePassCutoff=E;break}this.renderPass="offscreen";for(const E of c){const C=this.style._layers[E];if(!C.hasOffscreenPass()||C.isHidden(this.transform.zoom))continue;const z=w[C.source];(C.type==="custom"||z.length)&&this.renderLayer(this,g[C.source],C,z)}for(this.context.bindFramebuffer.set(null),this.context.clear({color:o.showOverdrawInspector?u.Color.black:u.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=o.showOverdrawInspector,this.depthRangeFor3D=[0,1-(n._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=c.length-1;this.currentLayer>=0;this.currentLayer--){const E=this.style._layers[c[this.currentLayer]],C=g[E.source],z=y[E.source];this._renderTileClippingMasks(E,z),this.renderLayer(this,C,E,z)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<c.length;this.currentLayer++){const E=this.style._layers[c[this.currentLayer]],C=g[E.source],z=(E.type==="symbol"?S:w)[E.source];this._renderTileClippingMasks(E,y[E.source]),this.renderLayer(this,C,E,z)}if(this.options.showTileBoundaries){let E,C;Object.values(this.style._layers).forEach(z=>{z.source&&!z.isHidden(this.transform.zoom)&&(z.source!==(C&&C.id)&&(C=this.style.sourceCaches[z.source]),(!E||E.getSource().maxzoom<C.getSource().maxzoom)&&(E=C))}),E&&Lo.debug(this,E,E.getVisibleCoordinates())}this.options.showPadding&&function(E){const C=E.transform.padding;gd(E,E.transform.height-(C.top||0),3,hd),gd(E,C.bottom||0,3,pd),Vl(E,C.left||0,3,Va),Vl(E,E.transform.width-(C.right||0),3,Nl);const z=E.transform.centerPoint;(function(L,U,W,N){jl(L,U-1,W-10,2,20,N),jl(L,U-10,W-1,20,2,N)})(E,z.x,E.transform.height-z.y,yu)}(this),this.context.setDefault()}renderLayer(n,o,c,g){c.isHidden(this.transform.zoom)||(c.type==="background"||c.type==="custom"||g.length)&&(this.id=c.id,this.gpuTimingStart(c),Lo[c.type](n,o,c,g,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(n){if(!this.options.gpuTiming)return;const o=this.context.extTimerQuery;let c=this.gpuTimers[n.id];c||(c=this.gpuTimers[n.id]={calls:0,cpuTime:0,query:o.createQueryEXT()}),c.calls++,o.beginQueryEXT(o.TIME_ELAPSED_EXT,c.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const n=this.context.extTimerQuery;n.endQueryEXT(n.TIME_ELAPSED_EXT)}collectGpuTimers(){const n=this.gpuTimers;return this.gpuTimers={},n}queryGpuTimers(n){const o={};for(const c in n){const g=n[c],y=this.context.extTimerQuery,w=y.getQueryObjectEXT(g.query,y.QUERY_RESULT_EXT)/1e6;y.deleteQueryEXT(g.query),o[c]=w}return o}translatePosMatrix(n,o,c,g,y){if(!c[0]&&!c[1])return n;const w=y?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(w){const C=Math.sin(w),z=Math.cos(w);c=[c[0]*z-c[1]*C,c[0]*C+c[1]*z]}const S=[y?c[0]:Zn(o,c[0],this.transform.zoom),y?c[1]:Zn(o,c[1],this.transform.zoom),0],E=new Float32Array(16);return u.translate(E,n,S),E}saveTileTexture(n){const o=this._tileTextures[n.size[0]];o?o.push(n):this._tileTextures[n.size[0]]=[n]}getTileTexture(n){const o=this._tileTextures[n];return o&&o.length>0?o.pop():null}isPatternMissing(n){if(!n)return!1;if(!n.from||!n.to)return!0;const o=this.imageManager.getPattern(n.from.toString()),c=this.imageManager.getPattern(n.to.toString());return!o||!c}useProgram(n,o){this.cache=this.cache||{};const c=`${n}${o?o.cacheKey:""}${this._showOverdrawInspector?"/overdraw":""}`;return this.cache[c]||(this.cache[c]=new Mp(this.context,n,Ws[n],o,nu[n],this._showOverdrawInspector)),this.cache[c]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const n=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(n.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ut(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class $l{constructor(n,o){this.points=n,this.planes=o}static fromInvProjectionMatrix(n,o,c){const g=Math.pow(2,c),y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(S=>u.transformMat4([],S,n)).map(S=>u.scale$1([],S,1/S[3]/o*g)),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(S=>{const E=function(U,W){var N=W[0],q=W[1],it=W[2],rt=N*N+q*q+it*it;return rt>0&&(rt=1/Math.sqrt(rt)),U[0]=W[0]*rt,U[1]=W[1]*rt,U[2]=W[2]*rt,U}([],function(U,W,N){var q=W[0],it=W[1],rt=W[2],st=N[0],ot=N[1],Et=N[2];return U[0]=it*Et-rt*ot,U[1]=rt*st-q*Et,U[2]=q*ot-it*st,U}([],H([],y[S[0]],y[S[1]]),H([],y[S[2]],y[S[1]]))),C=-((z=E)[0]*(L=y[S[1]])[0]+z[1]*L[1]+z[2]*L[2]);var z,L;return E.concat(C)});return new $l(y,w)}}class Gl{constructor(n,o){this.min=n,this.max=o,this.center=function(c,g,y){return c[0]=.5*g[0],c[1]=.5*g[1],c[2]=.5*g[2],c}([],function(c,g,y){return c[0]=g[0]+y[0],c[1]=g[1]+y[1],c[2]=g[2]+y[2],c}([],this.min,this.max))}quadrant(n){const o=[n%2==0,n<2],c=Lt(this.min),g=Lt(this.max);for(let y=0;y<o.length;y++)c[y]=o[y]?this.min[y]:this.center[y],g[y]=o[y]?this.center[y]:this.max[y];return g[2]=this.max[2],new Gl(c,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}intersects(n){const o=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]];let c=!0;for(let g=0;g<n.planes.length;g++){const y=n.planes[g];let w=0;for(let S=0;S<o.length;S++)u.dot(y,o[S])>=0&&w++;if(w===0)return 0;w!==o.length&&(c=!1)}if(c)return 2;for(let g=0;g<3;g++){let y=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(let S=0;S<n.points.length;S++){const E=n.points[S][g]-this.min[g];y=Math.min(y,E),w=Math.max(w,E)}if(w<0||y>this.max[g]-this.min[g])return 0}return 1}}class ja{constructor(n=0,o=0,c=0,g=0){if(isNaN(n)||n<0||isNaN(o)||o<0||isNaN(c)||c<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=n,this.bottom=o,this.left=c,this.right=g}interpolate(n,o,c){return o.top!=null&&n.top!=null&&(this.top=u.number(n.top,o.top,c)),o.bottom!=null&&n.bottom!=null&&(this.bottom=u.number(n.bottom,o.bottom,c)),o.left!=null&&n.left!=null&&(this.left=u.number(n.left,o.left,c)),o.right!=null&&n.right!=null&&(this.right=u.number(n.right,o.right,c)),this}getCenter(n,o){const c=u.clamp((this.left+n-this.right)/2,0,n),g=u.clamp((this.top+o-this.bottom)/2,0,o);return new u.pointGeometry(c,g)}equals(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right}clone(){return new ja(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Ro{constructor(n,o,c,g,y){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=y===void 0||!!y,this._minZoom=n||0,this._maxZoom=o||22,this._minPitch=c==null?0:c,this._maxPitch=g==null?60:g,this.setMaxBounds(),this.width=0,this.height=0,this._center=new u.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ja,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const n=new Ro(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return n.tileSize=this.tileSize,n.latRange=this.latRange,n.width=this.width,n.height=this.height,n._center=this._center,n.zoom=this.zoom,n.angle=this.angle,n._fov=this._fov,n._pitch=this._pitch,n._unmodified=this._unmodified,n._edgeInsets=this._edgeInsets.clone(),n._calcMatrices(),n}get minZoom(){return this._minZoom}set minZoom(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))}get maxZoom(){return this._maxZoom}set maxZoom(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))}get minPitch(){return this._minPitch}set minPitch(n){this._minPitch!==n&&(this._minPitch=n,this.pitch=Math.max(this.pitch,n))}get maxPitch(){return this._maxPitch}set maxPitch(n){this._maxPitch!==n&&(this._maxPitch=n,this.pitch=Math.min(this.pitch,n))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(n){n===void 0?n=!0:n===null&&(n=!1),this._renderWorldCopies=n}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new u.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(n){const o=-u.wrap(n,-180,180)*Math.PI/180;this.angle!==o&&(this._unmodified=!1,this.angle=o,this._calcMatrices(),this.rotationMatrix=function(){var c=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(c[1]=0,c[2]=0),c[0]=1,c[3]=1,c}(),function(c,g,y){var w=g[0],S=g[1],E=g[2],C=g[3],z=Math.sin(y),L=Math.cos(y);c[0]=w*L+E*z,c[1]=S*L+C*z,c[2]=w*-z+E*L,c[3]=S*-z+C*L}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(n){const o=u.clamp(n,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==o&&(this._unmodified=!1,this._pitch=o,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this._unmodified=!1,this._fov=n/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(n){const o=Math.min(Math.max(n,this.minZoom),this.maxZoom);this._zoom!==o&&(this._unmodified=!1,this._zoom=o,this.scale=this.zoomScale(o),this.tileZoom=Math.floor(o),this.zoomFraction=o-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this._unmodified=!1,this._center=n,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(n){this._edgeInsets.equals(n)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,n,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(n){return this._edgeInsets.equals(n)}interpolatePadding(n,o,c){this._unmodified=!1,this._edgeInsets.interpolate(n,o,c),this._constrain(),this._calcMatrices()}coveringZoomLevel(n){const o=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,o)}getVisibleUnwrappedCoordinates(n){const o=[new u.UnwrappedTileID(0,n)];if(this._renderWorldCopies){const c=this.pointCoordinate(new u.pointGeometry(0,0)),g=this.pointCoordinate(new u.pointGeometry(this.width,0)),y=this.pointCoordinate(new u.pointGeometry(this.width,this.height)),w=this.pointCoordinate(new u.pointGeometry(0,this.height)),S=Math.floor(Math.min(c.x,g.x,y.x,w.x)),E=Math.floor(Math.max(c.x,g.x,y.x,w.x)),C=1;for(let z=S-C;z<=E+C;z++)z!==0&&o.push(new u.UnwrappedTileID(z,n))}return o}coveringTiles(n){let o=this.coveringZoomLevel(n);const c=o;if(n.minzoom!==void 0&&o<n.minzoom)return[];n.maxzoom!==void 0&&o>n.maxzoom&&(o=n.maxzoom);const g=u.MercatorCoordinate.fromLngLat(this.center),y=Math.pow(2,o),w=[y*g.x,y*g.y,0],S=$l.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,o);let E=n.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(E=o);const C=N=>({aabb:new Gl([N*y,0,0],[(N+1)*y,y,0]),zoom:0,x:0,y:0,wrap:N,fullyVisible:!1}),z=[],L=[],U=o,W=n.reparseOverscaled?c:o;if(this._renderWorldCopies)for(let N=1;N<=3;N++)z.push(C(-N)),z.push(C(N));for(z.push(C(0));z.length>0;){const N=z.pop(),q=N.x,it=N.y;let rt=N.fullyVisible;if(!rt){const xt=N.aabb.intersects(S);if(xt===0)continue;rt=xt===2}const st=N.aabb.distanceX(w),ot=N.aabb.distanceY(w),Et=Math.max(Math.abs(st),Math.abs(ot)),mt=3+(1<<U-N.zoom)-2;if(N.zoom===U||Et>mt&&N.zoom>=E)L.push({tileID:new u.OverscaledTileID(N.zoom===U?W:N.zoom,N.wrap,N.zoom,q,it),distanceSq:nt([w[0]-.5-q,w[1]-.5-it])});else for(let xt=0;xt<4;xt++){const Mt=(q<<1)+xt%2,Rt=(it<<1)+(xt>>1);z.push({aabb:N.aabb.quadrant(xt),zoom:N.zoom+1,x:Mt,y:Rt,wrap:N.wrap,fullyVisible:rt})}}return L.sort((N,q)=>N.distanceSq-q.distanceSq).map(N=>N.tileID)}resize(n,o){this.width=n,this.height=o,this.pixelsToGLUnits=[2/n,-2/o],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(n){return Math.pow(2,n)}scaleZoom(n){return Math.log(n)/Math.LN2}project(n){const o=u.clamp(n.lat,-this.maxValidLatitude,this.maxValidLatitude);return new u.pointGeometry(u.mercatorXfromLng(n.lng)*this.worldSize,u.mercatorYfromLat(o)*this.worldSize)}unproject(n){return new u.MercatorCoordinate(n.x/this.worldSize,n.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(n,o){const c=this.pointCoordinate(o),g=this.pointCoordinate(this.centerPoint),y=this.locationCoordinate(n),w=new u.MercatorCoordinate(y.x-(c.x-g.x),y.y-(c.y-g.y));this.center=this.coordinateLocation(w),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(n){return this.coordinatePoint(this.locationCoordinate(n))}pointLocation(n){return this.coordinateLocation(this.pointCoordinate(n))}locationCoordinate(n){return u.MercatorCoordinate.fromLngLat(n)}coordinateLocation(n){return n.toLngLat()}pointCoordinate(n){const o=[n.x,n.y,0,1],c=[n.x,n.y,1,1];u.transformMat4(o,o,this.pixelMatrixInverse),u.transformMat4(c,c,this.pixelMatrixInverse);const g=o[3],y=c[3],w=o[1]/g,S=c[1]/y,E=o[2]/g,C=c[2]/y,z=E===C?0:(0-E)/(C-E);return new u.MercatorCoordinate(u.number(o[0]/g,c[0]/y,z)/this.worldSize,u.number(w,S,z)/this.worldSize)}coordinatePoint(n){const o=[n.x*this.worldSize,n.y*this.worldSize,0,1];return u.transformMat4(o,o,this.pixelMatrix),new u.pointGeometry(o[0]/o[3],o[1]/o[3])}getBounds(){return new u.LngLatBounds().extend(this.pointLocation(new u.pointGeometry(0,0))).extend(this.pointLocation(new u.pointGeometry(this.width,0))).extend(this.pointLocation(new u.pointGeometry(this.width,this.height))).extend(this.pointLocation(new u.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new u.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(n){n?(this.lngRange=[n.getWest(),n.getEast()],this.latRange=[n.getSouth(),n.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(n,o=!1){const c=n.key,g=o?this._alignedPosMatrixCache:this._posMatrixCache;if(g[c])return g[c];const y=n.canonical,w=this.worldSize/this.zoomScale(y.z),S=y.x+Math.pow(2,y.z)*n.wrap,E=u.identity(new Float64Array(16));return u.translate(E,E,[S*w,y.y*w,0]),u.scale(E,E,[w/u.EXTENT,w/u.EXTENT,1]),u.multiply(E,o?this.alignedProjMatrix:this.projMatrix,E),g[c]=new Float32Array(E),g[c]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let n,o,c,g,y=-90,w=90,S=-180,E=180;const C=this.size,z=this._unmodified;if(this.latRange){const W=this.latRange;y=u.mercatorYfromLat(W[1])*this.worldSize,w=u.mercatorYfromLat(W[0])*this.worldSize,n=w-y<C.y?C.y/(w-y):0}if(this.lngRange){const W=this.lngRange;S=u.mercatorXfromLng(W[0])*this.worldSize,E=u.mercatorXfromLng(W[1])*this.worldSize,o=E-S<C.x?C.x/(E-S):0}const L=this.point,U=Math.max(o||0,n||0);if(U)return this.center=this.unproject(new u.pointGeometry(o?(E+S)/2:L.x,n?(w+y)/2:L.y)),this.zoom+=this.scaleZoom(U),this._unmodified=z,void(this._constraining=!1);if(this.latRange){const W=L.y,N=C.y/2;W-N<y&&(g=y+N),W+N>w&&(g=w-N)}if(this.lngRange){const W=L.x,N=C.x/2;W-N<S&&(c=S+N),W+N>E&&(c=E-N)}c===void 0&&g===void 0||(this.center=this.unproject(new u.pointGeometry(c!==void 0?c:L.x,g!==void 0?g:L.y))),this._unmodified=z,this._constraining=!1}_calcMatrices(){if(!this.height)return;const n=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const o=Math.PI/2+this._pitch,c=this._fov*(.5+n.y/this.height),g=Math.sin(c)*this.cameraToCenterDistance/Math.sin(u.clamp(Math.PI-o-c,.01,Math.PI-.01)),y=this.point,w=y.x,S=y.y,E=1.01*(Math.cos(Math.PI/2-this._pitch)*g+this.cameraToCenterDistance),C=this.height/50;let z=new Float64Array(16);u.perspective(z,this._fov,this.width/this.height,C,E),z[8]=2*-n.x/this.width,z[9]=2*n.y/this.height,u.scale(z,z,[1,-1,1]),u.translate(z,z,[0,0,-this.cameraToCenterDistance]),u.rotateX(z,z,this._pitch),u.rotateZ(z,z,this.angle),u.translate(z,z,[-w,-S,0]),this.mercatorMatrix=u.scale([],z,[this.worldSize,this.worldSize,this.worldSize]),u.scale(z,z,[1,1,u.mercatorZfromAltitude(1,this.center.lat)*this.worldSize]),this.projMatrix=z,this.invProjMatrix=u.invert([],this.projMatrix);const L=this.width%2/2,U=this.height%2/2,W=Math.cos(this.angle),N=Math.sin(this.angle),q=w-Math.round(w)+W*L+N*U,it=S-Math.round(S)+W*U+N*L,rt=new Float64Array(z);if(u.translate(rt,rt,[q>.5?q-1:q,it>.5?it-1:it,0]),this.alignedProjMatrix=rt,z=u.create(),u.scale(z,z,[this.width/2,-this.height/2,1]),u.translate(z,z,[1,-1,0]),this.labelPlaneMatrix=z,z=u.create(),u.scale(z,z,[1,-1,1]),u.translate(z,z,[-1,-1,0]),u.scale(z,z,[2/this.width,2/this.height,1]),this.glCoordMatrix=z,this.pixelMatrix=u.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),z=u.invert(new Float64Array(16),this.pixelMatrix),!z)throw new Error("failed to invert matrix");this.pixelMatrixInverse=z,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const n=this.pointCoordinate(new u.pointGeometry(0,0)),o=[n.x*this.worldSize,n.y*this.worldSize,0,1];return u.transformMat4(o,o,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.pointGeometry(0,n))}getCameraQueryGeometry(n){const o=this.getCameraPoint();if(n.length===1)return[n[0],o];{let c=o.x,g=o.y,y=o.x,w=o.y;for(const S of n)c=Math.min(c,S.x),g=Math.min(g,S.y),y=Math.max(y,S.x),w=Math.max(w,S.y);return[new u.pointGeometry(c,g),new u.pointGeometry(y,g),new u.pointGeometry(y,w),new u.pointGeometry(c,w),new u.pointGeometry(c,g)]}}}class md{constructor(n){this._hashName=n&&encodeURIComponent(n),u.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(o,c){let g=!1,y=null;const w=()=>{y=null,g&&(o(),y=setTimeout(w,300),g=!1)};return()=>(g=!0,y||w(),y)}(this._updateHashUnthrottled.bind(this))}addTo(n){return this._map=n,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(n){const o=this._map.getCenter(),c=Math.round(100*this._map.getZoom())/100,g=Math.ceil((c*Math.LN2+Math.log(512/360/.5))/Math.LN10),y=Math.pow(10,g),w=Math.round(o.lng*y)/y,S=Math.round(o.lat*y)/y,E=this._map.getBearing(),C=this._map.getPitch();let z="";if(z+=n?`/${w}/${S}/${c}`:`${c}/${S}/${w}`,(E||C)&&(z+="/"+Math.round(10*E)/10),C&&(z+=`/${Math.round(C)}`),this._hashName){const L=this._hashName;let U=!1;const W=window.location.hash.slice(1).split("&").map(N=>{const q=N.split("=")[0];return q===L?(U=!0,`${q}=${z}`):N}).filter(N=>N);return U||W.push(`${L}=${z}`),`#${W.join("&")}`}return`#${z}`}_getCurrentHash(){const n=window.location.hash.replace("#","");if(this._hashName){let o;return n.split("&").map(c=>c.split("=")).forEach(c=>{c[0]===this._hashName&&(o=c)}),(o&&o[1]||"").split("/")}return n.split("/")}_onHashChange(){const n=this._getCurrentHash();if(n.length>=3&&!n.some(o=>isNaN(o))){const o=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(n[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+n[2],+n[1]],zoom:+n[0],bearing:o,pitch:+(n[4]||0)}),!0}return!1}_updateHashUnthrottled(){const n=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,n)}catch{}}}const Fo={linearity:.3,easing:u.bezier(0,0,.3,1)},yd=u.extend({deceleration:2500,maxSpeed:1400},Fo),_d=u.extend({deceleration:20,maxSpeed:1400},Fo),vd=u.extend({deceleration:1e3,maxSpeed:360},Fo),$a=u.extend({deceleration:1e3,maxSpeed:90},Fo);class xd{constructor(n){this._map=n,this.clear()}clear(){this._inertiaBuffer=[]}record(n){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.exported.now(),settings:n})}_drainInertiaBuffer(){const n=this._inertiaBuffer,o=u.exported.now();for(;n.length>0&&o-n[0].time>160;)n.shift()}_onMoveEnd(n){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const o={zoom:0,bearing:0,pitch:0,pan:new u.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:y}of this._inertiaBuffer)o.zoom+=y.zoomDelta||0,o.bearing+=y.bearingDelta||0,o.pitch+=y.pitchDelta||0,y.panDelta&&o.pan._add(y.panDelta),y.around&&(o.around=y.around),y.pinchAround&&(o.pinchAround=y.pinchAround);const c=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(o.pan.mag()){const y=Oo(o.pan.mag(),c,u.extend({},yd,n||{}));g.offset=o.pan.mult(y.amount/o.pan.mag()),g.center=this._map.transform.center,Bo(g,y)}if(o.zoom){const y=Oo(o.zoom,c,_d);g.zoom=this._map.transform.zoom+y.amount,Bo(g,y)}if(o.bearing){const y=Oo(o.bearing,c,vd);g.bearing=this._map.transform.bearing+u.clamp(y.amount,-179,179),Bo(g,y)}if(o.pitch){const y=Oo(o.pitch,c,$a);g.pitch=this._map.transform.pitch+y.amount,Bo(g,y)}if(g.zoom||g.bearing){const y=o.pinchAround===void 0?o.around:o.pinchAround;g.around=y?this._map.unproject(y):this._map.getCenter()}return this.clear(),u.extend(g,{noMoveStart:!0})}}function Bo(h,n){(!h.duration||h.duration<n.duration)&&(h.duration=n.duration,h.easing=n.easing)}function Oo(h,n,o){const{maxSpeed:c,linearity:g,deceleration:y}=o,w=u.clamp(h*g/(n/1e3),-c,c),S=Math.abs(w)/(y*g);return{easing:o.easing,duration:1e3*S,amount:w*(S/2)}}class Bi extends u.Event{constructor(n,o,c,g={}){const y=V.mousePos(o.getCanvasContainer(),c),w=o.unproject(y);super(n,u.extend({point:y,lngLat:w,originalEvent:c},g)),this._defaultPrevented=!1,this.target=o}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Ai extends u.Event{constructor(n,o,c){const g=n==="touchend"?c.changedTouches:c.touches,y=V.touchPos(o.getCanvasContainer(),g),w=y.map(E=>o.unproject(E)),S=y.reduce((E,C,z,L)=>E.add(C.div(L.length)),new u.pointGeometry(0,0));super(n,{points:y,point:S,lngLats:w,lngLat:o.unproject(S),originalEvent:c}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class jp extends u.Event{constructor(n,o,c){super(n,{originalEvent:c}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class ua{constructor(n,o){this._map=n,this._clickTolerance=o.clickTolerance}reset(){delete this._mousedownPos}wheel(n){return this._firePreventable(new jp(n.type,this._map,n))}mousedown(n,o){return this._mousedownPos=o,this._firePreventable(new Bi(n.type,this._map,n))}mouseup(n){this._map.fire(new Bi(n.type,this._map,n))}click(n,o){this._mousedownPos&&this._mousedownPos.dist(o)>=this._clickTolerance||this._map.fire(new Bi(n.type,this._map,n))}dblclick(n){return this._firePreventable(new Bi(n.type,this._map,n))}mouseover(n){this._map.fire(new Bi(n.type,this._map,n))}mouseout(n){this._map.fire(new Bi(n.type,this._map,n))}touchstart(n){return this._firePreventable(new Ai(n.type,this._map,n))}touchmove(n){this._map.fire(new Ai(n.type,this._map,n))}touchend(n){this._map.fire(new Ai(n.type,this._map,n))}touchcancel(n){this._map.fire(new Ai(n.type,this._map,n))}_firePreventable(n){if(this._map.fire(n),n.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wd{constructor(n){this._map=n}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(n){this._map.fire(new Bi(n.type,this._map,n))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Bi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(n){this._delayContextMenu?this._contextMenuEvent=n:this._map.fire(new Bi(n.type,this._map,n)),this._map.listens("contextmenu")&&n.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ga{constructor(n,o){this._map=n,this._el=n.getCanvasContainer(),this._container=n.getContainer(),this._clickTolerance=o.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(n,o){this.isEnabled()&&n.shiftKey&&n.button===0&&(V.disableDrag(),this._startPos=this._lastPos=o,this._active=!0)}mousemoveWindow(n,o){if(!this._active)return;const c=o;if(this._lastPos.equals(c)||!this._box&&c.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=c,this._box||(this._box=V.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",n));const y=Math.min(g.x,c.x),w=Math.max(g.x,c.x),S=Math.min(g.y,c.y),E=Math.max(g.y,c.y);V.setTransform(this._box,`translate(${y}px,${S}px)`),this._box.style.width=w-y+"px",this._box.style.height=E-S+"px"}mouseupWindow(n,o){if(!this._active||n.button!==0)return;const c=this._startPos,g=o;if(this.reset(),V.suppressClick(),c.x!==g.x||c.y!==g.y)return this._map.fire(new u.Event("boxzoomend",{originalEvent:n})),{cameraAnimation:y=>y.fitScreenCoordinates(c,g,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",n)}keydown(n){this._active&&n.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",n))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(V.remove(this._box),this._box=null),V.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(n,o){return this._map.fire(new u.Event(n,{originalEvent:o}))}}function ca(h,n){const o={};for(let c=0;c<h.length;c++)o[h[c].identifier]=n[c];return o}class $p{constructor(n){this.reset(),this.numTouches=n.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(n,o,c){(this.centroid||c.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=n.timeStamp),c.length===this.numTouches&&(this.centroid=function(g){const y=new u.pointGeometry(0,0);for(const w of g)y._add(w);return y.div(g.length)}(o),this.touches=ca(c,o)))}touchmove(n,o,c){if(this.aborted||!this.centroid)return;const g=ca(c,o);for(const y in this.touches){const w=this.touches[y],S=g[y];(!S||S.dist(w)>30)&&(this.aborted=!0)}}touchend(n,o,c){if((!this.centroid||n.timeStamp-this.startTime>500)&&(this.aborted=!0),c.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class vu{constructor(n){this.singleTap=new $p(n),this.numTaps=n.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(n,o,c){this.singleTap.touchstart(n,o,c)}touchmove(n,o,c){this.singleTap.touchmove(n,o,c)}touchend(n,o,c){const g=this.singleTap.touchend(n,o,c);if(g){const y=n.timeStamp-this.lastTime<500,w=!this.lastTap||this.lastTap.dist(g)<30;if(y&&w||this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class Gp{constructor(){this._zoomIn=new vu({numTouches:1,numTaps:2}),this._zoomOut=new vu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(n,o,c){this._zoomIn.touchstart(n,o,c),this._zoomOut.touchstart(n,o,c)}touchmove(n,o,c){this._zoomIn.touchmove(n,o,c),this._zoomOut.touchmove(n,o,c)}touchend(n,o,c){const g=this._zoomIn.touchend(n,o,c),y=this._zoomOut.touchend(n,o,c);return g?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:w=>w.easeTo({duration:300,zoom:w.getZoom()+1,around:w.unproject(g)},{originalEvent:n})}):y?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:w=>w.easeTo({duration:300,zoom:w.getZoom()-1,around:w.unproject(y)},{originalEvent:n})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const bd={0:1,2:2};class da{constructor(n){this.reset(),this._clickTolerance=n.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(n,o){return!1}_move(n,o){return{}}mousedown(n,o){if(this._lastPoint)return;const c=V.mouseButton(n);this._correctButton(n,c)&&(this._lastPoint=o,this._eventButton=c)}mousemoveWindow(n,o){const c=this._lastPoint;if(c){if(n.preventDefault(),function(g,y){const w=bd[y];return g.buttons===void 0||(g.buttons&w)!==w}(n,this._eventButton))this.reset();else if(this._moved||!(o.dist(c)<this._clickTolerance))return this._moved=!0,this._lastPoint=o,this._move(c,o)}}mouseupWindow(n){this._lastPoint&&V.mouseButton(n)===this._eventButton&&(this._moved&&V.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qa extends da{mousedown(n,o){super.mousedown(n,o),this._lastPoint&&(this._active=!0)}_correctButton(n,o){return o===0&&!n.ctrlKey}_move(n,o){return{around:o,panDelta:o.sub(n)}}}class Jt extends da{_correctButton(n,o){return o===0&&n.ctrlKey||o===2}_move(n,o){const c=.8*(o.x-n.x);if(c)return this._active=!0,{bearingDelta:c}}contextmenu(n){n.preventDefault()}}class xu extends da{_correctButton(n,o){return o===0&&n.ctrlKey||o===2}_move(n,o){const c=-.5*(o.y-n.y);if(c)return this._active=!0,{pitchDelta:c}}contextmenu(n){n.preventDefault()}}class Uo{constructor(n){this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new u.pointGeometry(0,0)}touchstart(n,o,c){return this._calculateTransform(n,o,c)}touchmove(n,o,c){if(this._active&&!(c.length<this._minTouches))return n.preventDefault(),this._calculateTransform(n,o,c)}touchend(n,o,c){this._calculateTransform(n,o,c),this._active&&c.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(n,o,c){c.length>0&&(this._active=!0);const g=ca(c,o),y=new u.pointGeometry(0,0),w=new u.pointGeometry(0,0);let S=0;for(const C in g){const z=g[C],L=this._touches[C];L&&(y._add(z),w._add(z.sub(L)),S++,g[C]=z)}if(this._touches=g,S<this._minTouches||!w.mag())return;const E=w.div(S);return this._sum._add(E),this._sum.mag()<this._clickTolerance?void 0:{around:y.div(S),panDelta:E}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ha{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(n){}_move(n,o,c){return{}}touchstart(n,o,c){this._firstTwoTouches||c.length<2||(this._firstTwoTouches=[c[0].identifier,c[1].identifier],this._start([o[0],o[1]]))}touchmove(n,o,c){if(!this._firstTwoTouches)return;n.preventDefault();const[g,y]=this._firstTwoTouches,w=No(c,o,g),S=No(c,o,y);if(!w||!S)return;const E=this._aroundCenter?null:w.add(S).div(2);return this._move([w,S],E,n)}touchend(n,o,c){if(!this._firstTwoTouches)return;const[g,y]=this._firstTwoTouches,w=No(c,o,g),S=No(c,o,y);w&&S||(this._active&&V.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(n){this._enabled=!0,this._aroundCenter=!!n&&n.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function No(h,n,o){for(let c=0;c<h.length;c++)if(h[c].identifier===o)return n[c]}function $t(h,n){return Math.log(h/n)/Math.LN2}class wu extends ha{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(n){this._startDistance=this._distance=n[0].dist(n[1])}_move(n,o){const c=this._distance;if(this._distance=n[0].dist(n[1]),this._active||!(Math.abs($t(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:$t(this._distance,c),pinchAround:o}}}function Sd(h,n){return 180*h.angleWith(n)/Math.PI}class qp extends ha{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(n){this._startVector=this._vector=n[0].sub(n[1]),this._minDiameter=n[0].dist(n[1])}_move(n,o){const c=this._vector;if(this._vector=n[0].sub(n[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Sd(this._vector,c),pinchAround:o}}_isBelowThreshold(n){this._minDiameter=Math.min(this._minDiameter,n.mag());const o=25/(Math.PI*this._minDiameter)*360,c=Sd(n,this._startVector);return Math.abs(c)<o}}function Vo(h){return Math.abs(h.y)>Math.abs(h.x)}class Ed extends ha{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(n){this._lastPoints=n,Vo(n[0].sub(n[1]))&&(this._valid=!1)}_move(n,o,c){const g=n[0].sub(this._lastPoints[0]),y=n[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(g,y,c.timeStamp),this._valid)return this._lastPoints=n,this._active=!0,{pitchDelta:(g.y+y.y)/2*-.5}}gestureBeginsVertically(n,o,c){if(this._valid!==void 0)return this._valid;const g=n.mag()>=2,y=o.mag()>=2;if(!g&&!y)return;if(!g||!y)return this._firstMove===void 0&&(this._firstMove=c),c-this._firstMove<100&&void 0;const w=n.y>0==o.y>0;return Vo(n)&&Vo(o)&&w}}const Td={panStep:100,bearingStep:15,pitchStep:10};class Zp{constructor(){const n=Td;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(n){if(n.altKey||n.ctrlKey||n.metaKey)return;let o=0,c=0,g=0,y=0,w=0;switch(n.keyCode){case 61:case 107:case 171:case 187:o=1;break;case 189:case 109:case 173:o=-1;break;case 37:n.shiftKey?c=-1:(n.preventDefault(),y=-1);break;case 39:n.shiftKey?c=1:(n.preventDefault(),y=1);break;case 38:n.shiftKey?g=1:(n.preventDefault(),w=-1);break;case 40:n.shiftKey?g=-1:(n.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(c=0,g=0),{cameraAnimation:S=>{const E=S.getZoom();S.easeTo({duration:300,easeId:"keyboardHandler",easing:Wp,zoom:o?Math.round(E)+o*(n.shiftKey?2:1):E,bearing:S.getBearing()+c*this._bearingStep,pitch:S.getPitch()+g*this._pitchStep,offset:[-y*this._panStep,-w*this._panStep],center:S.getCenter()},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Wp(h){return h*(2-h)}const ql=4.000244140625;class bu{constructor(n,o){this._map=n,this._el=n.getCanvasContainer(),this._handler=o,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,u.bindAll(["_onTimeout"],this)}setZoomRate(n){this._defaultZoomRate=n}setWheelZoomRate(n){this._wheelZoomRate=n}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(n){this.isEnabled()||(this._enabled=!0,this._aroundCenter=n&&n.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(n){if(!this.isEnabled())return;let o=n.deltaMode===WheelEvent.DOM_DELTA_LINE?40*n.deltaY:n.deltaY;const c=u.exported.now(),g=c-(this._lastWheelEventTime||0);this._lastWheelEventTime=c,o!==0&&o%ql==0?this._type="wheel":o!==0&&Math.abs(o)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=o,this._timeout=setTimeout(this._onTimeout,40,n)):this._type||(this._type=Math.abs(g*o)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,o+=this._lastValue)),n.shiftKey&&o&&(o/=4),this._type&&(this._lastWheelEvent=n,this._delta-=o,this._active||this._start(n)),n.preventDefault()}_onTimeout(n){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(n)}_start(n){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const o=V.mousePos(this._el,n);this._around=u.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(o)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const n=this._map.transform;if(this._delta!==0){const S=this._type==="wheel"&&Math.abs(this._delta)>ql?this._wheelZoomRate:this._defaultZoomRate;let E=2/(1+Math.exp(-Math.abs(this._delta*S)));this._delta<0&&E!==0&&(E=1/E);const C=typeof this._targetZoom=="number"?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(C*E))),this._type==="wheel"&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const o=typeof this._targetZoom=="number"?this._targetZoom:n.zoom,c=this._startZoom,g=this._easing;let y,w=!1;if(this._type==="wheel"&&c&&g){const S=Math.min((u.exported.now()-this._lastWheelEventTime)/200,1),E=g(S);y=u.number(c,o,E),S<1?this._frameId||(this._frameId=!0):w=!0}else y=o,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!w,zoomDelta:y-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(n){let o=u.ease;if(this._prevEase){const c=this._prevEase,g=(u.exported.now()-c.start)/c.duration,y=c.easing(g+.01)-c.easing(g),w=.27/Math.sqrt(y*y+1e-4)*.01,S=Math.sqrt(.0729-w*w);o=u.bezier(w,S,.25,1)}return this._prevEase={start:u.exported.now(),duration:n,easing:o},o}reset(){this._active=!1}}class Su{constructor(n,o){this._clickZoom=n,this._tapZoom=o}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Eu{constructor(){this.reset()}reset(){this._active=!1}dblclick(n,o){return n.preventDefault(),{cameraAnimation:c=>{c.easeTo({duration:300,zoom:c.getZoom()+(n.shiftKey?-1:1),around:c.unproject(o)},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ki{constructor(){this._tap=new vu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(n,o,c){this._swipePoint||(this._tapTime&&n.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?c.length>0&&(this._swipePoint=o[0],this._swipeTouch=c[0].identifier):this._tap.touchstart(n,o,c))}touchmove(n,o,c){if(this._tapTime){if(this._swipePoint){if(c[0].identifier!==this._swipeTouch)return;const g=o[0],y=g.y-this._swipePoint.y;return this._swipePoint=g,n.preventDefault(),this._active=!0,{zoomDelta:y/128}}}else this._tap.touchmove(n,o,c)}touchend(n,o,c){this._tapTime?this._swipePoint&&c.length===0&&this.reset():this._tap.touchend(n,o,c)&&(this._tapTime=n.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wr{constructor(n,o,c){this._el=n,this._mousePan=o,this._touchPan=c}enable(n){this._inertiaOptions=n||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ad{constructor(n,o,c){this._pitchWithRotate=n.pitchWithRotate,this._mouseRotate=o,this._mousePitch=c}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Tu{constructor(n,o,c,g){this._el=n,this._touchZoom=o,this._touchRotate=c,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(n){this._touchZoom.enable(n),this._rotationDisabled||this._touchRotate.enable(n),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Za=h=>h.zoom||h.drag||h.pitch||h.rotate;class Au extends u.Event{}function Zl(h){return h.panDelta&&h.panDelta.mag()||h.zoomDelta||h.bearingDelta||h.pitchDelta}class Ki{constructor(n,o){this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xd(n),this._bearingSnap=o.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(o),u.bindAll(["handleEvent","handleWindowEvent"],this);const c=this._el;this._listeners=[[c,"touchstart",{passive:!0}],[c,"touchmove",{passive:!1}],[c,"touchend",void 0],[c,"touchcancel",void 0],[c,"mousedown",void 0],[c,"mousemove",void 0],[c,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[c,"mouseover",void 0],[c,"mouseout",void 0],[c,"dblclick",void 0],[c,"click",void 0],[c,"keydown",{capture:!1}],[c,"keyup",void 0],[c,"wheel",{passive:!1}],[c,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,y,w]of this._listeners)V.addEventListener(g,y,g===document?this.handleWindowEvent:this.handleEvent,w)}destroy(){for(const[n,o,c]of this._listeners)V.removeEventListener(n,o,n===document?this.handleWindowEvent:this.handleEvent,c)}_addDefaultHandlers(n){const o=this._map,c=o.getCanvasContainer();this._add("mapEvent",new ua(o,n));const g=o.boxZoom=new Ga(o,n);this._add("boxZoom",g);const y=new Gp,w=new Eu;o.doubleClickZoom=new Su(w,y),this._add("tapZoom",y),this._add("clickZoom",w);const S=new ki;this._add("tapDragZoom",S);const E=o.touchPitch=new Ed;this._add("touchPitch",E);const C=new Jt(n),z=new xu(n);o.dragRotate=new Ad(n,C,z),this._add("mouseRotate",C,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]);const L=new qa(n),U=new Uo(n);o.dragPan=new Wr(c,L,U),this._add("mousePan",L),this._add("touchPan",U,["touchZoom","touchRotate"]);const W=new qp,N=new wu;o.touchZoomRotate=new Tu(c,N,W,S),this._add("touchRotate",W,["touchPan","touchZoom"]),this._add("touchZoom",N,["touchPan","touchRotate"]);const q=o.scrollZoom=new bu(o,this);this._add("scrollZoom",q,["mousePan"]);const it=o.keyboard=new Zp;this._add("keyboard",it),this._add("blockableMapEvent",new wd(o));for(const rt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])n.interactive&&n[rt]&&o[rt].enable(n[rt])}_add(n,o,c){this._handlers.push({handlerName:n,handler:o,allowed:c}),this._handlersById[n]=o}stop(n){if(!this._updatingCamera){for(const{handler:o}of this._handlers)o.reset();this._inertia.clear(),this._fireEvents({},{},n),this._changes=[]}}isActive(){for(const{handler:n}of this._handlers)if(n.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Za(this._eventsInProgress))||this.isZooming()}_blockedByActive(n,o,c){for(const g in n)if(g!==c&&(!o||o.indexOf(g)<0))return!0;return!1}handleWindowEvent(n){this.handleEvent(n,`${n.type}Window`)}_getMapTouches(n){const o=[];for(const c of n)this._el.contains(c.target)&&o.push(c);return o}handleEvent(n,o){if(n.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const c=n.type==="renderFrame"?void 0:n,g={needsRenderFrame:!1},y={},w={},S=n.touches,E=S?this._getMapTouches(S):void 0,C=E?V.touchPos(this._el,E):V.mousePos(this._el,n);for(const{handlerName:U,handler:W,allowed:N}of this._handlers){if(!W.isEnabled())continue;let q;this._blockedByActive(w,N,U)?W.reset():W[o||n.type]&&(q=W[o||n.type](n,C,E),this.mergeHandlerResult(g,y,q,U,c),q&&q.needsRenderFrame&&this._triggerRenderFrame()),(q||W.isActive())&&(w[U]=W)}const z={};for(const U in this._previousActiveHandlers)w[U]||(z[U]=c);this._previousActiveHandlers=w,(Object.keys(z).length||Zl(g))&&(this._changes.push([g,y,z]),this._triggerRenderFrame()),(Object.keys(w).length||Zl(g))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:L}=g;L&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],L(this._map))}mergeHandlerResult(n,o,c,g,y){if(!c)return;u.extend(n,c);const w={handlerName:g,originalEvent:c.originalEvent||y};c.zoomDelta!==void 0&&(o.zoom=w),c.panDelta!==void 0&&(o.drag=w),c.pitchDelta!==void 0&&(o.pitch=w),c.bearingDelta!==void 0&&(o.rotate=w)}_applyChanges(){const n={},o={},c={};for(const[g,y,w]of this._changes)g.panDelta&&(n.panDelta=(n.panDelta||new u.pointGeometry(0,0))._add(g.panDelta)),g.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(n.around=g.around),g.pinchAround!==void 0&&(n.pinchAround=g.pinchAround),g.noInertia&&(n.noInertia=g.noInertia),u.extend(o,y),u.extend(c,w);this._updateMapTransform(n,o,c),this._changes=[]}_updateMapTransform(n,o,c){const g=this._map,y=g.transform;if(!Zl(n))return this._fireEvents(o,c,!0);let{panDelta:w,zoomDelta:S,bearingDelta:E,pitchDelta:C,around:z,pinchAround:L}=n;L!==void 0&&(z=L),g._stop(!0),z=z||g.transform.centerPoint;const U=y.pointLocation(w?z.sub(w):z);E&&(y.bearing+=E),C&&(y.pitch+=C),S&&(y.zoom+=S),y.setLocationAtPoint(U,z),this._map._update(),n.noInertia||this._inertia.record(n),this._fireEvents(o,c,!0)}_fireEvents(n,o,c){const g=Za(this._eventsInProgress),y=Za(n),w={};for(const z in n){const{originalEvent:L}=n[z];this._eventsInProgress[z]||(w[`${z}start`]=L),this._eventsInProgress[z]=n[z]}!g&&y&&this._fireEvent("movestart",y.originalEvent);for(const z in w)this._fireEvent(z,w[z]);y&&this._fireEvent("move",y.originalEvent);for(const z in n){const{originalEvent:L}=n[z];this._fireEvent(z,L)}const S={};let E;for(const z in this._eventsInProgress){const{handlerName:L,originalEvent:U}=this._eventsInProgress[z];this._handlersById[L].isActive()||(delete this._eventsInProgress[z],E=o[L]||U,S[`${z}end`]=E)}for(const z in S)this._fireEvent(z,S[z]);const C=Za(this._eventsInProgress);if(c&&(g||y)&&!C){this._updatingCamera=!0;const z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),L=U=>U!==0&&-this._bearingSnap<U&&U<this._bearingSnap;z?(L(z.bearing||this._map.getBearing())&&(z.bearing=0),this._map.easeTo(z,{originalEvent:E})):(this._map.fire(new u.Event("moveend",{originalEvent:E})),L(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(n,o){this._map.fire(new u.Event(n,o?{originalEvent:o}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(n=>{delete this._frameId,this.handleEvent(new Au("renderFrame",{timeStamp:n})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const pn={extend:(h,...n)=>u.extend(h,...n),run(h){h()},logToElement(h,n=!1,o="log"){const c=window.document.getElementById(o);c&&(n&&(c.innerHTML=""),c.innerHTML+=`<br>${h}`)}};class Wl extends u.Evented{constructor(n,o){super(),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=o.bearingSnap,u.bindAll(["_renderFrameCallback"],this)}getCenter(){return new u.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(n,o){return this.jumpTo({center:n},o)}panBy(n,o,c){return n=u.pointGeometry.convert(n).mult(-1),this.panTo(this.transform.center,u.extend({offset:n},o),c)}panTo(n,o,c){return this.easeTo(u.extend({center:n},o),c)}getZoom(){return this.transform.zoom}setZoom(n,o){return this.jumpTo({zoom:n},o),this}zoomTo(n,o,c){return this.easeTo(u.extend({zoom:n},o),c)}zoomIn(n,o){return this.zoomTo(this.getZoom()+1,n,o),this}zoomOut(n,o){return this.zoomTo(this.getZoom()-1,n,o),this}getBearing(){return this.transform.bearing}setBearing(n,o){return this.jumpTo({bearing:n},o),this}getPadding(){return this.transform.padding}setPadding(n,o){return this.jumpTo({padding:n},o),this}rotateTo(n,o,c){return this.easeTo(u.extend({bearing:n},o),c)}resetNorth(n,o){return this.rotateTo(0,u.extend({duration:1e3},n),o),this}resetNorthPitch(n,o){return this.easeTo(u.extend({bearing:0,pitch:0,duration:1e3},n),o),this}snapToNorth(n,o){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(n,o):this}getPitch(){return this.transform.pitch}setPitch(n,o){return this.jumpTo({pitch:n},o),this}cameraForBounds(n,o){n=u.LngLatBounds.convert(n);const c=o&&o.bearing||0;return this._cameraForBoxAndBearing(n.getNorthWest(),n.getSouthEast(),c,o)}_cameraForBoxAndBearing(n,o,c,g){const y={top:0,bottom:0,right:0,left:0};if(typeof(g=u.extend({padding:y,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const mt=g.padding;g.padding={top:mt,bottom:mt,right:mt,left:mt}}g.padding=u.extend(y,g.padding);const w=this.transform,S=w.padding,E=w.project(u.LngLat.convert(n)),C=w.project(u.LngLat.convert(o)),z=E.rotate(-c*Math.PI/180),L=C.rotate(-c*Math.PI/180),U=new u.pointGeometry(Math.max(z.x,L.x),Math.max(z.y,L.y)),W=new u.pointGeometry(Math.min(z.x,L.x),Math.min(z.y,L.y)),N=U.sub(W),q=(w.width-(S.left+S.right+g.padding.left+g.padding.right))/N.x,it=(w.height-(S.top+S.bottom+g.padding.top+g.padding.bottom))/N.y;if(it<0||q<0)return void u.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const rt=Math.min(w.scaleZoom(w.scale*Math.min(q,it)),g.maxZoom),st=u.pointGeometry.convert(g.offset),ot=new u.pointGeometry((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(c*Math.PI/180),Et=st.add(ot).mult(w.scale/w.zoomScale(rt));return{center:w.unproject(E.add(C).div(2).sub(Et)),zoom:rt,bearing:c}}fitBounds(n,o,c){return this._fitInternal(this.cameraForBounds(n,o),o,c)}fitScreenCoordinates(n,o,c,g,y){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(u.pointGeometry.convert(n)),this.transform.pointLocation(u.pointGeometry.convert(o)),c,g),g,y)}_fitInternal(n,o,c){return n?(delete(o=u.extend(n,o)).padding,o.linear?this.easeTo(o,c):this.flyTo(o,c)):this}jumpTo(n,o){this.stop();const c=this.transform;let g=!1,y=!1,w=!1;return"zoom"in n&&c.zoom!==+n.zoom&&(g=!0,c.zoom=+n.zoom),n.center!==void 0&&(c.center=u.LngLat.convert(n.center)),"bearing"in n&&c.bearing!==+n.bearing&&(y=!0,c.bearing=+n.bearing),"pitch"in n&&c.pitch!==+n.pitch&&(w=!0,c.pitch=+n.pitch),n.padding==null||c.isPaddingEqual(n.padding)||(c.padding=n.padding),this.fire(new u.Event("movestart",o)).fire(new u.Event("move",o)),g&&this.fire(new u.Event("zoomstart",o)).fire(new u.Event("zoom",o)).fire(new u.Event("zoomend",o)),y&&this.fire(new u.Event("rotatestart",o)).fire(new u.Event("rotate",o)).fire(new u.Event("rotateend",o)),w&&this.fire(new u.Event("pitchstart",o)).fire(new u.Event("pitch",o)).fire(new u.Event("pitchend",o)),this.fire(new u.Event("moveend",o))}easeTo(n,o){this._stop(!1,n.easeId),((n=u.extend({offset:[0,0],duration:500,easing:u.ease},n)).animate===!1||!n.essential&&u.exported.prefersReducedMotion)&&(n.duration=0);const c=this.transform,g=this.getZoom(),y=this.getBearing(),w=this.getPitch(),S=this.getPadding(),E="zoom"in n?+n.zoom:g,C="bearing"in n?this._normalizeBearing(n.bearing,y):y,z="pitch"in n?+n.pitch:w,L="padding"in n?n.padding:c.padding,U=u.pointGeometry.convert(n.offset);let W=c.centerPoint.add(U);const N=c.pointLocation(W),q=u.LngLat.convert(n.center||N);this._normalizeCenter(q);const it=c.project(N),rt=c.project(q).sub(it),st=c.zoomScale(E-g);let ot,Et;n.around&&(ot=u.LngLat.convert(n.around),Et=c.locationPoint(ot));const mt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||E!==g,this._rotating=this._rotating||y!==C,this._pitching=this._pitching||z!==w,this._padding=!c.isPaddingEqual(L),this._easeId=n.easeId,this._prepareEase(o,n.noMoveStart,mt),this._ease(xt=>{if(this._zooming&&(c.zoom=u.number(g,E,xt)),this._rotating&&(c.bearing=u.number(y,C,xt)),this._pitching&&(c.pitch=u.number(w,z,xt)),this._padding&&(c.interpolatePadding(S,L,xt),W=c.centerPoint.add(U)),ot)c.setLocationAtPoint(ot,Et);else{const Mt=c.zoomScale(c.zoom-g),Rt=E>g?Math.min(2,st):Math.max(.5,st),St=Math.pow(Rt,1-xt),te=c.unproject(it.add(rt.mult(xt*St)).mult(Mt));c.setLocationAtPoint(c.renderWorldCopies?te.wrap():te,W)}this._fireMoveEvents(o)},xt=>{this._afterEase(o,xt)},n),this}_prepareEase(n,o,c={}){this._moving=!0,o||c.moving||this.fire(new u.Event("movestart",n)),this._zooming&&!c.zooming&&this.fire(new u.Event("zoomstart",n)),this._rotating&&!c.rotating&&this.fire(new u.Event("rotatestart",n)),this._pitching&&!c.pitching&&this.fire(new u.Event("pitchstart",n))}_fireMoveEvents(n){this.fire(new u.Event("move",n)),this._zooming&&this.fire(new u.Event("zoom",n)),this._rotating&&this.fire(new u.Event("rotate",n)),this._pitching&&this.fire(new u.Event("pitch",n))}_afterEase(n,o){if(this._easeId&&o&&this._easeId===o)return;delete this._easeId;const c=this._zooming,g=this._rotating,y=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,c&&this.fire(new u.Event("zoomend",n)),g&&this.fire(new u.Event("rotateend",n)),y&&this.fire(new u.Event("pitchend",n)),this.fire(new u.Event("moveend",n))}flyTo(n,o){if(!n.essential&&u.exported.prefersReducedMotion){const Re=u.pick(n,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Re,o)}this.stop(),n=u.extend({offset:[0,0],speed:1.2,curve:1.42,easing:u.ease},n);const c=this.transform,g=this.getZoom(),y=this.getBearing(),w=this.getPitch(),S=this.getPadding(),E="zoom"in n?u.clamp(+n.zoom,c.minZoom,c.maxZoom):g,C="bearing"in n?this._normalizeBearing(n.bearing,y):y,z="pitch"in n?+n.pitch:w,L="padding"in n?n.padding:c.padding,U=c.zoomScale(E-g),W=u.pointGeometry.convert(n.offset);let N=c.centerPoint.add(W);const q=c.pointLocation(N),it=u.LngLat.convert(n.center||q);this._normalizeCenter(it);const rt=c.project(q),st=c.project(it).sub(rt);let ot=n.curve;const Et=Math.max(c.width,c.height),mt=Et/U,xt=st.mag();if("minZoom"in n){const Re=u.clamp(Math.min(n.minZoom,g,E),c.minZoom,c.maxZoom),An=Et/c.zoomScale(Re-g);ot=Math.sqrt(An/xt*2)}const Mt=ot*ot;function Rt(Re){const An=(mt*mt-Et*Et+(Re?-1:1)*Mt*Mt*xt*xt)/(2*(Re?mt:Et)*Mt*xt);return Math.log(Math.sqrt(An*An+1)-An)}function St(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function te(Re){return(Math.exp(Re)+Math.exp(-Re))/2}const Gt=Rt(0);let fe=function(Re){return te(Gt)/te(Gt+ot*Re)},Oe=function(Re){return Et*((te(Gt)*(St(An=Gt+ot*Re)/te(An))-St(Gt))/Mt)/xt;var An},Me=(Rt(1)-Gt)/ot;if(Math.abs(xt)<1e-6||!isFinite(Me)){if(Math.abs(Et-mt)<1e-6)return this.easeTo(n,o);const Re=mt<Et?-1:1;Me=Math.abs(Math.log(mt/Et))/ot,Oe=function(){return 0},fe=function(An){return Math.exp(Re*ot*An)}}return n.duration="duration"in n?+n.duration:1e3*Me/("screenSpeed"in n?+n.screenSpeed/ot:+n.speed),n.maxDuration&&n.duration>n.maxDuration&&(n.duration=0),this._zooming=!0,this._rotating=y!==C,this._pitching=z!==w,this._padding=!c.isPaddingEqual(L),this._prepareEase(o,!1),this._ease(Re=>{const An=Re*Me,_e=1/fe(An);c.zoom=Re===1?E:g+c.scaleZoom(_e),this._rotating&&(c.bearing=u.number(y,C,Re)),this._pitching&&(c.pitch=u.number(w,z,Re)),this._padding&&(c.interpolatePadding(S,L,Re),N=c.centerPoint.add(W));const Ve=Re===1?it:c.unproject(rt.add(st.mult(Oe(An))).mult(_e));c.setLocationAtPoint(c.renderWorldCopies?Ve.wrap():Ve,N),this._fireMoveEvents(o)},()=>this._afterEase(o),n),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(n,o){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const c=this._onEaseEnd;delete this._onEaseEnd,c.call(this,o)}if(!n){const c=this.handlers;c&&c.stop(!1)}return this}_ease(n,o,c){c.animate===!1||c.duration===0?(n(1),o()):(this._easeStart=u.exported.now(),this._easeOptions=c,this._onEaseFrame=n,this._onEaseEnd=o,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const n=Math.min((u.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(n)),n<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(n,o){n=u.wrap(n,-180,180);const c=Math.abs(n-o);return Math.abs(n-360-o)<c&&(n-=360),Math.abs(n+360-o)<c&&(n+=360),n}_normalizeCenter(n){const o=this.transform;if(!o.renderWorldCopies||o.lngRange)return;const c=n.lng-o.center.lng;n.lng+=c>180?-360:c<-180?360:0}}class Hl{constructor(n={}){this.options=n,u.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(n){return this._map=n,this._compact=this.options&&this.options.compact,this._container=V.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=V.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=V.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){V.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(n,o){const c=this._map._getUIString(`AttributionControl.${o}`);n.title=c,n.setAttribute("aria-label",c)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(n){!n||n.sourceDataType!=="metadata"&&n.sourceDataType!=="visibility"&&n.dataType!=="style"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let n=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=n.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&n.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const o=this._map.style.sourceCaches;for(const g in o){const y=o[g];if(y.used){const w=y.getSource();w.attribution&&n.indexOf(w.attribution)<0&&n.push(w.attribution)}}n=n.filter(g=>String(g).trim()),n.sort((g,y)=>g.length-y.length),n=n.filter((g,y)=>{for(let w=y+1;w<n.length;w++)if(n[w].indexOf(g)>=0)return!1;return!0});const c=n.join(" | ");c!==this._attribHTML&&(this._attribHTML=c,n.length?(this._innerContainer.innerHTML=c,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class ku{constructor(n={}){this.options=n,u.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(n){this._map=n,this._compact=this.options&&this.options.compact,this._container=V.create("div","maplibregl-ctrl mapboxgl-ctrl");const o=V.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return o.target="_blank",o.rel="noopener nofollow",o.href="https://maplibre.org/",o.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),o.setAttribute("rel","noopener nofollow"),this._container.appendChild(o),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){V.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const n=this._container.children;if(n.length){const o=n[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&o.classList.add("maplibregl-compact","mapboxgl-compact"):o.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class kd{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(n){const o=++this._id;return this._queue.push({callback:n,id:o,cancelled:!1}),o}remove(n){const o=this._currentlyRunning,c=o?this._queue.concat(o):this._queue;for(const g of c)if(g.id===n)return void(g.cancelled=!0)}run(n=0){const o=this._currentlyRunning=this._queue;this._queue=[];for(const c of o)if(!c.cancelled&&(c.callback(n),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Cd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Hp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},vr={showCompass:!0,showZoom:!0,visualizePitch:!1};class Xl{constructor(n,o,c=!1){this._clickTolerance=10,this.element=o,this.mouseRotate=new Jt({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,c&&(this.mousePitch=new xu({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),u.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),V.addEventListener(o,"mousedown",this.mousedown),V.addEventListener(o,"touchstart",this.touchstart,{passive:!1}),V.addEventListener(o,"touchmove",this.touchmove),V.addEventListener(o,"touchend",this.touchend),V.addEventListener(o,"touchcancel",this.reset)}down(n,o){this.mouseRotate.mousedown(n,o),this.mousePitch&&this.mousePitch.mousedown(n,o),V.disableDrag()}move(n,o){const c=this.map,g=this.mouseRotate.mousemoveWindow(n,o);if(g&&g.bearingDelta&&c.setBearing(c.getBearing()+g.bearingDelta),this.mousePitch){const y=this.mousePitch.mousemoveWindow(n,o);y&&y.pitchDelta&&c.setPitch(c.getPitch()+y.pitchDelta)}}off(){const n=this.element;V.removeEventListener(n,"mousedown",this.mousedown),V.removeEventListener(n,"touchstart",this.touchstart,{passive:!1}),V.removeEventListener(n,"touchmove",this.touchmove),V.removeEventListener(n,"touchend",this.touchend),V.removeEventListener(n,"touchcancel",this.reset),this.offTemp()}offTemp(){V.enableDrag(),V.removeEventListener(window,"mousemove",this.mousemove),V.removeEventListener(window,"mouseup",this.mouseup)}mousedown(n){this.down(u.extend({},n,{ctrlKey:!0,preventDefault:()=>n.preventDefault()}),V.mousePos(this.element,n)),V.addEventListener(window,"mousemove",this.mousemove),V.addEventListener(window,"mouseup",this.mouseup)}mousemove(n){this.move(n,V.mousePos(this.element,n))}mouseup(n){this.mouseRotate.mouseupWindow(n),this.mousePitch&&this.mousePitch.mouseupWindow(n),this.offTemp()}touchstart(n){n.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=V.touchPos(this.element,n.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>n.preventDefault()},this._startPos))}touchmove(n){n.targetTouches.length!==1?this.reset():(this._lastPos=V.touchPos(this.element,n.targetTouches)[0],this.move({preventDefault:()=>n.preventDefault()},this._lastPos))}touchend(n){n.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function ne(h,n,o){if(h=new u.LngLat(h.lng,h.lat),n){const c=new u.LngLat(h.lng-360,h.lat),g=new u.LngLat(h.lng+360,h.lat),y=o.locationPoint(h).distSqr(n);o.locationPoint(c).distSqr(n)<y?h=c:o.locationPoint(g).distSqr(n)<y&&(h=g)}for(;Math.abs(h.lng-o.center.lng)>180;){const c=o.locationPoint(h);if(c.x>=0&&c.y>=0&&c.x<=o.width&&c.y<=o.height)break;h.lng>o.center.lng?h.lng-=360:h.lng+=360}return h}const he={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function jo(h,n,o){const c=h.classList;for(const g in he)c.remove(`maplibregl-${o}-anchor-${g}`,`mapboxgl-${o}-anchor-${g}`);c.add(`maplibregl-${o}-anchor-${n}`,`mapboxgl-${o}-anchor-${n}`)}class $o extends u.Evented{constructor(n,o){if(super(),(n instanceof HTMLElement||o)&&(n=u.extend({element:n},o)),u.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&n.pitchAlignment!=="auto"?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=u.pointGeometry.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=V.create("div"),this._element.setAttribute("aria-label","Map marker");const c=V.createNS("http://www.w3.org/2000/svg","svg"),g=41,y=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${g}px`),c.setAttributeNS(null,"width",`${y}px`),c.setAttributeNS(null,"viewBox",`0 0 ${y} ${g}`);const w=V.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");const S=V.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"fill-rule","nonzero");const E=V.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000");const C=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const st of C){const ot=V.createNS("http://www.w3.org/2000/svg","ellipse");ot.setAttributeNS(null,"opacity","0.04"),ot.setAttributeNS(null,"cx","10.5"),ot.setAttributeNS(null,"cy","5.80029008"),ot.setAttributeNS(null,"rx",st.rx),ot.setAttributeNS(null,"ry",st.ry),E.appendChild(ot)}const z=V.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const L=V.createNS("http://www.w3.org/2000/svg","path");L.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(L);const U=V.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");const W=V.createNS("http://www.w3.org/2000/svg","path");W.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(W);const N=V.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"transform","translate(6.0, 7.0)"),N.setAttributeNS(null,"fill","#FFFFFF");const q=V.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"transform","translate(8.0, 8.0)");const it=V.createNS("http://www.w3.org/2000/svg","circle");it.setAttributeNS(null,"fill","#000000"),it.setAttributeNS(null,"opacity","0.25"),it.setAttributeNS(null,"cx","5.5"),it.setAttributeNS(null,"cy","5.5"),it.setAttributeNS(null,"r","5.4999962");const rt=V.createNS("http://www.w3.org/2000/svg","circle");rt.setAttributeNS(null,"fill","#FFFFFF"),rt.setAttributeNS(null,"cx","5.5"),rt.setAttributeNS(null,"cy","5.5"),rt.setAttributeNS(null,"r","5.4999962"),q.appendChild(it),q.appendChild(rt),S.appendChild(E),S.appendChild(z),S.appendChild(U),S.appendChild(N),S.appendChild(q),c.appendChild(S),c.setAttributeNS(null,"height",g*this._scale+"px"),c.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(c),this._offset=u.pointGeometry.convert(n&&n.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),jo(this._element,this._anchor,"marker"),this._popup=null}addTo(n){return this.remove(),this._map=n,n.getCanvasContainer().appendChild(this._element),n.on("move",this._update),n.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),V.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(n){return this._lngLat=u.LngLat.convert(n),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(n){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),n){if(!("offset"in n.options)){const g=Math.sqrt(Math.pow(13.5,2)/2);n.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=n,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(n){const o=n.code,c=n.charCode||n.keyCode;o!=="Space"&&o!=="Enter"&&c!==32&&c!==13||this.togglePopup()}_onMapClick(n){const o=n.originalEvent.target,c=this._element;this._popup&&(o===c||c.contains(o))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const n=this._popup;return n?(n.isOpen()?n.remove():n.addTo(this._map),this):this}_update(n){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=ne(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let o="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?o=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(o=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let c="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?c="rotateX(0deg)":this._pitchAlignment==="map"&&(c=`rotateX(${this._map.getPitch()}deg)`),n&&n.type!=="moveend"||(this._pos=this._pos.round()),V.setTransform(this._element,`${he[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${c} ${o}`)}getOffset(){return this._offset}setOffset(n){return this._offset=u.pointGeometry.convert(n),this._update(),this}_onMove(n){if(!this._isDragging){const o=this._clickTolerance||this._map._clickTolerance;this._isDragging=n.point.dist(this._pointerdownPos)>=o}this._isDragging&&(this._pos=n.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new u.Event("dragstart"))),this.fire(new u.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new u.Event("dragend")),this._state="inactive"}_addDragHandler(n){this._element.contains(n.originalEvent.target)&&(n.preventDefault(),this._positionDelta=n.point.sub(this._pos).add(this._offset),this._pointerdownPos=n.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(n){return this._draggable=!!n,this._map&&(n?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(n){return this._rotation=n||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(n){return this._rotationAlignment=n||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(n){return this._pitchAlignment=n&&n!=="auto"?n:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Cu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Wn,pa=0,Ci=!1;const Xp={maxWidth:100,unit:"metric"};function Go(h,n,o){const c=o&&o.maxWidth||100,g=h._container.clientHeight/2,y=h.unproject([0,g]),w=h.unproject([c,g]),S=y.distanceTo(w);if(o&&o.unit==="imperial"){const E=3.2808*S;E>5280?dn(n,c,E/5280,h._getUIString("ScaleControl.Miles")):dn(n,c,E,h._getUIString("ScaleControl.Feet"))}else o&&o.unit==="nautical"?dn(n,c,S/1852,h._getUIString("ScaleControl.NauticalMiles")):S>=1e3?dn(n,c,S/1e3,h._getUIString("ScaleControl.Kilometers")):dn(n,c,S,h._getUIString("ScaleControl.Meters"))}function dn(h,n,o,c){const g=function(y){const w=Math.pow(10,`${Math.floor(y)}`.length-1);let S=y/w;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:S>=1?1:function(E){const C=Math.pow(10,Math.ceil(-Math.log(E)/Math.LN10));return Math.round(E*C)/C}(S),w*S}(o);h.style.width=n*(g/o)+"px",h.innerHTML=`${g}&nbsp;${c}`}const Hn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Id=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Wa(h){if(h){if(typeof h=="number"){const n=Math.round(Math.sqrt(.5*Math.pow(h,2)));return{center:new u.pointGeometry(0,0),top:new u.pointGeometry(0,h),"top-left":new u.pointGeometry(n,n),"top-right":new u.pointGeometry(-n,n),bottom:new u.pointGeometry(0,-h),"bottom-left":new u.pointGeometry(n,-n),"bottom-right":new u.pointGeometry(-n,-n),left:new u.pointGeometry(h,0),right:new u.pointGeometry(-h,0)}}if(h instanceof u.pointGeometry||Array.isArray(h)){const n=u.pointGeometry.convert(h);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:u.pointGeometry.convert(h.center||[0,0]),top:u.pointGeometry.convert(h.top||[0,0]),"top-left":u.pointGeometry.convert(h["top-left"]||[0,0]),"top-right":u.pointGeometry.convert(h["top-right"]||[0,0]),bottom:u.pointGeometry.convert(h.bottom||[0,0]),"bottom-left":u.pointGeometry.convert(h["bottom-left"]||[0,0]),"bottom-right":u.pointGeometry.convert(h["bottom-right"]||[0,0]),left:u.pointGeometry.convert(h.left||[0,0]),right:u.pointGeometry.convert(h.right||[0,0])}}return Wa(new u.pointGeometry(0,0))}const qo={supported:F,setRTLTextPlugin:u.setRTLTextPlugin,getRTLTextPluginStatus:u.getRTLTextPluginStatus,Map:class extends Wl{constructor(h){var n;if(u.PerformanceUtils.mark(u.PerformanceMarkers.create),(h=u.extend({},Hp,h)).minZoom!=null&&h.maxZoom!=null&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(h.minPitch!=null&&h.maxPitch!=null&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(h.minPitch!=null&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(h.maxPitch!=null&&h.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Ro(h.minZoom,h.maxZoom,h.minPitch,h.maxPitch,h.renderWorldCopies),{bearingSnap:h.bearingSnap}),this._interactive=h.interactive,this._maxTileCacheSize=h.maxTileCacheSize,this._failIfMajorPerformanceCaveat=h.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=h.preserveDrawingBuffer,this._antialias=h.antialias,this._trackResize=h.trackResize,this._bearingSnap=h.bearingSnap,this._refreshExpiredTiles=h.refreshExpiredTiles,this._fadeDuration=h.fadeDuration,this._crossSourceCollisions=h.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=h.collectResourceTiming,this._renderTaskQueue=new kd,this._controls=[],this._mapId=u.uniqueId(),this._locale=u.extend({},Cd,h.locale),this._clickTolerance=h.clickTolerance,this._pixelRatio=(n=h.pixelRatio)!==null&&n!==void 0?n:devicePixelRatio,this._requestManager=new Pt(h.transformRequest),typeof h.container=="string"){if(this._container=document.getElementById(h.container),!this._container)throw new Error(`Container '${h.container}' not found.`)}else{if(!(h.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(h.maxBounds&&this.setMaxBounds(h.maxBounds),u.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),typeof window!="undefined"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ki(this,h),this._hash=h.hash&&new md(typeof h.hash=="string"&&h.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,u.extend({},h.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=h.localIdeographFontFamily,h.style&&this.setStyle(h.style,{localIdeographFontFamily:h.localIdeographFontFamily}),h.attributionControl&&this.addControl(new Hl({customAttribution:h.customAttribution})),h.maplibreLogo&&this.addControl(new ku,h.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update(o.dataType==="style"),this.fire(new u.Event(`${o.dataType}data`,o))}),this.on("dataloading",o=>{this.fire(new u.Event(`${o.dataType}dataloading`,o))}),this.on("dataabort",o=>{this.fire(new u.Event("sourcedataabort",o))})}_getMapId(){return this._mapId}addControl(h,n){if(n===void 0&&(n=h.getDefaultPosition?h.getDefaultPosition():"top-right"),!h||!h.onAdd)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const o=h.onAdd(this);this._controls.push(h);const c=this._controlPositions[n];return n.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this}removeControl(h){if(!h||!h.onRemove)return this.fire(new u.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(h);return n>-1&&this._controls.splice(n,1),h.onRemove(this),this}hasControl(h){return this._controls.indexOf(h)>-1}resize(h){const n=this._containerDimensions(),o=n[0],c=n[1];this._resizeCanvas(o,c,this.getPixelRatio()),this.transform.resize(o,c),this.painter.resize(o,c,this.getPixelRatio());const g=!this._moving;return g&&(this.stop(),this.fire(new u.Event("movestart",h)).fire(new u.Event("move",h))),this.fire(new u.Event("resize",h)),g&&this.fire(new u.Event("moveend",h)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(h){const[n,o]=this._containerDimensions();this._pixelRatio=h,this._resizeCanvas(n,o,h),this.painter.resize(n,o,h)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(h){return this.transform.setMaxBounds(u.LngLatBounds.convert(h)),this._update()}setMinZoom(h){if((h=h==null?-2:h)>=-2&&h<=this.transform.maxZoom)return this.transform.minZoom=h,this._update(),this.getZoom()<h&&this.setZoom(h),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(h){if((h=h==null?22:h)>=this.transform.minZoom)return this.transform.maxZoom=h,this._update(),this.getZoom()>h&&this.setZoom(h),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(h){if((h=h==null?0:h)<0)throw new Error("minPitch must be greater than or equal to 0");if(h>=0&&h<=this.transform.maxPitch)return this.transform.minPitch=h,this._update(),this.getPitch()<h&&this.setPitch(h),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(h){if((h=h==null?60:h)>85)throw new Error("maxPitch must be less than or equal to 85");if(h>=this.transform.minPitch)return this.transform.maxPitch=h,this._update(),this.getPitch()>h&&this.setPitch(h),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(h){return this.transform.renderWorldCopies=h,this._update()}project(h){return this.transform.locationPoint(u.LngLat.convert(h))}unproject(h){return this.transform.pointLocation(u.pointGeometry.convert(h))}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(h,n,o){if(h==="mouseenter"||h==="mouseover"){let c=!1;return{layer:n,listener:o,delegates:{mousemove:y=>{const w=this.getLayer(n)?this.queryRenderedFeatures(y.point,{layers:[n]}):[];w.length?c||(c=!0,o.call(this,new Bi(h,this,y.originalEvent,{features:w}))):c=!1},mouseout:()=>{c=!1}}}}if(h==="mouseleave"||h==="mouseout"){let c=!1;return{layer:n,listener:o,delegates:{mousemove:w=>{(this.getLayer(n)?this.queryRenderedFeatures(w.point,{layers:[n]}):[]).length?c=!0:c&&(c=!1,o.call(this,new Bi(h,this,w.originalEvent)))},mouseout:w=>{c&&(c=!1,o.call(this,new Bi(h,this,w.originalEvent)))}}}}{const c=g=>{const y=this.getLayer(n)?this.queryRenderedFeatures(g.point,{layers:[n]}):[];y.length&&(g.features=y,o.call(this,g),delete g.features)};return{layer:n,listener:o,delegates:{[h]:c}}}}on(h,n,o){if(o===void 0)return super.on(h,n);const c=this._createDelegatedListener(h,n,o);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[h]=this._delegatedListeners[h]||[],this._delegatedListeners[h].push(c);for(const g in c.delegates)this.on(g,c.delegates[g]);return this}once(h,n,o){if(o===void 0)return super.once(h,n);const c=this._createDelegatedListener(h,n,o);for(const g in c.delegates)this.once(g,c.delegates[g]);return this}off(h,n,o){return o===void 0?super.off(h,n):(this._delegatedListeners&&this._delegatedListeners[h]&&(c=>{const g=this._delegatedListeners[h];for(let y=0;y<g.length;y++){const w=g[y];if(w.layer===n&&w.listener===o){for(const S in w.delegates)this.off(S,w.delegates[S]);return g.splice(y,1),this}}})(),this)}queryRenderedFeatures(h,n){if(!this.style)return[];let o;if(n!==void 0||h===void 0||h instanceof u.pointGeometry||Array.isArray(h)||(n=h,h=void 0),n=n||{},(h=h||[[0,0],[this.transform.width,this.transform.height]])instanceof u.pointGeometry||typeof h[0]=="number")o=[u.pointGeometry.convert(h)];else{const c=u.pointGeometry.convert(h[0]),g=u.pointGeometry.convert(h[1]);o=[c,new u.pointGeometry(g.x,c.y),g,new u.pointGeometry(c.x,g.y),c]}return this.style.queryRenderedFeatures(o,n,this.transform)}querySourceFeatures(h,n){return this.style.querySourceFeatures(h,n)}setStyle(h,n){return(n=u.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff!==!1&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&h?(this._diffStyle(h,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(h,n))}setTransformRequest(h){return this._requestManager.setTransformRequest(h),this}_getUIString(h){const n=this._locale[h];if(n==null)throw new Error(`Missing UI string '${h}'`);return n}_updateStyle(h,n){return this.style&&(this.style.setEventedParent(null),this.style._remove()),h?(this.style=new ti(this,n||{}),this.style.setEventedParent(this,{style:this.style}),typeof h=="string"?this.style.loadURL(h):this.style.loadJSON(h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ti(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(h,n){if(typeof h=="string"){const o=this._requestManager.transformRequest(h,u.ResourceType.Style);u.getJSON(o,(c,g)=>{c?this.fire(new u.ErrorEvent(c)):g&&this._updateDiff(g,n)})}else typeof h=="object"&&this._updateDiff(h,n)}_updateDiff(h,n){try{this.style.setState(h)&&this._update(!0)}catch(o){u.warnOnce(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(h,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():u.warnOnce("There is no style added to the map.")}addSource(h,n){return this._lazyInitEmptyStyle(),this.style.addSource(h,n),this._update(!0)}isSourceLoaded(h){const n=this.style&&this.style.sourceCaches[h];if(n!==void 0)return n.loaded();this.fire(new u.ErrorEvent(new Error(`There is no source with ID '${h}'`)))}areTilesLoaded(){const h=this.style&&this.style.sourceCaches;for(const n in h){const o=h[n]._tiles;for(const c in o){const g=o[c];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}addSourceType(h,n,o){return this._lazyInitEmptyStyle(),this.style.addSourceType(h,n,o)}removeSource(h){return this.style.removeSource(h),this._update(!0)}getSource(h){return this.style.getSource(h)}addImage(h,n,{pixelRatio:o=1,sdf:c=!1,stretchX:g,stretchY:y,content:w}={}){if(this._lazyInitEmptyStyle(),n instanceof HTMLImageElement||u.isImageBitmap(n)){const{width:S,height:E,data:C}=u.exported.getImageData(n);this.style.addImage(h,{data:new u.RGBAImage({width:S,height:E},C),pixelRatio:o,stretchX:g,stretchY:y,content:w,sdf:c,version:0})}else{if(n.width===void 0||n.height===void 0)return this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:S,height:E,data:C}=n,z=n;this.style.addImage(h,{data:new u.RGBAImage({width:S,height:E},new Uint8Array(C)),pixelRatio:o,stretchX:g,stretchY:y,content:w,sdf:c,version:0,userImage:z}),z.onAdd&&z.onAdd(this,h)}}}updateImage(h,n){const o=this.style.getImage(h);if(!o)return this.fire(new u.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const c=n instanceof HTMLImageElement||u.isImageBitmap(n)?u.exported.getImageData(n):n,{width:g,height:y,data:w}=c;if(g===void 0||y===void 0)return this.fire(new u.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==o.data.width||y!==o.data.height)return this.fire(new u.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const S=!(n instanceof HTMLImageElement||u.isImageBitmap(n));o.data.replace(w,S),this.style.updateImage(h,o)}hasImage(h){return h?!!this.style.getImage(h):(this.fire(new u.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(h){this.style.removeImage(h)}loadImage(h,n){u.getImage(this._requestManager.transformRequest(h,u.ResourceType.Image),n)}listImages(){return this.style.listImages()}addLayer(h,n){return this._lazyInitEmptyStyle(),this.style.addLayer(h,n),this._update(!0)}moveLayer(h,n){return this.style.moveLayer(h,n),this._update(!0)}removeLayer(h){return this.style.removeLayer(h),this._update(!0)}getLayer(h){return this.style.getLayer(h)}setLayerZoomRange(h,n,o){return this.style.setLayerZoomRange(h,n,o),this._update(!0)}setFilter(h,n,o={}){return this.style.setFilter(h,n,o),this._update(!0)}getFilter(h){return this.style.getFilter(h)}setPaintProperty(h,n,o,c={}){return this.style.setPaintProperty(h,n,o,c),this._update(!0)}getPaintProperty(h,n){return this.style.getPaintProperty(h,n)}setLayoutProperty(h,n,o,c={}){return this.style.setLayoutProperty(h,n,o,c),this._update(!0)}getLayoutProperty(h,n){return this.style.getLayoutProperty(h,n)}setLight(h,n={}){return this._lazyInitEmptyStyle(),this.style.setLight(h,n),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(h,n){return this.style.setFeatureState(h,n),this._update()}removeFeatureState(h,n){return this.style.removeFeatureState(h,n),this._update()}getFeatureState(h){return this.style.getFeatureState(h)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let h=0,n=0;return this._container&&(h=this._container.clientWidth||400,n=this._container.clientHeight||300),[h,n]}_setupContainer(){const h=this._container;h.classList.add("maplibregl-map","mapboxgl-map");const n=this._canvasContainer=V.create("div","maplibregl-canvas-container mapboxgl-canvas-container",h);this._interactive&&n.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=V.create("canvas","maplibregl-canvas mapboxgl-canvas",n),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const o=this._containerDimensions();this._resizeCanvas(o[0],o[1],this.getPixelRatio());const c=this._controlContainer=V.create("div","maplibregl-control-container mapboxgl-control-container",h),g=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(y=>{g[y]=V.create("div",`maplibregl-ctrl-${y} mapboxgl-ctrl-${y}`,c)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(h,n,o){this._canvas.width=o*h,this._canvas.height=o*n,this._canvas.style.width=`${h}px`,this._canvas.style.height=`${n}px`}_setupPainter(){const h=u.extend({},F.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",h)||this._canvas.getContext("experimental-webgl",h);n?(this.painter=new _u(n,this.transform),u.exported$1.testSupport(n)):this.fire(new u.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(h){h.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.Event("webglcontextlost",{originalEvent:h}))}_contextRestored(h){this._setupPainter(),this.resize(),this._update(),this.fire(new u.Event("webglcontextrestored",{originalEvent:h}))}_onMapScroll(h){if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(h){return this.style?(this._styleDirty=this._styleDirty||h,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(h){return this._update(),this._renderTaskQueue.add(h)}_cancelRenderFrame(h){this._renderTaskQueue.remove(h)}_render(h){let n,o=0;const c=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=c.createQueryEXT(),c.beginQueryEXT(c.TIME_ELAPSED_EXT,n),o=u.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(h),this._removed)return;let g=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,S=u.exported.now();this.style.zoomHistory.update(w,S);const E=new u.EvaluationParameters(w,{now:S,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),C=E.crossFadingFactor();C===1&&C===this._crossFadingFactor||(g=!0,this._crossFadingFactor=C),this.style.update(E)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new u.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,u.PerformanceUtils.mark(u.PerformanceMarkers.load),this.fire(new u.Event("load"))),this.style&&(this.style.hasTransitions()||g)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const w=u.exported.now()-o;c.endQueryEXT(c.TIME_ELAPSED_EXT,n),setTimeout(()=>{const S=c.getQueryObjectEXT(n,c.QUERY_RESULT_EXT)/1e6;c.deleteQueryEXT(n),this.fire(new u.Event("gpu-timing-frame",{cpuTime:w,gpuTime:S}))},50)}if(this.listens("gpu-timing-layer")){const w=this.painter.collectGpuTimers();setTimeout(()=>{const S=this.painter.queryGpuTimers(w);this.fire(new u.Event("gpu-timing-layer",{layerTimes:S}))},50)}const y=this._sourcesDirty||this._styleDirty||this._placementDirty;return y||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new u.Event("idle")),!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,u.PerformanceUtils.mark(u.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const n of this._controls)n.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window!="undefined"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const h=this.painter.context.gl.getExtension("WEBGL_lose_context");h&&h.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),V.remove(this._canvasContainer),V.remove(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),u.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new u.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=u.exported.frame(h=>{u.PerformanceUtils.frame(h),this._frame=null,this._render(h)}))}_onWindowOnline(){this._update()}_onWindowResize(h){this._trackResize&&this.resize({originalEvent:h})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(h){this._showTileBoundaries!==h&&(this._showTileBoundaries=h,this._update())}get showPadding(){return!!this._showPadding}set showPadding(h){this._showPadding!==h&&(this._showPadding=h,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(h){this._showCollisionBoxes!==h&&(this._showCollisionBoxes=h,h?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(h){this._showOverdrawInspector!==h&&(this._showOverdrawInspector=h,this._update())}get repaint(){return!!this._repaint}set repaint(h){this._repaint!==h&&(this._repaint=h,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(h){this._vertices=h,this._update()}_setCacheLimits(h,n){u.setCacheLimits(h,n)}},NavigationControl:class{constructor(h){this.options=u.extend({},vr,h),this._container=V.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this.options.showZoom&&(u.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",n=>this._map.zoomIn({},{originalEvent:n})),V.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",n=>this._map.zoomOut({},{originalEvent:n})),V.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(u.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",n=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:n}):this._map.resetNorth({},{originalEvent:n})}),this._compassIcon=V.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const h=this._map.getZoom(),n=h===this._map.getMaxZoom(),o=h===this._map.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",o.toString())}_rotateCompassArrow(){const h=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=h}onAdd(h){return this._map=h,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xl(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){V.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(h,n){const o=V.create("button",h,this._container);return o.type="button",o.addEventListener("click",n),o}_setButtonTitle(h,n){const o=this._map._getUIString(`NavigationControl.${n}`);h.title=o,h.setAttribute("aria-label",o)}},GeolocateControl:class extends u.Evented{constructor(h){super(),this.options=u.extend({},Cu,h),u.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(h){var n;return this._map=h,this._container=V.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,Wn!==void 0?n(Wn):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(o=>{Wn=o.state!=="denied",n(Wn)}):(Wn=!!window.navigator.geolocation,n(Wn)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),V.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,pa=0,Ci=!1}_isOutOfMapMaxBounds(h){const n=this._map.getMaxBounds(),o=h.coords;return n&&(o.longitude<n.getWest()||o.longitude>n.getEast()||o.latitude<n.getSouth()||o.latitude>n.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(h){if(this._map){if(this._isOutOfMapMaxBounds(h))return this._setErrorState(),this.fire(new u.Event("outofmaxbounds",h)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=h,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(h),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(h),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new u.Event("geolocate",h)),this._finish()}}_updateCamera(h){const n=new u.LngLat(h.coords.longitude,h.coords.latitude),o=h.coords.accuracy,c=this._map.getBearing(),g=u.extend({bearing:c},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(o),g,{geolocateSource:!0})}_updateMarker(h){if(h){const n=new u.LngLat(h.coords.longitude,h.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=h.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const h=this._map._container.clientHeight/2,n=this._map.unproject([0,h]),o=this._map.unproject([1,h]),c=n.distanceTo(o),g=Math.ceil(2*this._accuracy/c);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(h){if(this._map){if(this.options.trackUserLocation)if(h.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(h.code===3&&Ci)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new u.Event("error",h)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(h){if(this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=V.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),V.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",h===!1){u.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=V.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new $o(this._dotElement),this._circleElement=V.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new $o({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",n=>{n.geolocateSource||this._watchState!=="ACTIVE_LOCK"||n.originalEvent&&n.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new u.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return u.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":pa--,Ci=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new u.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let h;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),pa++,pa>1?(h={maximumAge:6e5,timeout:0},Ci=!0):(h=this.options.positionOptions,Ci=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,h)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Hl,LogoControl:ku,ScaleControl:class{constructor(h){this.options=u.extend({},Xp,h),u.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Go(this._map,this._container,this.options)}onAdd(h){return this._map=h,this._container=V.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",h.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){V.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(h){this.options.unit=h,Go(this._map,this._container,this.options)}},FullscreenControl:class{constructor(h){this._fullscreen=!1,h&&h.container&&(h.container instanceof HTMLElement?this._container=h.container:u.warnOnce("Full screen control 'container' must be a DOM element.")),u.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(h){return this._map=h,this._container||(this._container=this._map.getContainer()),this._controlContainer=V.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",u.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){V.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const h=this._fullscreenButton=V.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);V.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",h).setAttribute("aria-hidden","true"),h.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const h=this._getTitle();this._fullscreenButton.setAttribute("aria-label",h),this._fullscreenButton.title=h}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends u.Evented{constructor(h){super(),this.options=u.extend(Object.create(Hn),h),u.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(h){return this._map&&this.remove(),this._map=h,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new u.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&V.remove(this._content),this._container&&(V.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new u.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(h){return this._lngLat=u.LngLat.convert(h),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(h){return this.setDOMContent(document.createTextNode(h))}setHTML(h){const n=document.createDocumentFragment(),o=document.createElement("body");let c;for(o.innerHTML=h;c=o.firstChild,c;)n.appendChild(c);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(h){return this.options.maxWidth=h,this._update(),this}setDOMContent(h){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=V.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(h),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(h){this._container&&this._container.classList.add(h)}removeClassName(h){this._container&&this._container.classList.remove(h)}setOffset(h){return this.options.offset=h,this._update(),this}toggleClassName(h){if(this._container)return this._container.classList.toggle(h)}_createCloseButton(){this.options.closeButton&&(this._closeButton=V.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(h){this._update(h.point)}_onMouseMove(h){this._update(h.point)}_onDrag(h){this._update(h.point)}_update(h){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=V.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=V.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(y=>this._container.classList.add(y)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ne(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!h))return;const n=this._pos=this._trackPointer&&h?h:this._map.project(this._lngLat);let o=this.options.anchor;const c=Wa(this.options.offset);if(!o){const y=this._container.offsetWidth,w=this._container.offsetHeight;let S;S=n.y+c.bottom.y<w?["top"]:n.y>this._map.transform.height-w?["bottom"]:[],n.x<y/2?S.push("left"):n.x>this._map.transform.width-y/2&&S.push("right"),o=S.length===0?"bottom":S.join("-")}const g=n.add(c[o]).round();V.setTransform(this._container,`${he[o]} translate(${g.x}px,${g.y}px)`),jo(this._container,o,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const h=this._container.querySelector(Id);h&&h.focus()}_onClose(){this.remove()}},Marker:$o,Style:ti,LngLat:u.LngLat,LngLatBounds:u.LngLatBounds,Point:u.pointGeometry,MercatorCoordinate:u.MercatorCoordinate,Evented:u.Evented,AJAXError:u.AJAXError,config:u.config,CanvasSource:Be,GeoJSONSource:Ft,ImageSource:ce,RasterDEMTileSource:ln,RasterTileSource:bn,VectorTileSource:Rn,VideoSource:Ce,prewarm:function(){dt().acquire(Hi)},clearPrewarmedResources:function(){const h=Ri;h&&(h.isPreloaded()&&h.numActive()===1?(h.release(Hi),Ri=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get workerCount(){return ri.workerCount},set workerCount(h){ri.workerCount=h},get maxParallelImageRequests(){return u.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(h){u.config.MAX_PARALLEL_IMAGE_REQUESTS=h},clearStorage(h){u.clearTileCache(h)},workerUrl:"",addProtocol(h,n){u.config.REGISTERED_PROTOCOLS[h]=n},removeProtocol(h){delete u.config.REGISTERED_PROTOCOLS[h]}};return pn.extend(qo,{isSafari:u.isSafari,getPerformanceMetrics:u.PerformanceUtils.getPerformanceMetrics}),qo});var T=_;return T})})(nf);const ty=8,ey="1c47970b-83b9-42e8-8a59-41f12b31cf13",ny="MyMap",iy={openmaptiles:{url:"https://api.maptiler.com/tiles/v3/tiles.json?key=UEEZOk5OeX58cUBumvGR",type:"vector"},maptiler_attribution:{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',type:"vector"}},ry=[{id:"background",type:"background",layout:{visibility:"visible"},paint:{"background-color":"hsl(222, 52%, 95%)"}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",minzoom:0,layout:{visibility:"visible"},paint:{"fill-color":"#94D2FB"},filter:["all",["!=","intermittent",1],["!=","brunnel","tunnel"]]},{id:"landuse_residental",type:"fill",source:"openmaptiles","source-layer":"landuse",minzoom:6,paint:{"fill-color":"#DCE2EF"},filter:["all",["==","class","residential"]]},{id:"forests",type:"fill",source:"openmaptiles","source-layer":"globallandcover",minzoom:7,paint:{"fill-color":"#D2E78A"},filter:["all",["==","class","forest"]]},{id:"parks",type:"fill",source:"openmaptiles","source-layer":"park",minzoom:7,paint:{"fill-color":"#D2E78A"}},{id:"waterway_river",type:"line",source:"openmaptiles","source-layer":"waterway",paint:{"line-color":"#94D2FB"},filter:["all",["==","class","river"]]},{id:"boundaries_regions",type:"line",source:"openmaptiles","source-layer":"boundary",minzoom:5,paint:{"line-color":{stops:[[7,"#BABFD7"],[8,"#000"]]},"line-width":1},filter:["all",["in","admin_level",3,4],["!has","claimed_by"],["==","maritime",0]]},{id:"boundaries_country",type:"line",source:"openmaptiles","source-layer":"boundary",paint:{"line-color":"#000","line-width":1.5},filter:["all",["in","admin_level",2],["!has","claimed_by"],["==","maritime",0]]},{id:"roads_major",type:"line",source:"openmaptiles","source-layer":"transportation",paint:{"line-color":"#F8D857","line-width":{stops:[[6,1],[8,2]]}},filter:["all",["==","class","trunk"]]},{id:"label_town",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:6,layout:{"text-font":["Open Sans Bold"],"text-size":13,"text-field":"{name:uk}","text-anchor":"center","text-justify":"center"},paint:{"text-color":"#5E72A2","text-halo-color":"#fff","text-halo-width":1},filter:["all",["in","class","village","town"]]},{id:"label_city",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:6,layout:{"text-font":["Open Sans Bold"],"text-size":14,"text-field":"{name:uk}"},paint:{"text-color":"#5E72A2","text-halo-color":"#fff","text-halo-width":1},filter:["all",["in","class","city"]]},{id:"label_state",type:"symbol",source:"openmaptiles","source-layer":"place",minzoom:5,maxzoom:6,layout:{"text-font":["Open Sans Bold"],"text-size":14,"text-field":"{name:uk}","text-anchor":"center","icon-text-fit":"none","text-max-width":5,"text-pitch-alignment":"auto","text-rotation-alignment":"auto"},paint:{"text-color":"#5E72A2","text-halo-color":"#fff","text-halo-width":1},filter:["all",["==","class","state"],["!=","name","Kiev"]]},{id:"label_country",type:"symbol",source:"openmaptiles","source-layer":"place",layout:{"text-font":["Open Sans Bold"],"text-size":18,"text-field":"{name:uk}","icon-pitch-alignment":"viewport"},paint:{"text-color":"#5E72A2","text-halo-color":"#fff","text-halo-width":1,"text-translate-anchor":"viewport"},filter:["all",["==","$type","Point"],["==","class","country"]]}],ay={"maptiler:copyright":"This style was generated on MapTiler Cloud. Usage outside of MapTiler Cloud or MapTiler Server requires valid MapTiler Data package: https://www.maptiler.com/data/ -- please contact us."},oy="https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=UEEZOk5OeX58cUBumvGR",ly=0,sy=0,uy=[35.04302781312515,48.403246842903116],cy=6.8012919317279925;var N6={version:ty,id:ey,name:ny,sources:iy,layers:ry,metadata:ay,glyphs:oy,bearing:ly,pitch:sy,center:uy,zoom:cy},V6=Object.freeze(Object.defineProperty({__proto__:null,version:ty,id:ey,name:ny,sources:iy,layers:ry,metadata:ay,glyphs:oy,bearing:ly,pitch:sy,center:uy,zoom:cy,default:N6},Symbol.toStringTag,{value:"Module"})),dy={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function l(){for(var p=[],_=0;_<arguments.length;_++){var v=arguments[_];if(!!v){var T=typeof v;if(T==="string"||T==="number")p.push(v);else if(Array.isArray(v)){if(v.length){var u=l.apply(null,v);u&&p.push(u)}}else if(T==="object")if(v.toString===Object.prototype.toString)for(var F in v)r.call(v,F)&&v[F]&&p.push(F);else p.push(v.toString())}}return p.join(" ")}t.exports?(l.default=l,t.exports=l):window.classNames=l})()})(dy);var yn=dy.exports;function j6(t,r){if(t==null)return{};var l={},p=Object.keys(t),_,v;for(v=0;v<p.length;v++)_=p[v],!(r.indexOf(_)>=0)&&(l[_]=t[_]);return l}function rf(t,r){return rf=Object.setPrototypeOf||function(p,_){return p.__proto__=_,p},rf(t,r)}function $6(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,rf(t,r)}var ge={exports:{}},Hc={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6=vt.exports,hy=60103;Hc.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var S1=Symbol.for;hy=S1("react.element"),Hc.Fragment=S1("react.fragment")}var q6=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z6=Object.prototype.hasOwnProperty,W6={key:!0,ref:!0,__self:!0,__source:!0};function py(t,r,l){var p,_={},v=null,T=null;l!==void 0&&(v=""+l),r.key!==void 0&&(v=""+r.key),r.ref!==void 0&&(T=r.ref);for(p in r)Z6.call(r,p)&&!W6.hasOwnProperty(p)&&(_[p]=r[p]);if(t&&t.defaultProps)for(p in r=t.defaultProps,r)_[p]===void 0&&(_[p]=r[p]);return{$$typeof:hy,type:t,key:v,ref:T,props:_,_owner:q6.current}}Hc.jsx=py;Hc.jsxs=py;ge.exports=Hc;const H6=["xxl","xl","lg","md","sm","xs"],p0=vt.exports.createContext({prefixes:{},breakpoints:H6});function Si(t,r){const{prefixes:l}=vt.exports.useContext(p0);return t||l[r]||r}function X6(){const{breakpoints:t}=vt.exports.useContext(p0);return t}function K6(){const{dir:t}=vt.exports.useContext(p0);return t==="rtl"}function hp(t){return t&&t.ownerDocument||document}function Y6(t){var r=hp(t);return r&&r.defaultView||window}function J6(t,r){return Y6(t).getComputedStyle(t,r)}var Q6=/([A-Z])/g;function tv(t){return t.replace(Q6,"-$1").toLowerCase()}var ev=/^ms-/;function dh(t){return tv(t).replace(ev,"-ms-")}var nv=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iv(t){return!!(t&&nv.test(t))}function ul(t,r){var l="",p="";if(typeof r=="string")return t.style.getPropertyValue(dh(r))||J6(t).getPropertyValue(dh(r));Object.keys(r).forEach(function(_){var v=r[_];!v&&v!==0?t.style.removeProperty(dh(_)):iv(_)?p+=_+"("+v+") ":l+=dh(_)+": "+v+";"}),p&&(l+="transform: "+p+";"),t.style.cssText+=";"+l}var gy={exports:{}},rv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",av=rv,ov=av;function fy(){}function my(){}my.resetWarningCache=fy;var lv=function(){function t(p,_,v,T,u,F){if(F!==ov){var Z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Z.name="Invariant Violation",Z}}t.isRequired=t;function r(){return t}var l={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:my,resetWarningCache:fy};return l.PropTypes=l,l};gy.exports=lv();var Ca=gy.exports,E1={disabled:!1},yy=Ae.createContext(null),dc="unmounted",Qo="exited",no="entering",nl="entered",af="exiting",za=function(t){$6(r,t);function r(p,_){var v;v=t.call(this,p,_)||this;var T=_,u=T&&!T.isMounting?p.enter:p.appear,F;return v.appearStatus=null,p.in?u?(F=Qo,v.appearStatus=no):F=nl:p.unmountOnExit||p.mountOnEnter?F=dc:F=Qo,v.state={status:F},v.nextCallback=null,v}r.getDerivedStateFromProps=function(_,v){var T=_.in;return T&&v.status===dc?{status:Qo}:null};var l=r.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(_){var v=null;if(_!==this.props){var T=this.state.status;this.props.in?T!==no&&T!==nl&&(v=no):(T===no||T===nl)&&(v=af)}this.updateStatus(!1,v)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var _=this.props.timeout,v,T,u;return v=T=u=_,_!=null&&typeof _!="number"&&(v=_.exit,T=_.enter,u=_.appear!==void 0?_.appear:T),{exit:v,enter:T,appear:u}},l.updateStatus=function(_,v){_===void 0&&(_=!1),v!==null?(this.cancelNextCallback(),v===no?this.performEnter(_):this.performExit()):this.props.unmountOnExit&&this.state.status===Qo&&this.setState({status:dc})},l.performEnter=function(_){var v=this,T=this.props.enter,u=this.context?this.context.isMounting:_,F=this.props.nodeRef?[u]:[Ms.findDOMNode(this),u],Z=F[0],yt=F[1],gt=this.getTimeouts(),V=u?gt.appear:gt.enter;if(!_&&!T||E1.disabled){this.safeSetState({status:nl},function(){v.props.onEntered(Z)});return}this.props.onEnter(Z,yt),this.safeSetState({status:no},function(){v.props.onEntering(Z,yt),v.onTransitionEnd(V,function(){v.safeSetState({status:nl},function(){v.props.onEntered(Z,yt)})})})},l.performExit=function(){var _=this,v=this.props.exit,T=this.getTimeouts(),u=this.props.nodeRef?void 0:Ms.findDOMNode(this);if(!v||E1.disabled){this.safeSetState({status:Qo},function(){_.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:af},function(){_.props.onExiting(u),_.onTransitionEnd(T.exit,function(){_.safeSetState({status:Qo},function(){_.props.onExited(u)})})})},l.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(_,v){v=this.setNextCallback(v),this.setState(_,v)},l.setNextCallback=function(_){var v=this,T=!0;return this.nextCallback=function(u){T&&(T=!1,v.nextCallback=null,_(u))},this.nextCallback.cancel=function(){T=!1},this.nextCallback},l.onTransitionEnd=function(_,v){this.setNextCallback(v);var T=this.props.nodeRef?this.props.nodeRef.current:Ms.findDOMNode(this),u=_==null&&!this.props.addEndListener;if(!T||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var F=this.props.nodeRef?[this.nextCallback]:[T,this.nextCallback],Z=F[0],yt=F[1];this.props.addEndListener(Z,yt)}_!=null&&setTimeout(this.nextCallback,_)},l.render=function(){var _=this.state.status;if(_===dc)return null;var v=this.props,T=v.children;v.in,v.mountOnEnter,v.unmountOnExit,v.appear,v.enter,v.exit,v.timeout,v.addEndListener,v.onEnter,v.onEntering,v.onEntered,v.onExit,v.onExiting,v.onExited,v.nodeRef;var u=j6(v,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ae.createElement(yy.Provider,{value:null},typeof T=="function"?T(_,u):Ae.cloneElement(Ae.Children.only(T),u))},r}(Ae.Component);za.contextType=yy;za.propTypes={};function cs(){}za.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cs,onEntering:cs,onEntered:cs,onExit:cs,onExiting:cs,onExited:cs};za.UNMOUNTED=dc;za.EXITED=Qo;za.ENTERING=no;za.ENTERED=nl;za.EXITING=af;var Gs=!!(typeof window!="undefined"&&window.document&&window.document.createElement),of=!1,lf=!1;try{var a4={get passive(){return of=!0},get once(){return lf=of=!0}};Gs&&(window.addEventListener("test",a4,a4),window.removeEventListener("test",a4,!0))}catch{}function _y(t,r,l,p){if(p&&typeof p!="boolean"&&!lf){var _=p.once,v=p.capture,T=l;!lf&&_&&(T=l.__once||function u(F){this.removeEventListener(r,u,v),l.call(this,F)},l.__once=T),t.addEventListener(r,T,of?p:v)}t.addEventListener(r,l,p)}function sf(t,r,l,p){var _=p&&typeof p!="boolean"?p.capture:p;t.removeEventListener(r,l,_),l.__once&&t.removeEventListener(r,l.__once,_)}function Xh(t,r,l,p){return _y(t,r,l,p),function(){sf(t,r,l,p)}}function sv(t,r,l,p){if(l===void 0&&(l=!1),p===void 0&&(p=!0),t){var _=document.createEvent("HTMLEvents");_.initEvent(r,l,p),t.dispatchEvent(_)}}function uv(t){var r=ul(t,"transitionDuration")||"",l=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*l}function cv(t,r,l){l===void 0&&(l=5);var p=!1,_=setTimeout(function(){p||sv(t,"transitionend",!0)},r+l),v=Xh(t,"transitionend",function(){p=!0},{once:!0});return function(){clearTimeout(_),v()}}function vy(t,r,l,p){l==null&&(l=uv(t)||0);var _=cv(t,l,p),v=Xh(t,"transitionend",r);return function(){_(),v()}}function T1(t,r){const l=ul(t,r)||"",p=l.indexOf("ms")===-1?1e3:1;return parseFloat(l)*p}function dv(t,r){const l=T1(t,"transitionDuration"),p=T1(t,"transitionDelay"),_=vy(t,v=>{v.target===t&&(_(),r(v))},l+p)}function hv(t){t.offsetHeight}var A1=function(r){return!r||typeof r=="function"?r:function(l){r.current=l}};function pv(t,r){var l=A1(t),p=A1(r);return function(_){l&&l(_),p&&p(_)}}function xy(t,r){return vt.exports.useMemo(function(){return pv(t,r)},[t,r])}function gv(t){return t&&"setState"in t?Ms.findDOMNode(t):t!=null?t:null}const fv=Ae.forwardRef((gt,yt)=>{var V=gt,{onEnter:t,onEntering:r,onEntered:l,onExit:p,onExiting:_,onExited:v,addEndListener:T,children:u,childRef:F}=V,Z=kn(V,["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"]);const Pt=vt.exports.useRef(null),It=xy(Pt,F),Lt=Vt=>{It(gv(Vt))},J=Vt=>jt=>{Vt&&Pt.current&&Vt(Pt.current,jt)},H=vt.exports.useCallback(J(t),[t]),nt=vt.exports.useCallback(J(r),[r]),ut=vt.exports.useCallback(J(l),[l]),at=vt.exports.useCallback(J(p),[p]),bt=vt.exports.useCallback(J(_),[_]),kt=vt.exports.useCallback(J(v),[v]),qt=vt.exports.useCallback(J(T),[T]);return ge.exports.jsx(za,on(ze({ref:yt},Z),{onEnter:H,onEntered:ut,onEntering:nt,onExit:at,onExited:kt,onExiting:bt,addEndListener:qt,nodeRef:Pt,children:typeof u=="function"?(Vt,jt)=>u(Vt,on(ze({},jt),{ref:Lt})):Ae.cloneElement(u,{ref:Lt})}))});var mv=fv;function yv(t){var r=vt.exports.useRef(t);return vt.exports.useEffect(function(){r.current=t},[t]),r}function ro(t){var r=yv(t);return vt.exports.useCallback(function(){return r.current&&r.current.apply(r,arguments)},[r])}function _v(){return vt.exports.useState(null)}function vv(){var t=vt.exports.useRef(!0),r=vt.exports.useRef(function(){return t.current});return vt.exports.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),r.current}function xv(t){var r=vt.exports.useRef(null);return vt.exports.useEffect(function(){r.current=t}),r.current}const wv=["as","disabled"];function bv(t,r){if(t==null)return{};var l={},p=Object.keys(t),_,v;for(v=0;v<p.length;v++)_=p[v],!(r.indexOf(_)>=0)&&(l[_]=t[_]);return l}function Sv(t){return!t||t.trim()==="#"}function wy({tagName:t,disabled:r,href:l,target:p,rel:_,onClick:v,tabIndex:T=0,type:u}){t||(l!=null||p!=null||_!=null?t="a":t="button");const F={tagName:t};if(t==="button")return[{type:u||"button",disabled:r},F];const Z=gt=>{if((r||t==="a"&&Sv(l))&&gt.preventDefault(),r){gt.stopPropagation();return}v==null||v(gt)},yt=gt=>{gt.key===" "&&(gt.preventDefault(),Z(gt))};return t==="a"&&(l||(l="#"),r&&(l=void 0)),[{role:"button",disabled:void 0,tabIndex:r?void 0:T,href:l,target:t==="a"?p:void 0,"aria-disabled":r||void 0,rel:t==="a"?_:void 0,onClick:Z,onKeyDown:yt},F]}const Ev=vt.exports.forwardRef((t,r)=>{let{as:l,disabled:p}=t,_=bv(t,wv);const[v,{tagName:T}]=wy(Object.assign({tagName:l,disabled:p},_));return ge.exports.jsx(T,Object.assign({},_,v,{ref:r}))});Ev.displayName="Button";const Tv={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Av={[no]:"show",[nl]:"show"},g0=vt.exports.forwardRef((v,_)=>{var T=v,{className:t,children:r,transitionClasses:l={}}=T,p=kn(T,["className","children","transitionClasses"]);const u=vt.exports.useCallback((F,Z)=>{hv(F),p.onEnter==null||p.onEnter(F,Z)},[p]);return ge.exports.jsx(mv,on(ze({ref:_,addEndListener:dv},p),{onEnter:u,childRef:r.ref,children:(F,Z)=>vt.exports.cloneElement(r,on(ze({},Z),{className:yn("fade",t,r.props.className,Av[F],l[F])}))}))});g0.defaultProps=Tv;g0.displayName="Fade";var by=g0;const kv={"aria-label":Ca.string,onClick:Ca.func,variant:Ca.oneOf(["white"])},Cv={"aria-label":"Close"},pp=vt.exports.forwardRef((_,p)=>{var v=_,{className:t,variant:r}=v,l=kn(v,["className","variant"]);return ge.exports.jsx("button",ze({ref:p,type:"button",className:yn("btn-close",r&&`btn-close-${r}`,t)},l))});pp.displayName="CloseButton";pp.propTypes=kv;pp.defaultProps=Cv;var Iv=pp,Pv=t=>vt.exports.forwardRef((r,l)=>ge.exports.jsx("div",on(ze({},r),{ref:l,className:yn(r.className,t)}))),Mv=/-(.)/g;function zv(t){return t.replace(Mv,function(r,l){return l.toUpperCase()})}const Dv=t=>t[0].toUpperCase()+zv(t).slice(1);function Xc(t,{displayName:r=Dv(t),Component:l,defaultProps:p}={}){const _=vt.exports.forwardRef((yt,Z)=>{var gt=yt,{className:v,bsPrefix:T,as:u=l||"div"}=gt,F=kn(gt,["className","bsPrefix","as"]);const V=Si(T,t);return ge.exports.jsx(u,ze({ref:Z,className:yn(v,V)},F))});return _.defaultProps=p,_.displayName=r,_}const Lv={variant:"primary",active:!1,disabled:!1},f0=vt.exports.forwardRef((F,u)=>{var Z=F,{as:t,bsPrefix:r,variant:l,size:p,active:_,className:v}=Z,T=kn(Z,["as","bsPrefix","variant","size","active","className"]);const yt=Si(r,"btn"),[gt,{tagName:V}]=wy(ze({tagName:t},T)),Pt=V;return ge.exports.jsx(Pt,on(ze(ze({},gt),T),{ref:u,className:yn(v,yt,_&&"active",l&&`${yt}-${l}`,p&&`${yt}-${p}`,T.href&&T.disabled&&"disabled")}))});f0.displayName="Button";f0.defaultProps=Lv;var o4=f0;function Rv(t){var r=vt.exports.useRef(t);return r.current=t,r}function Sy(t){var r=Rv(t);vt.exports.useEffect(function(){return function(){return r.current()}},[])}function Fv(t,r){return vt.exports.Children.toArray(t).some(l=>vt.exports.isValidElement(l)&&l.type===r)}function Bv(_){var v=_,{as:t,bsPrefix:r,className:l}=v,p=kn(v,["as","bsPrefix","className"]);r=Si(r,"col");const T=X6(),u=[],F=[];return T.forEach(Z=>{const yt=p[Z];delete p[Z];let gt,V,Pt;typeof yt=="object"&&yt!=null?{span:gt,offset:V,order:Pt}=yt:gt=yt;const It=Z!=="xs"?`-${Z}`:"";gt&&u.push(gt===!0?`${r}${It}`:`${r}${It}-${gt}`),Pt!=null&&F.push(`order${It}-${Pt}`),V!=null&&F.push(`offset${It}-${V}`)}),[on(ze({},p),{className:yn(l,...u,...F)}),{as:t,bsPrefix:r,spans:u}]}const Ey=vt.exports.forwardRef((t,r)=>{const[u,...F]=Bv(t),Z=u,{className:l}=Z,p=kn(Z,["className"]),[{as:_="div",bsPrefix:v,spans:T}]=F;return ge.exports.jsx(_,on(ze({},p),{ref:r,className:yn(l,!T.length&&v)}))});Ey.displayName="Col";var Ov=Ey,Uv=Function.prototype.bind.call(Function.prototype.call,[].slice);function ds(t,r){return Uv(t.querySelectorAll(r))}function k1(t,r){if(t.contains)return t.contains(r);if(t.compareDocumentPosition)return t===r||!!(t.compareDocumentPosition(r)&16)}const Nv="data-rr-ui-";function Vv(t){return`${Nv}${t}`}const Ty=vt.exports.createContext(Gs?window:void 0);Ty.Provider;function Ay(){return vt.exports.useContext(Ty)}const ky=vt.exports.createContext(null);ky.displayName="InputGroupContext";var jv=ky;const $v={type:Ca.string,tooltip:Ca.bool,as:Ca.elementType},m0=vt.exports.forwardRef((T,v)=>{var u=T,{as:t="div",className:r,type:l="valid",tooltip:p=!1}=u,_=kn(u,["as","className","type","tooltip"]);return ge.exports.jsx(t,on(ze({},_),{ref:v,className:yn(r,`${l}-${p?"tooltip":"feedback"}`)}))});m0.displayName="Feedback";m0.propTypes=$v;var Cy=m0;const Gv=vt.exports.createContext({});var Pa=Gv;const Iy=vt.exports.forwardRef((Z,F)=>{var yt=Z,{id:t,bsPrefix:r,className:l,type:p="checkbox",isValid:_=!1,isInvalid:v=!1,as:T="input"}=yt,u=kn(yt,["id","bsPrefix","className","type","isValid","isInvalid","as"]);const{controlId:gt}=vt.exports.useContext(Pa);return r=Si(r,"form-check-input"),ge.exports.jsx(T,on(ze({},u),{ref:F,type:p,id:t||gt,className:yn(l,r,_&&"is-valid",v&&"is-invalid")}))});Iy.displayName="FormCheckInput";var gp=Iy;const Py=vt.exports.forwardRef((v,_)=>{var T=v,{bsPrefix:t,className:r,htmlFor:l}=T,p=kn(T,["bsPrefix","className","htmlFor"]);const{controlId:u}=vt.exports.useContext(Pa);return t=Si(t,"form-check-label"),ge.exports.jsx("label",on(ze({},p),{ref:_,htmlFor:l||u,className:yn(r,t)}))});Py.displayName="FormCheckLabel";var uf=Py;const My=vt.exports.forwardRef((ut,nt)=>{var at=ut,{id:t,bsPrefix:r,bsSwitchPrefix:l,inline:p=!1,disabled:_=!1,isValid:v=!1,isInvalid:T=!1,feedbackTooltip:u=!1,feedback:F,feedbackType:Z,className:yt,style:gt,title:V="",type:Pt="checkbox",label:It,children:Lt,as:J="input"}=at,H=kn(at,["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"]);r=Si(r,"form-check"),l=Si(l,"form-switch");const{controlId:bt}=vt.exports.useContext(Pa),kt=vt.exports.useMemo(()=>({controlId:t||bt}),[bt,t]),qt=!Lt&&It!=null&&It!==!1||Fv(Lt,uf),Vt=ge.exports.jsx(gp,on(ze({},H),{type:Pt==="switch"?"checkbox":Pt,ref:nt,isValid:v,isInvalid:T,disabled:_,as:J}));return ge.exports.jsx(Pa.Provider,{value:kt,children:ge.exports.jsx("div",{style:gt,className:yn(yt,qt&&r,p&&`${r}-inline`,Pt==="switch"&&l),children:Lt||ge.exports.jsxs(ge.exports.Fragment,{children:[Vt,qt&&ge.exports.jsx(uf,{title:V,children:It}),F&&ge.exports.jsx(Cy,{type:Z,tooltip:u,children:F})]})})})});My.displayName="FormCheck";var Kh=Object.assign(My,{Input:gp,Label:uf});const zy=vt.exports.forwardRef((Pt,V)=>{var It=Pt,{bsPrefix:t,type:r,size:l,htmlSize:p,id:_,className:v,isValid:T=!1,isInvalid:u=!1,plaintext:F,readOnly:Z,as:yt="input"}=It,gt=kn(It,["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]);const{controlId:Lt}=vt.exports.useContext(Pa);t=Si(t,"form-control");let J;return F?J={[`${t}-plaintext`]:!0}:J={[t]:!0,[`${t}-${l}`]:l},ge.exports.jsx(yt,on(ze({},gt),{type:r,size:p,ref:V,readOnly:Z,id:_||Lt,className:yn(v,J,T&&"is-valid",u&&"is-invalid",r==="color"&&`${t}-color`)}))});zy.displayName="FormControl";var qv=Object.assign(zy,{Feedback:Cy}),Zv=Xc("form-floating");const Dy=vt.exports.forwardRef((_,p)=>{var v=_,{controlId:t,as:r="div"}=v,l=kn(v,["controlId","as"]);const T=vt.exports.useMemo(()=>({controlId:t}),[t]);return ge.exports.jsx(Pa.Provider,{value:T,children:ge.exports.jsx(r,on(ze({},l),{ref:p}))})});Dy.displayName="FormGroup";var Ly=Dy;const Wv={column:!1,visuallyHidden:!1},y0=vt.exports.forwardRef((F,u)=>{var Z=F,{as:t="label",bsPrefix:r,column:l,visuallyHidden:p,className:_,htmlFor:v}=Z,T=kn(Z,["as","bsPrefix","column","visuallyHidden","className","htmlFor"]);const{controlId:yt}=vt.exports.useContext(Pa);r=Si(r,"form-label");let gt="col-form-label";typeof l=="string"&&(gt=`${gt} ${gt}-${l}`);const V=yn(_,r,p&&"visually-hidden",l&&gt);return v=v||yt,l?ge.exports.jsx(Ov,ze({ref:u,as:"label",className:V,htmlFor:v},T)):ge.exports.jsx(t,ze({ref:u,className:V,htmlFor:v},T))});y0.displayName="FormLabel";y0.defaultProps=Wv;var Hv=y0;const Ry=vt.exports.forwardRef((v,_)=>{var T=v,{bsPrefix:t,className:r,id:l}=T,p=kn(T,["bsPrefix","className","id"]);const{controlId:u}=vt.exports.useContext(Pa);return t=Si(t,"form-range"),ge.exports.jsx("input",on(ze({},p),{type:"range",ref:_,className:yn(r,t),id:l||u}))});Ry.displayName="FormRange";var Xv=Ry;const Fy=vt.exports.forwardRef((Z,F)=>{var yt=Z,{bsPrefix:t,size:r,htmlSize:l,className:p,isValid:_=!1,isInvalid:v=!1,id:T}=yt,u=kn(yt,["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"]);const{controlId:gt}=vt.exports.useContext(Pa);return t=Si(t,"form-select"),ge.exports.jsx("select",on(ze({},u),{size:l,ref:F,className:yn(p,t,r&&`${t}-${r}`,_&&"is-valid",v&&"is-invalid"),id:T||gt}))});Fy.displayName="FormSelect";var Kv=Fy;const By=vt.exports.forwardRef((T,v)=>{var u=T,{bsPrefix:t,className:r,as:l="small",muted:p}=u,_=kn(u,["bsPrefix","className","as","muted"]);return t=Si(t,"form-text"),ge.exports.jsx(l,on(ze({},_),{ref:v,className:yn(r,t,p&&"text-muted")}))});By.displayName="FormText";var Yv=By;const Oy=vt.exports.forwardRef((t,r)=>ge.exports.jsx(Kh,on(ze({},t),{ref:r,type:"switch"})));Oy.displayName="Switch";var Jv=Object.assign(Oy,{Input:Kh.Input,Label:Kh.Label});const Uy=vt.exports.forwardRef((u,T)=>{var F=u,{bsPrefix:t,className:r,children:l,controlId:p,label:_}=F,v=kn(F,["bsPrefix","className","children","controlId","label"]);return t=Si(t,"form-floating"),ge.exports.jsxs(Ly,on(ze({ref:T,className:yn(r,t),controlId:p},v),{children:[l,ge.exports.jsx("label",{htmlFor:p,children:_})]}))});Uy.displayName="FloatingLabel";var Qv=Uy;const tx={_ref:Ca.any,validated:Ca.bool,as:Ca.elementType},_0=vt.exports.forwardRef((v,_)=>{var T=v,{className:t,validated:r,as:l="form"}=T,p=kn(T,["className","validated","as"]);return ge.exports.jsx(l,on(ze({},p),{ref:_,className:yn(t,r&&"was-validated")}))});_0.displayName="Form";_0.propTypes=tx;var jr=Object.assign(_0,{Group:Ly,Control:qv,Floating:Zv,Check:Kh,Switch:Jv,Label:Hv,Text:Yv,Range:Xv,Select:Kv,FloatingLabel:Qv});const v0=Xc("input-group-text",{Component:"span"}),ex=t=>ge.exports.jsx(v0,{children:ge.exports.jsx(gp,ze({type:"checkbox"},t))}),nx=t=>ge.exports.jsx(v0,{children:ge.exports.jsx(gp,ze({type:"radio"},t))}),Ny=vt.exports.forwardRef((u,T)=>{var F=u,{bsPrefix:t,size:r,hasValidation:l,className:p,as:_="div"}=F,v=kn(F,["bsPrefix","size","hasValidation","className","as"]);t=Si(t,"input-group");const Z=vt.exports.useMemo(()=>({}),[]);return ge.exports.jsx(jv.Provider,{value:Z,children:ge.exports.jsx(_,on(ze({ref:T},v),{className:yn(p,t,r&&`${t}-${r}`,l&&"has-validation")}))})});Ny.displayName="InputGroup";var C1=Object.assign(Ny,{Text:v0,Radio:nx,Checkbox:ex}),hh;function I1(t){if((!hh&&hh!==0||t)&&Gs){var r=document.createElement("div");r.style.position="absolute",r.style.top="-9999px",r.style.width="50px",r.style.height="50px",r.style.overflow="scroll",document.body.appendChild(r),hh=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return hh}function l4(t){t===void 0&&(t=hp());try{var r=t.activeElement;return!r||!r.nodeName?null:r}catch{return t.body}}function ix(t=document){const r=t.defaultView;return Math.abs(r.innerWidth-t.documentElement.clientWidth)}const P1=Vv("modal-open");class x0{constructor({ownerDocument:r,handleContainerOverflow:l=!0,isRTL:p=!1}={}){this.handleContainerOverflow=l,this.isRTL=p,this.modals=[],this.ownerDocument=r}getScrollbarWidth(){return ix(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(r){}removeModalAttributes(r){}setContainerStyle(r){const l={overflow:"hidden"},p=this.isRTL?"paddingLeft":"paddingRight",_=this.getElement();r.style={overflow:_.style.overflow,[p]:_.style[p]},r.scrollBarWidth&&(l[p]=`${parseInt(ul(_,p)||"0",10)+r.scrollBarWidth}px`),_.setAttribute(P1,""),ul(_,l)}reset(){[...this.modals].forEach(r=>this.remove(r))}removeContainerStyle(r){const l=this.getElement();l.removeAttribute(P1),Object.assign(l.style,r.style)}add(r){let l=this.modals.indexOf(r);return l!==-1||(l=this.modals.length,this.modals.push(r),this.setModalAttributes(r),l!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),l}remove(r){const l=this.modals.indexOf(r);l!==-1&&(this.modals.splice(l,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(r))}isTopModal(r){return!!this.modals.length&&this.modals[this.modals.length-1]===r}}const s4=(t,r)=>{var l;return Gs?t==null?(r||hp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(l=t)!=null&&l.nodeType&&t||null):null};function rx(t,r){const l=Ay(),[p,_]=vt.exports.useState(()=>s4(t,l==null?void 0:l.document));if(!p){const v=s4(t);v&&_(v)}return vt.exports.useEffect(()=>{r&&p&&r(p)},[r,p]),vt.exports.useEffect(()=>{const v=s4(t);v!==p&&_(v)},[t,p]),p}const ax=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ox(t,r){if(t==null)return{};var l={},p=Object.keys(t),_,v;for(v=0;v<p.length;v++)_=p[v],!(r.indexOf(_)>=0)&&(l[_]=t[_]);return l}let u4;function lx(t){return u4||(u4=new x0({ownerDocument:t==null?void 0:t.document})),u4}function sx(t){const r=Ay(),l=t||lx(r),p=vt.exports.useRef({dialog:null,backdrop:null});return Object.assign(p.current,{add:()=>l.add(p.current),remove:()=>l.remove(p.current),isTopModal:()=>l.isTopModal(p.current),setDialogRef:vt.exports.useCallback(_=>{p.current.dialog=_},[]),setBackdropRef:vt.exports.useCallback(_=>{p.current.backdrop=_},[])})}const Vy=vt.exports.forwardRef((t,r)=>{let{show:l=!1,role:p="dialog",className:_,style:v,children:T,backdrop:u=!0,keyboard:F=!0,onBackdropClick:Z,onEscapeKeyDown:yt,transition:gt,backdropTransition:V,autoFocus:Pt=!0,enforceFocus:It=!0,restoreFocus:Lt=!0,restoreFocusOptions:J,renderDialog:H,renderBackdrop:nt=me=>ge.exports.jsx("div",Object.assign({},me)),manager:ut,container:at,onShow:bt,onHide:kt=()=>{},onExit:qt,onExited:Vt,onExiting:jt,onEnter:$e,onEntering:tn,onEntered:qe}=t,Ye=ox(t,ax);const wn=rx(at),Ne=sx(ut),ae=vv(),Rn=xv(l),[bn,Sn]=vt.exports.useState(!l),ln=vt.exports.useRef(null);vt.exports.useImperativeHandle(r,()=>Ne,[Ne]),Gs&&!Rn&&l&&(ln.current=l4()),!gt&&!l&&!bn?Sn(!0):l&&bn&&Sn(!1);const Ft=ro(()=>{if(Ne.add(),un.current=Xh(document,"keydown",Be),en.current=Xh(document,"focus",()=>setTimeout(ce),!0),bt&&bt(),Pt){const me=l4(document);Ne.dialog&&me&&!k1(Ne.dialog,me)&&(ln.current=me,Ne.dialog.focus())}}),re=ro(()=>{if(Ne.remove(),un.current==null||un.current(),en.current==null||en.current(),Lt){var me;(me=ln.current)==null||me.focus==null||me.focus(J),ln.current=null}});vt.exports.useEffect(()=>{!l||!wn||Ft()},[l,wn,Ft]),vt.exports.useEffect(()=>{!bn||re()},[bn,re]),Sy(()=>{re()});const ce=ro(()=>{if(!It||!ae()||!Ne.isTopModal())return;const me=l4();Ne.dialog&&me&&!k1(Ne.dialog,me)&&Ne.dialog.focus()}),Ce=ro(me=>{me.target===me.currentTarget&&(Z==null||Z(me),u===!0&&kt())}),Be=ro(me=>{F&&me.keyCode===27&&Ne.isTopModal()&&(yt==null||yt(me),me.defaultPrevented||kt())}),en=vt.exports.useRef(),un=vt.exports.useRef(),En=(...me)=>{Sn(!0),Vt==null||Vt(...me)},Tn=gt;if(!wn||!(l||Tn&&!bn))return null;const rr=Object.assign({role:p,ref:Ne.setDialogRef,"aria-modal":p==="dialog"?!0:void 0},Ye,{style:v,className:_,tabIndex:-1});let hi=H?H(rr):ge.exports.jsx("div",Object.assign({},rr,{children:vt.exports.cloneElement(T,{role:"document"})}));Tn&&(hi=ge.exports.jsx(Tn,{appear:!0,unmountOnExit:!0,in:!!l,onExit:qt,onExiting:jt,onExited:En,onEnter:$e,onEntering:tn,onEntered:qe,children:hi}));let Ei=null;if(u){const me=V;Ei=nt({ref:Ne.setBackdropRef,onClick:Ce}),me&&(Ei=ge.exports.jsx(me,{appear:!0,in:!!l,children:Ei}))}return ge.exports.jsx(ge.exports.Fragment,{children:Ms.createPortal(ge.exports.jsxs(ge.exports.Fragment,{children:[Ei,hi]}),wn)})});Vy.displayName="Modal";var ux=Object.assign(Vy,{Manager:x0});function cx(t,r){return t.classList?!!r&&t.classList.contains(r):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+r+" ")!==-1}function dx(t,r){t.classList?t.classList.add(r):cx(t,r)||(typeof t.className=="string"?t.className=t.className+" "+r:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+r))}function M1(t,r){return t.replace(new RegExp("(^|\\s)"+r+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hx(t,r){t.classList?t.classList.remove(r):typeof t.className=="string"?t.className=M1(t.className,r):t.setAttribute("class",M1(t.className&&t.className.baseVal||"",r))}const hs={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class px extends x0{adjustAndStore(r,l,p){const _=l.style[r];l.dataset[r]=_,ul(l,{[r]:`${parseFloat(ul(l,r))+p}px`})}restore(r,l){const p=l.dataset[r];p!==void 0&&(delete l.dataset[r],ul(l,{[r]:p}))}setContainerStyle(r){super.setContainerStyle(r);const l=this.getElement();if(dx(l,"modal-open"),!r.scrollBarWidth)return;const p=this.isRTL?"paddingLeft":"paddingRight",_=this.isRTL?"marginLeft":"marginRight";ds(l,hs.FIXED_CONTENT).forEach(v=>this.adjustAndStore(p,v,r.scrollBarWidth)),ds(l,hs.STICKY_CONTENT).forEach(v=>this.adjustAndStore(_,v,-r.scrollBarWidth)),ds(l,hs.NAVBAR_TOGGLER).forEach(v=>this.adjustAndStore(_,v,r.scrollBarWidth))}removeContainerStyle(r){super.removeContainerStyle(r);const l=this.getElement();hx(l,"modal-open");const p=this.isRTL?"paddingLeft":"paddingRight",_=this.isRTL?"marginLeft":"marginRight";ds(l,hs.FIXED_CONTENT).forEach(v=>this.restore(p,v)),ds(l,hs.STICKY_CONTENT).forEach(v=>this.restore(_,v)),ds(l,hs.NAVBAR_TOGGLER).forEach(v=>this.restore(_,v))}}let c4;function gx(t){return c4||(c4=new px(t)),c4}var fx=Xc("modal-body");const mx=vt.exports.createContext({onHide(){}});var jy=mx;const $y=vt.exports.forwardRef((yt,Z)=>{var gt=yt,{bsPrefix:t,className:r,contentClassName:l,centered:p,size:_,fullscreen:v,children:T,scrollable:u}=gt,F=kn(gt,["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"]);t=Si(t,"modal");const V=`${t}-dialog`,Pt=typeof v=="string"?`${t}-fullscreen-${v}`:`${t}-fullscreen`;return ge.exports.jsx("div",on(ze({},F),{ref:Z,className:yn(V,r,_&&`${t}-${_}`,p&&`${V}-centered`,u&&`${V}-scrollable`,v&&Pt),children:ge.exports.jsx("div",{className:yn(`${t}-content`,l),children:T})}))});$y.displayName="ModalDialog";var Gy=$y,yx=Xc("modal-footer");const _x={closeLabel:"Close",closeButton:!1},qy=vt.exports.forwardRef((u,T)=>{var F=u,{closeLabel:t,closeVariant:r,closeButton:l,onHide:p,children:_}=F,v=kn(F,["closeLabel","closeVariant","closeButton","onHide","children"]);const Z=vt.exports.useContext(jy),yt=ro(()=>{Z==null||Z.onHide(),p==null||p()});return ge.exports.jsxs("div",on(ze({ref:T},v),{children:[_,l&&ge.exports.jsx(Iv,{"aria-label":t,variant:r,onClick:yt})]}))});qy.defaultProps=_x;var vx=qy;const xx={closeLabel:"Close",closeButton:!1},w0=vt.exports.forwardRef((_,p)=>{var v=_,{bsPrefix:t,className:r}=v,l=kn(v,["bsPrefix","className"]);return t=Si(t,"modal-header"),ge.exports.jsx(vx,on(ze({ref:p},l),{className:yn(r,t)}))});w0.displayName="ModalHeader";w0.defaultProps=xx;var wx=w0;const bx=Pv("h4");var Sx=Xc("modal-title",{Component:bx});const Ex={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Gy};function Tx(t){return ge.exports.jsx(by,on(ze({},t),{timeout:null}))}function Ax(t){return ge.exports.jsx(by,on(ze({},t),{timeout:null}))}const b0=vt.exports.forwardRef((ae,Ne)=>{var Rn=ae,{bsPrefix:t,className:r,style:l,dialogClassName:p,contentClassName:_,children:v,dialogAs:T,"aria-labelledby":u,"aria-describedby":F,"aria-label":Z,show:yt,animation:gt,backdrop:V,keyboard:Pt,onEscapeKeyDown:It,onShow:Lt,onHide:J,container:H,autoFocus:nt,enforceFocus:ut,restoreFocus:at,restoreFocusOptions:bt,onEntered:kt,onExit:qt,onExiting:Vt,onEnter:jt,onEntering:$e,onExited:tn,backdropClassName:qe,manager:Ye}=Rn,wn=kn(Rn,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]);const[bn,Sn]=vt.exports.useState({}),[ln,Ft]=vt.exports.useState(!1),re=vt.exports.useRef(!1),ce=vt.exports.useRef(!1),Ce=vt.exports.useRef(null),[Be,en]=_v(),un=xy(Ne,en),En=ro(J),Tn=K6();t=Si(t,"modal");const rr=vt.exports.useMemo(()=>({onHide:En}),[En]);function hi(){return Ye||gx({isRTL:Tn})}function Ei(xe){if(!Gs)return;const pt=hi().getScrollbarWidth()>0,Ot=xe.scrollHeight>hp(xe).documentElement.clientHeight;Sn({paddingRight:pt&&!Ot?I1():void 0,paddingLeft:!pt&&Ot?I1():void 0})}const me=ro(()=>{Be&&Ei(Be.dialog)});Sy(()=>{sf(window,"resize",me),Ce.current==null||Ce.current()});const Wi=()=>{re.current=!0},Lr=xe=>{re.current&&Be&&xe.target===Be.dialog&&(ce.current=!0),re.current=!1},Hi=()=>{Ft(!0),Ce.current=vy(Be.dialog,()=>{Ft(!1)})},ri=xe=>{xe.target===xe.currentTarget&&Hi()},Zr=xe=>{if(V==="static"){ri(xe);return}if(ce.current||xe.target!==xe.currentTarget){ce.current=!1;return}J==null||J()},Ri=xe=>{!Pt&&V==="static"?(xe.preventDefault(),Hi()):Pt&&It&&It(xe)},dt=(xe,pt)=>{xe&&Ei(xe),jt==null||jt(xe,pt)},Kt=xe=>{Ce.current==null||Ce.current(),qt==null||qt(xe)},oe=(xe,pt)=>{$e==null||$e(xe,pt),_y(window,"resize",me)},Dt=xe=>{xe&&(xe.style.display=""),tn==null||tn(xe),sf(window,"resize",me)},ye=vt.exports.useCallback(xe=>ge.exports.jsx("div",on(ze({},xe),{className:yn(`${t}-backdrop`,qe,!gt&&"show")})),[gt,qe,t]),Ie=ze(ze({},l),bn);Ie.display="block";const nn=xe=>ge.exports.jsx("div",on(ze({role:"dialog"},xe),{style:Ie,className:yn(r,t,ln&&`${t}-static`),onClick:V?Zr:void 0,onMouseUp:Lr,"aria-label":Z,"aria-labelledby":u,"aria-describedby":F,children:ge.exports.jsx(T,on(ze({},wn),{onMouseDown:Wi,className:p,contentClassName:_,children:v}))}));return ge.exports.jsx(jy.Provider,{value:rr,children:ge.exports.jsx(ux,{show:yt,ref:un,backdrop:V,container:H,keyboard:!0,autoFocus:nt,enforceFocus:ut,restoreFocus:at,restoreFocusOptions:bt,onEscapeKeyDown:Ri,onShow:Lt,onHide:J,onEnter:dt,onEntering:oe,onEntered:kt,onExit:Kt,onExiting:Vt,onExited:Dt,manager:hi(),transition:gt?Tx:void 0,backdropTransition:gt?Ax:void 0,renderBackdrop:ye,renderDialog:nn})})});b0.displayName="Modal";b0.defaultProps=Ex;var d4=Object.assign(b0,{Body:fx,Header:wx,Title:Sx,Footer:yx,Dialog:Gy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),z1=Array.isArray,D1=Object.keys,kx=Object.prototype.hasOwnProperty,Cx=typeof Element!="undefined";function cf(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){var l=z1(t),p=z1(r),_,v,T;if(l&&p){if(v=t.length,v!=r.length)return!1;for(_=v;_--!==0;)if(!cf(t[_],r[_]))return!1;return!0}if(l!=p)return!1;var u=t instanceof Date,F=r instanceof Date;if(u!=F)return!1;if(u&&F)return t.getTime()==r.getTime();var Z=t instanceof RegExp,yt=r instanceof RegExp;if(Z!=yt)return!1;if(Z&&yt)return t.toString()==r.toString();var gt=D1(t);if(v=gt.length,v!==D1(r).length)return!1;for(_=v;_--!==0;)if(!kx.call(r,gt[_]))return!1;if(Cx&&t instanceof Element&&r instanceof Element)return t===r;for(_=v;_--!==0;)if(T=gt[_],!(T==="_owner"&&t.$$typeof)&&!cf(t[T],r[T]))return!1;return!0}return t!==t&&r!==r}var tl=function(r,l){try{return cf(r,l)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},Ix=function(r){return Px(r)&&!Mx(r)};function Px(t){return!!t&&typeof t=="object"}function Mx(t){var r=Object.prototype.toString.call(t);return r==="[object RegExp]"||r==="[object Date]"||Lx(t)}var zx=typeof Symbol=="function"&&Symbol.for,Dx=zx?Symbol.for("react.element"):60103;function Lx(t){return t.$$typeof===Dx}function Rx(t){return Array.isArray(t)?[]:{}}function Yh(t,r){return r.clone!==!1&&r.isMergeableObject(t)?Uc(Rx(t),t,r):t}function Fx(t,r,l){return t.concat(r).map(function(p){return Yh(p,l)})}function Bx(t,r,l){var p={};return l.isMergeableObject(t)&&Object.keys(t).forEach(function(_){p[_]=Yh(t[_],l)}),Object.keys(r).forEach(function(_){!l.isMergeableObject(r[_])||!t[_]?p[_]=Yh(r[_],l):p[_]=Uc(t[_],r[_],l)}),p}function Uc(t,r,l){l=l||{},l.arrayMerge=l.arrayMerge||Fx,l.isMergeableObject=l.isMergeableObject||Ix;var p=Array.isArray(r),_=Array.isArray(t),v=p===_;return v?p?l.arrayMerge(t,r,l):Bx(t,r,l):Yh(r,l)}Uc.all=function(r,l){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(p,_){return Uc(p,_,l)},{})};var df=Uc,Ox=typeof global=="object"&&global&&global.Object===Object&&global,Zy=Ox,Ux=typeof self=="object"&&self&&self.Object===Object&&self,Nx=Zy||Ux||Function("return this")(),na=Nx,Vx=na.Symbol,So=Vx,Wy=Object.prototype,jx=Wy.hasOwnProperty,$x=Wy.toString,ac=So?So.toStringTag:void 0;function Gx(t){var r=jx.call(t,ac),l=t[ac];try{t[ac]=void 0;var p=!0}catch{}var _=$x.call(t);return p&&(r?t[ac]=l:delete t[ac]),_}var qx=Object.prototype,Zx=qx.toString;function Wx(t){return Zx.call(t)}var Hx="[object Null]",Xx="[object Undefined]",L1=So?So.toStringTag:void 0;function vl(t){return t==null?t===void 0?Xx:Hx:L1&&L1 in Object(t)?Gx(t):Wx(t)}function Hy(t,r){return function(l){return t(r(l))}}var Kx=Hy(Object.getPrototypeOf,Object),S0=Kx;function xl(t){return t!=null&&typeof t=="object"}var Yx="[object Object]",Jx=Function.prototype,Qx=Object.prototype,Xy=Jx.toString,tw=Qx.hasOwnProperty,ew=Xy.call(Object);function R1(t){if(!xl(t)||vl(t)!=Yx)return!1;var r=S0(t);if(r===null)return!0;var l=tw.call(r,"constructor")&&r.constructor;return typeof l=="function"&&l instanceof l&&Xy.call(l)==ew}function nw(){this.__data__=[],this.size=0}function Ky(t,r){return t===r||t!==t&&r!==r}function fp(t,r){for(var l=t.length;l--;)if(Ky(t[l][0],r))return l;return-1}var iw=Array.prototype,rw=iw.splice;function aw(t){var r=this.__data__,l=fp(r,t);if(l<0)return!1;var p=r.length-1;return l==p?r.pop():rw.call(r,l,1),--this.size,!0}function ow(t){var r=this.__data__,l=fp(r,t);return l<0?void 0:r[l][1]}function lw(t){return fp(this.__data__,t)>-1}function sw(t,r){var l=this.__data__,p=fp(l,t);return p<0?(++this.size,l.push([t,r])):l[p][1]=r,this}function Da(t){var r=-1,l=t==null?0:t.length;for(this.clear();++r<l;){var p=t[r];this.set(p[0],p[1])}}Da.prototype.clear=nw;Da.prototype.delete=aw;Da.prototype.get=ow;Da.prototype.has=lw;Da.prototype.set=sw;function uw(){this.__data__=new Da,this.size=0}function cw(t){var r=this.__data__,l=r.delete(t);return this.size=r.size,l}function dw(t){return this.__data__.get(t)}function hw(t){return this.__data__.has(t)}function Kc(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var pw="[object AsyncFunction]",gw="[object Function]",fw="[object GeneratorFunction]",mw="[object Proxy]";function Yy(t){if(!Kc(t))return!1;var r=vl(t);return r==gw||r==fw||r==pw||r==mw}var yw=na["__core-js_shared__"],h4=yw,F1=function(){var t=/[^.]+$/.exec(h4&&h4.keys&&h4.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _w(t){return!!F1&&F1 in t}var vw=Function.prototype,xw=vw.toString;function wl(t){if(t!=null){try{return xw.call(t)}catch{}try{return t+""}catch{}}return""}var ww=/[\\^$.*+?()[\]{}|]/g,bw=/^\[object .+?Constructor\]$/,Sw=Function.prototype,Ew=Object.prototype,Tw=Sw.toString,Aw=Ew.hasOwnProperty,kw=RegExp("^"+Tw.call(Aw).replace(ww,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cw(t){if(!Kc(t)||_w(t))return!1;var r=Yy(t)?kw:bw;return r.test(wl(t))}function Iw(t,r){return t==null?void 0:t[r]}function bl(t,r){var l=Iw(t,r);return Cw(l)?l:void 0}var Pw=bl(na,"Map"),Nc=Pw,Mw=bl(Object,"create"),Vc=Mw;function zw(){this.__data__=Vc?Vc(null):{},this.size=0}function Dw(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}var Lw="__lodash_hash_undefined__",Rw=Object.prototype,Fw=Rw.hasOwnProperty;function Bw(t){var r=this.__data__;if(Vc){var l=r[t];return l===Lw?void 0:l}return Fw.call(r,t)?r[t]:void 0}var Ow=Object.prototype,Uw=Ow.hasOwnProperty;function Nw(t){var r=this.__data__;return Vc?r[t]!==void 0:Uw.call(r,t)}var Vw="__lodash_hash_undefined__";function jw(t,r){var l=this.__data__;return this.size+=this.has(t)?0:1,l[t]=Vc&&r===void 0?Vw:r,this}function gl(t){var r=-1,l=t==null?0:t.length;for(this.clear();++r<l;){var p=t[r];this.set(p[0],p[1])}}gl.prototype.clear=zw;gl.prototype.delete=Dw;gl.prototype.get=Bw;gl.prototype.has=Nw;gl.prototype.set=jw;function $w(){this.size=0,this.__data__={hash:new gl,map:new(Nc||Da),string:new gl}}function Gw(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function mp(t,r){var l=t.__data__;return Gw(r)?l[typeof r=="string"?"string":"hash"]:l.map}function qw(t){var r=mp(this,t).delete(t);return this.size-=r?1:0,r}function Zw(t){return mp(this,t).get(t)}function Ww(t){return mp(this,t).has(t)}function Hw(t,r){var l=mp(this,t),p=l.size;return l.set(t,r),this.size+=l.size==p?0:1,this}function Ao(t){var r=-1,l=t==null?0:t.length;for(this.clear();++r<l;){var p=t[r];this.set(p[0],p[1])}}Ao.prototype.clear=$w;Ao.prototype.delete=qw;Ao.prototype.get=Zw;Ao.prototype.has=Ww;Ao.prototype.set=Hw;var Xw=200;function Kw(t,r){var l=this.__data__;if(l instanceof Da){var p=l.__data__;if(!Nc||p.length<Xw-1)return p.push([t,r]),this.size=++l.size,this;l=this.__data__=new Ao(p)}return l.set(t,r),this.size=l.size,this}function qs(t){var r=this.__data__=new Da(t);this.size=r.size}qs.prototype.clear=uw;qs.prototype.delete=cw;qs.prototype.get=dw;qs.prototype.has=hw;qs.prototype.set=Kw;function Yw(t,r){for(var l=-1,p=t==null?0:t.length;++l<p&&r(t[l],l,t)!==!1;);return t}var Jw=function(){try{var t=bl(Object,"defineProperty");return t({},"",{}),t}catch{}}(),B1=Jw;function Jy(t,r,l){r=="__proto__"&&B1?B1(t,r,{configurable:!0,enumerable:!0,value:l,writable:!0}):t[r]=l}var Qw=Object.prototype,tb=Qw.hasOwnProperty;function Qy(t,r,l){var p=t[r];(!(tb.call(t,r)&&Ky(p,l))||l===void 0&&!(r in t))&&Jy(t,r,l)}function yp(t,r,l,p){var _=!l;l||(l={});for(var v=-1,T=r.length;++v<T;){var u=r[v],F=p?p(l[u],t[u],u,l,t):void 0;F===void 0&&(F=t[u]),_?Jy(l,u,F):Qy(l,u,F)}return l}function eb(t,r){for(var l=-1,p=Array(t);++l<t;)p[l]=r(l);return p}var nb="[object Arguments]";function O1(t){return xl(t)&&vl(t)==nb}var t7=Object.prototype,ib=t7.hasOwnProperty,rb=t7.propertyIsEnumerable,ab=O1(function(){return arguments}())?O1:function(t){return xl(t)&&ib.call(t,"callee")&&!rb.call(t,"callee")},ob=ab,lb=Array.isArray,Yc=lb;function sb(){return!1}var e7=typeof pr=="object"&&pr&&!pr.nodeType&&pr,U1=e7&&typeof gr=="object"&&gr&&!gr.nodeType&&gr,ub=U1&&U1.exports===e7,N1=ub?na.Buffer:void 0,cb=N1?N1.isBuffer:void 0,db=cb||sb,n7=db,hb=9007199254740991,pb=/^(?:0|[1-9]\d*)$/;function gb(t,r){var l=typeof t;return r=r==null?hb:r,!!r&&(l=="number"||l!="symbol"&&pb.test(t))&&t>-1&&t%1==0&&t<r}var fb=9007199254740991;function i7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fb}var mb="[object Arguments]",yb="[object Array]",_b="[object Boolean]",vb="[object Date]",xb="[object Error]",wb="[object Function]",bb="[object Map]",Sb="[object Number]",Eb="[object Object]",Tb="[object RegExp]",Ab="[object Set]",kb="[object String]",Cb="[object WeakMap]",Ib="[object ArrayBuffer]",Pb="[object DataView]",Mb="[object Float32Array]",zb="[object Float64Array]",Db="[object Int8Array]",Lb="[object Int16Array]",Rb="[object Int32Array]",Fb="[object Uint8Array]",Bb="[object Uint8ClampedArray]",Ob="[object Uint16Array]",Ub="[object Uint32Array]",In={};In[Mb]=In[zb]=In[Db]=In[Lb]=In[Rb]=In[Fb]=In[Bb]=In[Ob]=In[Ub]=!0;In[mb]=In[yb]=In[Ib]=In[_b]=In[Pb]=In[vb]=In[xb]=In[wb]=In[bb]=In[Sb]=In[Eb]=In[Tb]=In[Ab]=In[kb]=In[Cb]=!1;function Nb(t){return xl(t)&&i7(t.length)&&!!In[vl(t)]}function E0(t){return function(r){return t(r)}}var r7=typeof pr=="object"&&pr&&!pr.nodeType&&pr,Ec=r7&&typeof gr=="object"&&gr&&!gr.nodeType&&gr,Vb=Ec&&Ec.exports===r7,p4=Vb&&Zy.process,jb=function(){try{var t=Ec&&Ec.require&&Ec.require("util").types;return t||p4&&p4.binding&&p4.binding("util")}catch{}}(),Fs=jb,V1=Fs&&Fs.isTypedArray,$b=V1?E0(V1):Nb,Gb=$b,qb=Object.prototype,Zb=qb.hasOwnProperty;function a7(t,r){var l=Yc(t),p=!l&&ob(t),_=!l&&!p&&n7(t),v=!l&&!p&&!_&&Gb(t),T=l||p||_||v,u=T?eb(t.length,String):[],F=u.length;for(var Z in t)(r||Zb.call(t,Z))&&!(T&&(Z=="length"||_&&(Z=="offset"||Z=="parent")||v&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||gb(Z,F)))&&u.push(Z);return u}var Wb=Object.prototype;function T0(t){var r=t&&t.constructor,l=typeof r=="function"&&r.prototype||Wb;return t===l}var Hb=Hy(Object.keys,Object),Xb=Hb,Kb=Object.prototype,Yb=Kb.hasOwnProperty;function Jb(t){if(!T0(t))return Xb(t);var r=[];for(var l in Object(t))Yb.call(t,l)&&l!="constructor"&&r.push(l);return r}function o7(t){return t!=null&&i7(t.length)&&!Yy(t)}function A0(t){return o7(t)?a7(t):Jb(t)}function Qb(t,r){return t&&yp(r,A0(r),t)}function tS(t){var r=[];if(t!=null)for(var l in Object(t))r.push(l);return r}var eS=Object.prototype,nS=eS.hasOwnProperty;function iS(t){if(!Kc(t))return tS(t);var r=T0(t),l=[];for(var p in t)p=="constructor"&&(r||!nS.call(t,p))||l.push(p);return l}function k0(t){return o7(t)?a7(t,!0):iS(t)}function rS(t,r){return t&&yp(r,k0(r),t)}var l7=typeof pr=="object"&&pr&&!pr.nodeType&&pr,j1=l7&&typeof gr=="object"&&gr&&!gr.nodeType&&gr,aS=j1&&j1.exports===l7,$1=aS?na.Buffer:void 0,G1=$1?$1.allocUnsafe:void 0;function oS(t,r){if(r)return t.slice();var l=t.length,p=G1?G1(l):new t.constructor(l);return t.copy(p),p}function s7(t,r){var l=-1,p=t.length;for(r||(r=Array(p));++l<p;)r[l]=t[l];return r}function lS(t,r){for(var l=-1,p=t==null?0:t.length,_=0,v=[];++l<p;){var T=t[l];r(T,l,t)&&(v[_++]=T)}return v}function u7(){return[]}var sS=Object.prototype,uS=sS.propertyIsEnumerable,q1=Object.getOwnPropertySymbols,cS=q1?function(t){return t==null?[]:(t=Object(t),lS(q1(t),function(r){return uS.call(t,r)}))}:u7,C0=cS;function dS(t,r){return yp(t,C0(t),r)}function c7(t,r){for(var l=-1,p=r.length,_=t.length;++l<p;)t[_+l]=r[l];return t}var hS=Object.getOwnPropertySymbols,pS=hS?function(t){for(var r=[];t;)c7(r,C0(t)),t=S0(t);return r}:u7,d7=pS;function gS(t,r){return yp(t,d7(t),r)}function h7(t,r,l){var p=r(t);return Yc(t)?p:c7(p,l(t))}function fS(t){return h7(t,A0,C0)}function mS(t){return h7(t,k0,d7)}var yS=bl(na,"DataView"),hf=yS,_S=bl(na,"Promise"),pf=_S,vS=bl(na,"Set"),gf=vS,xS=bl(na,"WeakMap"),ff=xS,Z1="[object Map]",wS="[object Object]",W1="[object Promise]",H1="[object Set]",X1="[object WeakMap]",K1="[object DataView]",bS=wl(hf),SS=wl(Nc),ES=wl(pf),TS=wl(gf),AS=wl(ff),el=vl;(hf&&el(new hf(new ArrayBuffer(1)))!=K1||Nc&&el(new Nc)!=Z1||pf&&el(pf.resolve())!=W1||gf&&el(new gf)!=H1||ff&&el(new ff)!=X1)&&(el=function(t){var r=vl(t),l=r==wS?t.constructor:void 0,p=l?wl(l):"";if(p)switch(p){case bS:return K1;case SS:return Z1;case ES:return W1;case TS:return H1;case AS:return X1}return r});var I0=el,kS=Object.prototype,CS=kS.hasOwnProperty;function IS(t){var r=t.length,l=new t.constructor(r);return r&&typeof t[0]=="string"&&CS.call(t,"index")&&(l.index=t.index,l.input=t.input),l}var PS=na.Uint8Array,Y1=PS;function P0(t){var r=new t.constructor(t.byteLength);return new Y1(r).set(new Y1(t)),r}function MS(t,r){var l=r?P0(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.byteLength)}var zS=/\w*$/;function DS(t){var r=new t.constructor(t.source,zS.exec(t));return r.lastIndex=t.lastIndex,r}var J1=So?So.prototype:void 0,Q1=J1?J1.valueOf:void 0;function LS(t){return Q1?Object(Q1.call(t)):{}}function RS(t,r){var l=r?P0(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.length)}var FS="[object Boolean]",BS="[object Date]",OS="[object Map]",US="[object Number]",NS="[object RegExp]",VS="[object Set]",jS="[object String]",$S="[object Symbol]",GS="[object ArrayBuffer]",qS="[object DataView]",ZS="[object Float32Array]",WS="[object Float64Array]",HS="[object Int8Array]",XS="[object Int16Array]",KS="[object Int32Array]",YS="[object Uint8Array]",JS="[object Uint8ClampedArray]",QS="[object Uint16Array]",tE="[object Uint32Array]";function eE(t,r,l){var p=t.constructor;switch(r){case GS:return P0(t);case FS:case BS:return new p(+t);case qS:return MS(t,l);case ZS:case WS:case HS:case XS:case KS:case YS:case JS:case QS:case tE:return RS(t,l);case OS:return new p;case US:case jS:return new p(t);case NS:return DS(t);case VS:return new p;case $S:return LS(t)}}var t2=Object.create,nE=function(){function t(){}return function(r){if(!Kc(r))return{};if(t2)return t2(r);t.prototype=r;var l=new t;return t.prototype=void 0,l}}(),iE=nE;function rE(t){return typeof t.constructor=="function"&&!T0(t)?iE(S0(t)):{}}var aE="[object Map]";function oE(t){return xl(t)&&I0(t)==aE}var e2=Fs&&Fs.isMap,lE=e2?E0(e2):oE,sE=lE,uE="[object Set]";function cE(t){return xl(t)&&I0(t)==uE}var n2=Fs&&Fs.isSet,dE=n2?E0(n2):cE,hE=dE,pE=1,gE=2,fE=4,p7="[object Arguments]",mE="[object Array]",yE="[object Boolean]",_E="[object Date]",vE="[object Error]",g7="[object Function]",xE="[object GeneratorFunction]",wE="[object Map]",bE="[object Number]",f7="[object Object]",SE="[object RegExp]",EE="[object Set]",TE="[object String]",AE="[object Symbol]",kE="[object WeakMap]",CE="[object ArrayBuffer]",IE="[object DataView]",PE="[object Float32Array]",ME="[object Float64Array]",zE="[object Int8Array]",DE="[object Int16Array]",LE="[object Int32Array]",RE="[object Uint8Array]",FE="[object Uint8ClampedArray]",BE="[object Uint16Array]",OE="[object Uint32Array]",vn={};vn[p7]=vn[mE]=vn[CE]=vn[IE]=vn[yE]=vn[_E]=vn[PE]=vn[ME]=vn[zE]=vn[DE]=vn[LE]=vn[wE]=vn[bE]=vn[f7]=vn[SE]=vn[EE]=vn[TE]=vn[AE]=vn[RE]=vn[FE]=vn[BE]=vn[OE]=!0;vn[vE]=vn[g7]=vn[kE]=!1;function Th(t,r,l,p,_,v){var T,u=r&pE,F=r&gE,Z=r&fE;if(l&&(T=_?l(t,p,_,v):l(t)),T!==void 0)return T;if(!Kc(t))return t;var yt=Yc(t);if(yt){if(T=IS(t),!u)return s7(t,T)}else{var gt=I0(t),V=gt==g7||gt==xE;if(n7(t))return oS(t,u);if(gt==f7||gt==p7||V&&!_){if(T=F||V?{}:rE(t),!u)return F?gS(t,rS(T,t)):dS(t,Qb(T,t))}else{if(!vn[gt])return _?t:{};T=eE(t,gt,u)}}v||(v=new qs);var Pt=v.get(t);if(Pt)return Pt;v.set(t,T),hE(t)?t.forEach(function(J){T.add(Th(J,r,l,J,t,v))}):sE(t)&&t.forEach(function(J,H){T.set(H,Th(J,r,l,H,t,v))});var It=Z?F?mS:fS:F?k0:A0,Lt=yt?void 0:It(t);return Yw(Lt||t,function(J,H){Lt&&(H=J,J=t[H]),Qy(T,H,Th(J,r,l,H,t,v))}),T}var UE=4;function i2(t){return Th(t,UE)}function m7(t,r){for(var l=-1,p=t==null?0:t.length,_=Array(p);++l<p;)_[l]=r(t[l],l,t);return _}var NE="[object Symbol]";function M0(t){return typeof t=="symbol"||xl(t)&&vl(t)==NE}var VE="Expected a function";function z0(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new TypeError(VE);var l=function(){var p=arguments,_=r?r.apply(this,p):p[0],v=l.cache;if(v.has(_))return v.get(_);var T=t.apply(this,p);return l.cache=v.set(_,T)||v,T};return l.cache=new(z0.Cache||Ao),l}z0.Cache=Ao;var jE=500;function $E(t){var r=z0(t,function(p){return l.size===jE&&l.clear(),p}),l=r.cache;return r}var GE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qE=/\\(\\)?/g,ZE=$E(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(GE,function(l,p,_,v){r.push(_?v.replace(qE,"$1"):p||l)}),r}),WE=ZE,HE=1/0;function XE(t){if(typeof t=="string"||M0(t))return t;var r=t+"";return r=="0"&&1/t==-HE?"-0":r}var KE=1/0,r2=So?So.prototype:void 0,a2=r2?r2.toString:void 0;function y7(t){if(typeof t=="string")return t;if(Yc(t))return m7(t,y7)+"";if(M0(t))return a2?a2.call(t):"";var r=t+"";return r=="0"&&1/t==-KE?"-0":r}function YE(t){return t==null?"":y7(t)}function _7(t){return Yc(t)?m7(t,XE):M0(t)?[t]:s7(WE(YE(t)))}var JE=!0;function QE(t,r){if(!JE){if(t)return;var l="Warning: "+r;typeof console!="undefined"&&console.warn(l);try{throw Error(l)}catch{}}}var v7={exports:{}},sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=typeof Symbol=="function"&&Symbol.for,D0=di?Symbol.for("react.element"):60103,L0=di?Symbol.for("react.portal"):60106,_p=di?Symbol.for("react.fragment"):60107,vp=di?Symbol.for("react.strict_mode"):60108,xp=di?Symbol.for("react.profiler"):60114,wp=di?Symbol.for("react.provider"):60109,bp=di?Symbol.for("react.context"):60110,R0=di?Symbol.for("react.async_mode"):60111,Sp=di?Symbol.for("react.concurrent_mode"):60111,Ep=di?Symbol.for("react.forward_ref"):60112,Tp=di?Symbol.for("react.suspense"):60113,tT=di?Symbol.for("react.suspense_list"):60120,Ap=di?Symbol.for("react.memo"):60115,kp=di?Symbol.for("react.lazy"):60116,eT=di?Symbol.for("react.block"):60121,nT=di?Symbol.for("react.fundamental"):60117,iT=di?Symbol.for("react.responder"):60118,rT=di?Symbol.for("react.scope"):60119;function yr(t){if(typeof t=="object"&&t!==null){var r=t.$$typeof;switch(r){case D0:switch(t=t.type,t){case R0:case Sp:case _p:case xp:case vp:case Tp:return t;default:switch(t=t&&t.$$typeof,t){case bp:case Ep:case kp:case Ap:case wp:return t;default:return r}}case L0:return r}}}function x7(t){return yr(t)===Sp}sn.AsyncMode=R0;sn.ConcurrentMode=Sp;sn.ContextConsumer=bp;sn.ContextProvider=wp;sn.Element=D0;sn.ForwardRef=Ep;sn.Fragment=_p;sn.Lazy=kp;sn.Memo=Ap;sn.Portal=L0;sn.Profiler=xp;sn.StrictMode=vp;sn.Suspense=Tp;sn.isAsyncMode=function(t){return x7(t)||yr(t)===R0};sn.isConcurrentMode=x7;sn.isContextConsumer=function(t){return yr(t)===bp};sn.isContextProvider=function(t){return yr(t)===wp};sn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D0};sn.isForwardRef=function(t){return yr(t)===Ep};sn.isFragment=function(t){return yr(t)===_p};sn.isLazy=function(t){return yr(t)===kp};sn.isMemo=function(t){return yr(t)===Ap};sn.isPortal=function(t){return yr(t)===L0};sn.isProfiler=function(t){return yr(t)===xp};sn.isStrictMode=function(t){return yr(t)===vp};sn.isSuspense=function(t){return yr(t)===Tp};sn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_p||t===Sp||t===xp||t===vp||t===Tp||t===tT||typeof t=="object"&&t!==null&&(t.$$typeof===kp||t.$$typeof===Ap||t.$$typeof===wp||t.$$typeof===bp||t.$$typeof===Ep||t.$$typeof===nT||t.$$typeof===iT||t.$$typeof===rT||t.$$typeof===eT)};sn.typeOf=yr;v7.exports=sn;var w7=v7.exports,aT={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b7={};b7[w7.ForwardRef]=aT;b7[w7.Memo]=oT;function vi(){return vi=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(t[p]=l[p])}return t},vi.apply(this,arguments)}function S7(t,r){if(t==null)return{};var l={},p=Object.keys(t),_,v;for(v=0;v<p.length;v++)_=p[v],!(r.indexOf(_)>=0)&&(l[_]=t[_]);return l}var $r=function(r){return typeof r=="function"},Cp=function(r){return r!==null&&typeof r=="object"},lT=function(r){return String(Math.floor(Number(r)))===r},g4=function(r){return Object.prototype.toString.call(r)==="[object String]"},f4=function(r){return Cp(r)&&$r(r.then)};function kr(t,r,l,p){p===void 0&&(p=0);for(var _=_7(r);t&&p<_.length;)t=t[_[p++]];return t===void 0?l:t}function cl(t,r,l){for(var p=i2(t),_=p,v=0,T=_7(r);v<T.length-1;v++){var u=T[v],F=kr(t,T.slice(0,v+1));if(F&&(Cp(F)||Array.isArray(F)))_=_[u]=i2(F);else{var Z=T[v+1];_=_[u]=lT(Z)&&Number(Z)>=0?[]:{}}}return(v===0?t:_)[T[v]]===l?t:(l===void 0?delete _[T[v]]:_[T[v]]=l,v===0&&l===void 0&&delete p[T[v]],p)}function E7(t,r,l,p){l===void 0&&(l=new WeakMap),p===void 0&&(p={});for(var _=0,v=Object.keys(t);_<v.length;_++){var T=v[_],u=t[T];Cp(u)?l.get(u)||(l.set(u,!0),p[T]=Array.isArray(u)?[]:{},E7(u,r,l,p[T])):p[T]=r}return p}var Ip=vt.exports.createContext(void 0);Ip.displayName="FormikContext";Ip.Provider;Ip.Consumer;function sT(){var t=vt.exports.useContext(Ip);return t||QE(!1),t}function uT(t,r){switch(r.type){case"SET_VALUES":return vi({},t,{values:r.payload});case"SET_TOUCHED":return vi({},t,{touched:r.payload});case"SET_ERRORS":return tl(t.errors,r.payload)?t:vi({},t,{errors:r.payload});case"SET_STATUS":return vi({},t,{status:r.payload});case"SET_ISSUBMITTING":return vi({},t,{isSubmitting:r.payload});case"SET_ISVALIDATING":return vi({},t,{isValidating:r.payload});case"SET_FIELD_VALUE":return vi({},t,{values:cl(t.values,r.payload.field,r.payload.value)});case"SET_FIELD_TOUCHED":return vi({},t,{touched:cl(t.touched,r.payload.field,r.payload.value)});case"SET_FIELD_ERROR":return vi({},t,{errors:cl(t.errors,r.payload.field,r.payload.value)});case"RESET_FORM":return vi({},t,r.payload);case"SET_FORMIK_STATE":return r.payload(t);case"SUBMIT_ATTEMPT":return vi({},t,{touched:E7(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return vi({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return vi({},t,{isSubmitting:!1});default:return t}}var Yo={},ph={};function cT(t){var r=t.validateOnChange,l=r===void 0?!0:r,p=t.validateOnBlur,_=p===void 0?!0:p,v=t.validateOnMount,T=v===void 0?!1:v,u=t.isInitialValid,F=t.enableReinitialize,Z=F===void 0?!1:F,yt=t.onSubmit,gt=S7(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),V=vi({validateOnChange:l,validateOnBlur:_,validateOnMount:T,onSubmit:yt},gt),Pt=vt.exports.useRef(V.initialValues),It=vt.exports.useRef(V.initialErrors||Yo),Lt=vt.exports.useRef(V.initialTouched||ph),J=vt.exports.useRef(V.initialStatus),H=vt.exports.useRef(!1),nt=vt.exports.useRef({});vt.exports.useEffect(function(){return H.current=!0,function(){H.current=!1}},[]);var ut=vt.exports.useReducer(uT,{values:V.initialValues,errors:V.initialErrors||Yo,touched:V.initialTouched||ph,status:V.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),at=ut[0],bt=ut[1],kt=vt.exports.useCallback(function(dt,Kt){return new Promise(function(oe,Dt){var ye=V.validate(dt,Kt);ye==null?oe(Yo):f4(ye)?ye.then(function(Ie){oe(Ie||Yo)},function(Ie){Dt(Ie)}):oe(ye)})},[V.validate]),qt=vt.exports.useCallback(function(dt,Kt){var oe=V.validationSchema,Dt=$r(oe)?oe(Kt):oe,ye=Kt&&Dt.validateAt?Dt.validateAt(Kt,dt):hT(dt,Dt);return new Promise(function(Ie,nn){ye.then(function(){Ie(Yo)},function(xe){xe.name==="ValidationError"?Ie(dT(xe)):nn(xe)})})},[V.validationSchema]),Vt=vt.exports.useCallback(function(dt,Kt){return new Promise(function(oe){return oe(nt.current[dt].validate(Kt))})},[]),jt=vt.exports.useCallback(function(dt){var Kt=Object.keys(nt.current).filter(function(Dt){return $r(nt.current[Dt].validate)}),oe=Kt.length>0?Kt.map(function(Dt){return Vt(Dt,kr(dt,Dt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(oe).then(function(Dt){return Dt.reduce(function(ye,Ie,nn){return Ie==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ie&&(ye=cl(ye,Kt[nn],Ie)),ye},{})})},[Vt]),$e=vt.exports.useCallback(function(dt){return Promise.all([jt(dt),V.validationSchema?qt(dt):{},V.validate?kt(dt):{}]).then(function(Kt){var oe=Kt[0],Dt=Kt[1],ye=Kt[2],Ie=df.all([oe,Dt,ye],{arrayMerge:pT});return Ie})},[V.validate,V.validationSchema,jt,kt,qt]),tn=Ar(function(dt){return dt===void 0&&(dt=at.values),bt({type:"SET_ISVALIDATING",payload:!0}),$e(dt).then(function(Kt){return H.current&&(bt({type:"SET_ISVALIDATING",payload:!1}),bt({type:"SET_ERRORS",payload:Kt})),Kt})});vt.exports.useEffect(function(){T&&H.current===!0&&tl(Pt.current,V.initialValues)&&tn(Pt.current)},[T,tn]);var qe=vt.exports.useCallback(function(dt){var Kt=dt&&dt.values?dt.values:Pt.current,oe=dt&&dt.errors?dt.errors:It.current?It.current:V.initialErrors||{},Dt=dt&&dt.touched?dt.touched:Lt.current?Lt.current:V.initialTouched||{},ye=dt&&dt.status?dt.status:J.current?J.current:V.initialStatus;Pt.current=Kt,It.current=oe,Lt.current=Dt,J.current=ye;var Ie=function(){bt({type:"RESET_FORM",payload:{isSubmitting:!!dt&&!!dt.isSubmitting,errors:oe,touched:Dt,status:ye,values:Kt,isValidating:!!dt&&!!dt.isValidating,submitCount:!!dt&&!!dt.submitCount&&typeof dt.submitCount=="number"?dt.submitCount:0}})};if(V.onReset){var nn=V.onReset(at.values,hi);f4(nn)?nn.then(Ie):Ie()}else Ie()},[V.initialErrors,V.initialStatus,V.initialTouched]);vt.exports.useEffect(function(){H.current===!0&&!tl(Pt.current,V.initialValues)&&(Z&&(Pt.current=V.initialValues,qe()),T&&tn(Pt.current))},[Z,V.initialValues,qe,T,tn]),vt.exports.useEffect(function(){Z&&H.current===!0&&!tl(It.current,V.initialErrors)&&(It.current=V.initialErrors||Yo,bt({type:"SET_ERRORS",payload:V.initialErrors||Yo}))},[Z,V.initialErrors]),vt.exports.useEffect(function(){Z&&H.current===!0&&!tl(Lt.current,V.initialTouched)&&(Lt.current=V.initialTouched||ph,bt({type:"SET_TOUCHED",payload:V.initialTouched||ph}))},[Z,V.initialTouched]),vt.exports.useEffect(function(){Z&&H.current===!0&&!tl(J.current,V.initialStatus)&&(J.current=V.initialStatus,bt({type:"SET_STATUS",payload:V.initialStatus}))},[Z,V.initialStatus,V.initialTouched]);var Ye=Ar(function(dt){if(nt.current[dt]&&$r(nt.current[dt].validate)){var Kt=kr(at.values,dt),oe=nt.current[dt].validate(Kt);return f4(oe)?(bt({type:"SET_ISVALIDATING",payload:!0}),oe.then(function(Dt){return Dt}).then(function(Dt){bt({type:"SET_FIELD_ERROR",payload:{field:dt,value:Dt}}),bt({type:"SET_ISVALIDATING",payload:!1})})):(bt({type:"SET_FIELD_ERROR",payload:{field:dt,value:oe}}),Promise.resolve(oe))}else if(V.validationSchema)return bt({type:"SET_ISVALIDATING",payload:!0}),qt(at.values,dt).then(function(Dt){return Dt}).then(function(Dt){bt({type:"SET_FIELD_ERROR",payload:{field:dt,value:Dt[dt]}}),bt({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),wn=vt.exports.useCallback(function(dt,Kt){var oe=Kt.validate;nt.current[dt]={validate:oe}},[]),Ne=vt.exports.useCallback(function(dt){delete nt.current[dt]},[]),ae=Ar(function(dt,Kt){bt({type:"SET_TOUCHED",payload:dt});var oe=Kt===void 0?_:Kt;return oe?tn(at.values):Promise.resolve()}),Rn=vt.exports.useCallback(function(dt){bt({type:"SET_ERRORS",payload:dt})},[]),bn=Ar(function(dt,Kt){var oe=$r(dt)?dt(at.values):dt;bt({type:"SET_VALUES",payload:oe});var Dt=Kt===void 0?l:Kt;return Dt?tn(oe):Promise.resolve()}),Sn=vt.exports.useCallback(function(dt,Kt){bt({type:"SET_FIELD_ERROR",payload:{field:dt,value:Kt}})},[]),ln=Ar(function(dt,Kt,oe){bt({type:"SET_FIELD_VALUE",payload:{field:dt,value:Kt}});var Dt=oe===void 0?l:oe;return Dt?tn(cl(at.values,dt,Kt)):Promise.resolve()}),Ft=vt.exports.useCallback(function(dt,Kt){var oe=Kt,Dt=dt,ye;if(!g4(dt)){dt.persist&&dt.persist();var Ie=dt.target?dt.target:dt.currentTarget,nn=Ie.type,xe=Ie.name,pt=Ie.id,Ot=Ie.value,Rr=Ie.checked,_r=Ie.outerHTML,He=Ie.options,Ti=Ie.multiple;oe=Kt||xe||pt,Dt=/number|range/.test(nn)?(ye=parseFloat(Ot),isNaN(ye)?"":ye):/checkbox/.test(nn)?fT(kr(at.values,oe),Rr,Ot):He&&Ti?gT(He):Ot}oe&&ln(oe,Dt)},[ln,at.values]),re=Ar(function(dt){if(g4(dt))return function(Kt){return Ft(Kt,dt)};Ft(dt)}),ce=Ar(function(dt,Kt,oe){Kt===void 0&&(Kt=!0),bt({type:"SET_FIELD_TOUCHED",payload:{field:dt,value:Kt}});var Dt=oe===void 0?_:oe;return Dt?tn(at.values):Promise.resolve()}),Ce=vt.exports.useCallback(function(dt,Kt){dt.persist&&dt.persist();var oe=dt.target,Dt=oe.name,ye=oe.id,Ie=oe.outerHTML,nn=Kt||Dt||ye;ce(nn,!0)},[ce]),Be=Ar(function(dt){if(g4(dt))return function(Kt){return Ce(Kt,dt)};Ce(dt)}),en=vt.exports.useCallback(function(dt){$r(dt)?bt({type:"SET_FORMIK_STATE",payload:dt}):bt({type:"SET_FORMIK_STATE",payload:function(){return dt}})},[]),un=vt.exports.useCallback(function(dt){bt({type:"SET_STATUS",payload:dt})},[]),En=vt.exports.useCallback(function(dt){bt({type:"SET_ISSUBMITTING",payload:dt})},[]),Tn=Ar(function(){return bt({type:"SUBMIT_ATTEMPT"}),tn().then(function(dt){var Kt=dt instanceof Error,oe=!Kt&&Object.keys(dt).length===0;if(oe){var Dt;try{if(Dt=Ei(),Dt===void 0)return}catch(ye){throw ye}return Promise.resolve(Dt).then(function(ye){return H.current&&bt({type:"SUBMIT_SUCCESS"}),ye}).catch(function(ye){if(H.current)throw bt({type:"SUBMIT_FAILURE"}),ye})}else if(H.current&&(bt({type:"SUBMIT_FAILURE"}),Kt))throw dt})}),rr=Ar(function(dt){dt&&dt.preventDefault&&$r(dt.preventDefault)&&dt.preventDefault(),dt&&dt.stopPropagation&&$r(dt.stopPropagation)&&dt.stopPropagation(),Tn().catch(function(Kt){console.warn("Warning: An unhandled error was caught from submitForm()",Kt)})}),hi={resetForm:qe,validateForm:tn,validateField:Ye,setErrors:Rn,setFieldError:Sn,setFieldTouched:ce,setFieldValue:ln,setStatus:un,setSubmitting:En,setTouched:ae,setValues:bn,setFormikState:en,submitForm:Tn},Ei=Ar(function(){return yt(at.values,hi)}),me=Ar(function(dt){dt&&dt.preventDefault&&$r(dt.preventDefault)&&dt.preventDefault(),dt&&dt.stopPropagation&&$r(dt.stopPropagation)&&dt.stopPropagation(),qe()}),Wi=vt.exports.useCallback(function(dt){return{value:kr(at.values,dt),error:kr(at.errors,dt),touched:!!kr(at.touched,dt),initialValue:kr(Pt.current,dt),initialTouched:!!kr(Lt.current,dt),initialError:kr(It.current,dt)}},[at.errors,at.touched,at.values]),Lr=vt.exports.useCallback(function(dt){return{setValue:function(oe,Dt){return ln(dt,oe,Dt)},setTouched:function(oe,Dt){return ce(dt,oe,Dt)},setError:function(oe){return Sn(dt,oe)}}},[ln,ce,Sn]),Hi=vt.exports.useCallback(function(dt){var Kt=Cp(dt),oe=Kt?dt.name:dt,Dt=kr(at.values,oe),ye={name:oe,value:Dt,onChange:re,onBlur:Be};if(Kt){var Ie=dt.type,nn=dt.value,xe=dt.as,pt=dt.multiple;Ie==="checkbox"?nn===void 0?ye.checked=!!Dt:(ye.checked=!!(Array.isArray(Dt)&&~Dt.indexOf(nn)),ye.value=nn):Ie==="radio"?(ye.checked=Dt===nn,ye.value=nn):xe==="select"&&pt&&(ye.value=ye.value||[],ye.multiple=!0)}return ye},[Be,re,at.values]),ri=vt.exports.useMemo(function(){return!tl(Pt.current,at.values)},[Pt.current,at.values]),Zr=vt.exports.useMemo(function(){return typeof u!="undefined"?ri?at.errors&&Object.keys(at.errors).length===0:u!==!1&&$r(u)?u(V):u:at.errors&&Object.keys(at.errors).length===0},[u,ri,at.errors,V]),Ri=vi({},at,{initialValues:Pt.current,initialErrors:It.current,initialTouched:Lt.current,initialStatus:J.current,handleBlur:Be,handleChange:re,handleReset:me,handleSubmit:rr,resetForm:qe,setErrors:Rn,setFormikState:en,setFieldTouched:ce,setFieldValue:ln,setFieldError:Sn,setStatus:un,setSubmitting:En,setTouched:ae,setValues:bn,submitForm:Tn,validateForm:tn,validateField:Ye,isValid:Zr,dirty:ri,unregisterField:Ne,registerField:wn,getFieldProps:Hi,getFieldMeta:Wi,getFieldHelpers:Lr,validateOnBlur:_,validateOnChange:l,validateOnMount:T});return Ri}function dT(t){var r={};if(t.inner){if(t.inner.length===0)return cl(r,t.path,t.message);for(var _=t.inner,l=Array.isArray(_),p=0,_=l?_:_[Symbol.iterator]();;){var v;if(l){if(p>=_.length)break;v=_[p++]}else{if(p=_.next(),p.done)break;v=p.value}var T=v;kr(r,T.path)||(r=cl(r,T.path,T.message))}}return r}function hT(t,r,l,p){l===void 0&&(l=!1),p===void 0&&(p={});var _=mf(t);return r[l?"validateSync":"validate"](_,{abortEarly:!1,context:p})}function mf(t){var r=Array.isArray(t)?[]:{};for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var p=String(l);Array.isArray(t[p])===!0?r[p]=t[p].map(function(_){return Array.isArray(_)===!0||R1(_)?mf(_):_!==""?_:void 0}):R1(t[p])?r[p]=mf(t[p]):r[p]=t[p]!==""?t[p]:void 0}return r}function pT(t,r,l){var p=t.slice();return r.forEach(function(v,T){if(typeof p[T]=="undefined"){var u=l.clone!==!1,F=u&&l.isMergeableObject(v);p[T]=F?df(Array.isArray(v)?[]:{},v,l):v}else l.isMergeableObject(v)?p[T]=df(t[T],v,l):t.indexOf(v)===-1&&p.push(v)}),p}function gT(t){return Array.from(t).filter(function(r){return r.selected}).map(function(r){return r.value})}function fT(t,r,l){if(typeof t=="boolean")return Boolean(r);var p=[],_=!1,v=-1;if(Array.isArray(t))p=t,v=t.indexOf(l),_=v>=0;else if(!l||l=="true"||l=="false")return Boolean(r);return r&&l&&!_?p.concat(l):_?p.slice(0,v).concat(p.slice(v+1)):p}var mT=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?vt.exports.useLayoutEffect:vt.exports.useEffect;function Ar(t){var r=vt.exports.useRef(t);return mT(function(){r.current=t}),vt.exports.useCallback(function(){for(var l=arguments.length,p=new Array(l),_=0;_<l;_++)p[_]=arguments[_];return r.current.apply(void 0,p)},[])}var yT=vt.exports.forwardRef(function(t,r){var l=t.action,p=S7(t,["action"]),_=l!=null?l:"#",v=sT(),T=v.handleReset,u=v.handleSubmit;return vt.exports.createElement("form",Object.assign({onSubmit:u,ref:r,onReset:T,action:_},p))});yT.displayName="Form";var T7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o2=Ae.createContext&&Ae.createContext(T7),yo=globalThis&&globalThis.__assign||function(){return yo=Object.assign||function(t){for(var r,l=1,p=arguments.length;l<p;l++){r=arguments[l];for(var _ in r)Object.prototype.hasOwnProperty.call(r,_)&&(t[_]=r[_])}return t},yo.apply(this,arguments)},_T=globalThis&&globalThis.__rest||function(t,r){var l={};for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&r.indexOf(p)<0&&(l[p]=t[p]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,p=Object.getOwnPropertySymbols(t);_<p.length;_++)r.indexOf(p[_])<0&&Object.prototype.propertyIsEnumerable.call(t,p[_])&&(l[p[_]]=t[p[_]]);return l};function A7(t){return t&&t.map(function(r,l){return Ae.createElement(r.tag,yo({key:l},r.attr),A7(r.child))})}function F0(t){return function(r){return Ae.createElement(vT,yo({attr:yo({},t.attr)},r),A7(t.child))}}function vT(t){var r=function(l){var p=t.attr,_=t.size,v=t.title,T=_T(t,["attr","size","title"]),u=_||l.size||"1em",F;return l.className&&(F=l.className),t.className&&(F=(F?F+" ":"")+t.className),Ae.createElement("svg",yo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,p,T,{className:F,style:yo(yo({color:t.color||l.color},l.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),v&&Ae.createElement("title",null,v),t.children)};return o2!==void 0?Ae.createElement(o2.Consumer,null,function(l){return r(l)}):r(T7)}function xT(t){return F0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"}}]})(t)}function wT(t){return F0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(t)}function bT(t){return F0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)}const ST=[{value:"100",text:"\u0411\u0443\u0434\u044C-\u043A\u043E\u0433\u043E"},{value:"200",text:"\u0421\u0456\u043C\u2019\u0457 \u0437 \u0434\u0456\u0442\u044C\u043C\u0438 (\u0447\u043E\u043B\u043E\u0432\u0456\u043A, \u0434\u0440\u0443\u0436\u0438\u043D\u0430, \u0434\u0456\u0442\u0438)"},{value:"300",text:"\u0421\u0456\u043C\u2019\u0457 \u0431\u0435\u0437 \u0434\u0456\u0442\u0435\u0439 (\u043F\u043E\u0434\u0440\u0443\u0436\u0436\u044F, \u043F\u0430\u0440\u0438)"},{value:"400",text:"\u0416\u0456\u043D\u043A\u0438"},{value:"500",text:"\u0414\u0456\u0442\u0438"},{value:"600",text:"\u041B\u044E\u0434\u0438 \u043F\u043E\u0445\u0438\u043B\u043E\u0433\u043E \u0432\u0456\u043A\u0443"},{value:"700",text:"\u0427\u043E\u043B\u043E\u0432\u0456\u043A\u0438"},{value:"800",text:"\u0422\u0432\u0430\u0440\u0438\u043D\u0438 (\u043A\u043E\u0442\u0438, \u0441\u043E\u0431\u0430\u043A\u0438)"}],l2={100:"\u041D\u0430 \u043E\u0434\u043D\u0443 \u043D\u0456\u0447",200:"\u041D\u0430 \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0434\u043D\u0456\u0432",300:"\u041D\u0430 \u043F\u0435\u0440\u0456\u043E\u0434 \u0432\u0456\u0439\u043D\u0438",400:"\u041D\u0430 \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D"},ET=({initialFilterValues:t={},onFilter:r})=>{const[l,p]=vt.exports.useState(!1),_=Object.keys(l2).map(It=>parseInt(It)).sort((It,Lt)=>Lt-It),{initialValues:v,values:T,handleChange:u,setFieldValue:F}=cT({initialValues:ze({place:"",persons:0,guestTypes:[],stayDuration:0},t)}),Z=()=>{p(!0)},yt=()=>{p(!1)},gt=()=>{r(T),yt()},V=()=>{T.place="",F("place",""),r(T)},Pt=It=>{It.code==="Enter"&&r(T)};return vt.exports.useEffect(()=>{if(!!r&&T!==v){if(window.matchMedia("(max-width: 768px)").matches)return;r(T)}},[T]),Ae.createElement(Ae.Fragment,null,Ae.createElement(d4.Header,{className:yn({[hr.hidden]:!l},hr.hostMapFilterHeader),closeButton:!0,onClick:yt},Ae.createElement(d4.Title,null,"\u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438")),Ae.createElement("div",{className:yn({[hr.opened]:l},hr.hostMapFilterContainer)},Ae.createElement(jr,{className:hr.hostMapFilter},Ae.createElement(jr.Group,{className:"mb-3"},Ae.createElement(jr.Label,null,"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u043E\u0441\u0456\u0431"),Ae.createElement(jr.Control,{name:"persons",type:"number",placeholder:"\u041D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434, 2",onChange:u,value:T.persons})),Ae.createElement(jr.Group,{className:"mb-3"},Ae.createElement(jr.Label,null,Ae.createElement("b",null,"\u041A\u043E\u0433\u043E \u043F\u0440\u0438\u0439\u043C\u0430\u044E\u0442\u044C")),ST.map(({value:It,text:Lt})=>{var H;const J=(H=T.guestTypes)==null?void 0:H.some(nt=>nt===It);return Ae.createElement(jr.Check,{type:"checkbox",name:"guestTypes",value:It,label:Lt,id:`map-filter-option-${It}`,key:`map-filter-option-${It}`,checked:J,onChange:u})})),Ae.createElement(jr.Group,{className:"mb-3"},Ae.createElement(jr.Label,null,Ae.createElement("b",null,"\u041D\u0430 \u044F\u043A\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D")),_.map(It=>Ae.createElement(jr.Check,{type:"radio",name:"stayDuration",value:It,label:l2[It],id:`map-filter-option-stayDuration-${It}`,key:`map-filter-option-stayDuration-${It}`,checked:It===T.stayDuration,onChange:()=>{F("stayDuration",It)}}))))),Ae.createElement(d4.Footer,{className:yn({[hr.hidden]:!l},hr.hostMapFilterFooter)},Ae.createElement(o4,{variant:"primary",className:"w-100",onClick:gt},"\u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438")),Ae.createElement(o4,{className:`rounded-pill ${hr.hostMapFilterClearSearchButton}`,variant:"outline-secondary",onClick:V},Ae.createElement(bT,null)),Ae.createElement(C1,{className:`position-absolute ${hr.hostMapFilterPlaceSearch}`},Ae.createElement(C1.Text,null,Ae.createElement(wT,null)),Ae.createElement(jr.Control,{name:"place",type:"text",placeholder:"\u0428\u0443\u043A\u0430\u0442\u0438 \u043D\u0430 \u043A\u0430\u0440\u0442\u0456",onKeyDown:Pt,onChange:u,value:T.place})),Ae.createElement(o4,{variant:"primary",className:`rounded-pill ${hr.hostMapFilterButton}`,onClick:Z},Ae.createElement(xT,null)," \u0424\u0456\u043B\u044C\u0442\u0440\u0443\u0432\u0430\u0442\u0438"))},TT={markerFont:"PT Sans Caption Bold",markerFontSize:16,markerSize:34,markerImages:{"bomb-1":"https://a.liveuamap.com/images/is14/bomb_red.png"}},AT=({data:t,onFilter:r,onMarkerClick:l})=>{let p;const _=vt.exports.useRef(),v=ze(ze({},TT),t.options),T=at=>v.markerImages[at.svimg],u=()=>{p.getCanvas().style.cursor="pointer"},F=()=>{p.getCanvas().style.cursor=""},Z=at=>at.filter(bt=>bt.lng&&bt.lat).map(bt=>({type:"Feature",properties:{id:bt.id},geometry:{type:"Point",coordinates:[bt.lng,bt.lat]}})),yt=at=>{let bt=p.queryRenderedFeatures(at.point,{layers:["clusters"]});bt!=null&&bt.length||(bt=p.queryRenderedFeatures(at.point,{layers:["unclustered-point"]}));const kt=bt[0];if(!kt)return;const qt=p.getSource(kt.source);kt.properties.point_count?qt.getClusterLeaves(kt.properties.cluster_id,kt.properties.point_count,0,(Vt,jt)=>{l(jt.map($e=>$e.properties.id),at)}):l([kt.properties.id],at)},gt=()=>{p.addSource("offers",{type:"geojson",data:{type:"FeatureCollection",features:Z(t.offers)},cluster:!0,clusterMaxZoom:14,clusterRadius:50}),p.addLayer({id:"clusters",type:"circle",source:"offers",filter:["has","point_count"],paint:{"circle-stroke-color":"white","circle-stroke-width":3,"circle-color":"black","circle-radius":v.markerSize/2}}),p.addLayer({id:"cluster-count",type:"symbol",source:"offers",filter:["has","point_count"],paint:{"text-color":"white"},layout:{"text-field":"{point_count_abbreviated}","text-font":[v.markerFont,"Arial Unicode MS Bold"],"text-size":v.markerFontSize}}),p.addLayer({id:"unclustered-point",type:"circle",source:"offers",filter:["!",["has","point_count"]],paint:{"circle-stroke-color":"white","circle-stroke-width":3,"circle-color":"black","circle-radius":v.markerSize/2}}),p.addLayer({id:"unclustered-count",type:"symbol",source:"offers",filter:["!",["has","point_count"]],paint:{"text-color":"white"},layout:{"text-field":"1","text-font":[v.markerFont,"Arial Unicode MS Bold"],"text-size":v.markerFontSize}}),p.on("mouseenter","clusters",u),p.on("mouseleave","clusters",F),p.on("mouseenter","unclustered-point",u),p.on("mouseleave","unclustered-point",F),p.on("click","clusters",yt),p.on("click","unclustered-point",yt)},V=()=>{t.livemap.venues.forEach(at=>{if(!at.points&&!(at.lat&&at.lng))return;const bt=T(at);if(!bt)return;(at.points||[[at.lat,at.lng]]).forEach(qt=>{const Vt=document.createElement("div"),jt=v.markerSize;Vt.className=`${hr.marker} ${at.svimg}`,Vt.setAttribute("title",at.name),Vt.style.backgroundImage=`url(${bt})`,Vt.style.width=`${jt}px`,Vt.style.height=`${jt}px`,Vt.style.backgroundSize="100%",new nf.exports.Marker(Vt).setLngLat({lat:qt[0],lng:qt[1]}).addTo(p)})})},Pt=at=>at.map(bt=>Array.isArray(bt)?bt.map(kt=>[kt.lng,kt.lat]):[bt.lng,bt.lat]),It=()=>{for(let at=0;at<t.livemap.fields.length;at++){const bt=t.livemap.fields[at];p.addSource(`route${at}`,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:Pt(bt.points)}}}),p.addLayer({id:`route${at}fill`,type:"fill",source:`route${at}`,paint:{"fill-color":bt.fillcolor||"transparent","fill-opacity":parseFloat(bt.fillopacity)||.5}}),p.addLayer({id:`route${at}line`,type:"line",source:`route${at}`,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":bt.strokecolor||"#FF0000","line-width":parseFloat(bt.strokeweight)||2,"line-opacity":parseFloat(bt.strokeopacity)||.8}})}},Lt=async()=>{const at=[];for(let bt in v.markerImages){const kt=new Promise(qt=>{p.loadImage(v.markerImages[bt],(Vt,jt)=>{if(Vt){console.error(Vt),qt();return}p.addImage(bt,jt),qt()})});at.push(kt)}return Promise.all(at)},J=async()=>{if(!!p){await Lt();try{It()}catch(at){console.error("Error during polygons setup: ",at)}try{V()}catch(at){console.error("Error during markers setup: ",at)}try{gt()}catch(at){console.error("Error during offers markers setup: ",at)}}},H=()=>{!(_!=null&&_.current)||(p=new nf.exports.Map({container:_.current,style:V6,attributionControl:!1}),p.on("load",J))},nt=()=>{p&&(p.off("load",J),p.off("mouseenter","clusters",u),p.off("mouseleave","clusters",F),p.off("mouseenter","unclustered-point",u),p.off("mouseleave","unclustered-point",F),p.off("click","clusters",yt),p.off("click","unclustered-point",yt))};vt.exports.useEffect(()=>(H(),()=>nt()),[]);const ut=at=>{r&&r(at)};return Ae.createElement("div",{className:hr.hostMapContainer},Ae.createElement(ET,{onFilter:ut,initialFilterValues:v.initialFilterValues}),Ae.createElement("div",{ref:_,className:hr.hostMap}))},kT=!0,CT="8726e0155fc5bdfb3f5fa6da58df938e",IT=0,PT=[{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(14:11). \u0414\u043E\u043D\u0435\u0447\u0447\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427134,cat_id:56,color_id:2,time:"12 \u0445\u0432\u0438\u043B\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650107580,source:"https://t.me/UkraineNow/9996",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"48.72782",lng:"37.57816",link:"https://liveuamap.com//uk/2022/16-april-donetsk-oblast1411-red-alert-aerial-g",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427134_app.jpg",location:"Donetsk Oblast",points:[["48.72744","37.5781"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(14:02). \u0421\u0443\u043C\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427130,cat_id:56,color_id:2,time:"22 \u0445\u0432\u0438\u043B\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650106980,source:"https://t.me/UkraineNow/9994",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"51.00069",lng:"34.00077",link:"https://liveuamap.com//uk/2022/16-april-sumska-oblast1402-red-alert-aerial-tg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427130_app.jpg",location:"Sumska Oblast",points:[["51.00000000","34.00000000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(13:48). \u041F\u043E\u043B\u0442\u0430\u0432\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427126,cat_id:56,color_id:2,time:"37 \u0445\u0432\u0438\u043B\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650106080,source:"https://t.me/UkraineNow/9992",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"49.47679",lng:"33.81874",link:"https://liveuamap.com//uk/2022/16-april-poltavska-oblast1348-red-alert-aeriag",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427126_app.jpg",location:"Poltavska Oblast",points:[["49.47705000","33.81866000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(13:42). \u041A\u0440\u0438\u0432\u0438\u0439 \u0420\u0456\u0433. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427124,cat_id:56,color_id:2,time:"42 \u0445\u0432\u0438\u043B\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650105780,source:"https://t.me/UkraineNow/9990",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"47.91078",lng:"33.37978",link:"https://liveuamap.com//uk/2022/16-april-kryvyi-rih1342-red-alert-aerial-threg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427124_app.jpg",location:"Kryvyi Rih",points:[["47.90966000","33.38044000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(13:40). \u0414\u043D\u0456\u043F\u0440\u043E, \u0414\u043D\u0456\u043F\u0440\u043E\u043F\u0435\u0442\u0440\u043E\u0432\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427123,cat_id:56,color_id:2,time:"43 \u0445\u0432\u0438\u043B\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650105720,source:"https://t.me/suspilnednipro/3627",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"48.45930000",lng:"35.03865000",link:"https://liveuamap.com//uk/2022/16-april-dnipro-dnipropetrovska-oblast1340-reg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427123_app.jpg",location:"Dnipro",points:[["48.45930000","35.03865000"],["48.10743","34.35974"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(13:29). \u0425\u0430\u0440\u043A\u0456\u0432, \u0425\u0430\u0440\u043A\u0456\u0432\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427119,cat_id:56,color_id:2,time:"55 \u0445\u0432\u0438\u043B\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650105e3,source:"https://t.me/UkraineNow/9988",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"49.97964",lng:"36.25224",link:"https://liveuamap.com//uk/2022/16-april-kharkiv-kharkivska-oblast1329-red-alg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427119_app.jpg",location:"Kharkiv",points:[["49.98081000","36.25272000"],["49.50000000","36.50000000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u0412\u043D\u0430\u0441\u043B\u0456\u0434\u043E\u043A \u0440\u0430\u043A\u0435\u0442\u043D\u043E\u0433\u043E \u0443\u0434\u0430\u0440\u0443 \u0420\u0424 \u043F\u043E \u041A\u0438\u0454\u0432\u0456 \u0441\u044C\u043E\u0433\u043E\u0434\u043D\u0456 \u0432\u0440\u0430\u043D\u0446\u0456 1 \u043B\u044E\u0434\u0438\u043D\u0430 \u0437\u0430\u0433\u0438\u043D\u0443\u043B\u0430, \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u043F\u043E\u0440\u0430\u043D\u0435\u043D\u043E",video:"",id:22427116,cat_id:27,color_id:1,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650104643,source:"https://t.me/kievreal1/19271",picpath:"https://a.liveuamap.com/images/is14/bomb_red.png",status_id:0,svimg:"bomb-1",resource:0,type_id:1,lat:"50.4106",lng:"30.68447",link:"https://liveuamap.com//uk/2022/16-april-1-killed-several-wounded-as-result-of-russian-missile",picture:"https://a.liveuamap.com/pics/2022/04/16/22427116_0.jpg",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"\u0414\u0430\u0440\u043D\u0438\u0446\u043A\u0438\u0439 \u0440\u0430\u0439\u043E\u043D, Kyiv, Ukraine",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427116_app.jpg",location:"Kyiv,Kyiv city",points:"",viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(13:16). \u0417\u0430\u043F\u043E\u0440\u0456\u0437\u044C\u043A\u0430 \u043E\u0431\u043B\u0430\u0441\u0442\u044C. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427109,cat_id:56,color_id:2,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650104220,source:"https://t.me/UkraineNow/9986",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"47.612551",lng:"35.765591",link:"https://liveuamap.com//uk/2022/16-april-zaporizka-oblast1316-red-alert-aeriag",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427109_app.jpg",location:"Zaporizka Oblast",points:[["47.612021","35.765261"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:18,name:"Russian T-72B3 at the port of Mariupol",video:"",id:22427106,cat_id:16,color_id:1,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650103952,source:"https://twitter.com/Osinttechnical/status/1515271628057317377",picpath:"https://a.liveuamap.com/images/is14/heavy_red.png",status_id:0,svimg:"heavy-1",resource:0,type_id:1,lat:"47.05586",lng:"37.50509",link:"https://liveuamap.com//uk/2022/16-april-russian-t72b3-at-the-port-of-mariupol",picture:"https://a.liveuamap.com/pics/2022/04/16/22427106_0.jpg",otherregions:'[{"name":"\\u0420\\u043e\\u0441\\u0456\\u044f","link":"https:\\/\\/russia.liveuamap.com","id":18},{"name":"Minsk Monitor","link":"https:\\/\\/minskmonitor.liveuamap.com","id":62}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427106_app.jpg",location:"Mariupol', Donetsk Oblast",points:"",viaSource:"Osinttechnical",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0448\u043A\u043E\u0434\u0436\u0435\u043D\u043D\u044F \u0432 \u041C\u0438\u043A\u043E\u043B\u0430\u0454\u0432\u0456 \u0432\u043D\u0430\u0441\u043B\u0456\u0434\u043E\u043A \u043E\u0431\u0441\u0442\u0440\u0456\u043B\u0443 \u0440\u043E\u0441\u0456\u0439\u0441\u044C\u043A\u043E\u0457 \u0430\u0440\u043C\u0456\u0457 \u0441\u044C\u043E\u0433\u043E\u0434\u043D\u0456",video:"",id:22427092,cat_id:27,color_id:1,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:["https://a.liveuamap.com/pics/2022/04/16/22427092_1.jpg","https://a.liveuamap.com/pics/2022/04/16/22427092_2.jpg","https://a.liveuamap.com/pics/2022/04/16/22427092_3.jpg","https://a.liveuamap.com/pics/2022/04/16/22427092_4.jpg","https://a.liveuamap.com/pics/2022/04/16/22427092_5.jpg","https://a.liveuamap.com/pics/2022/04/16/22427092_6.jpg","https://a.liveuamap.com/pics/2022/04/16/22427092_7.jpg"],timestamp:1650102737,source:"https://t.me/suspilnemykolaiv/7944",picpath:"https://a.liveuamap.com/images/is14/bomb_red.png",status_id:0,svimg:"bomb-1",resource:0,type_id:1,lat:"46.95706",lng:"32.01794",link:"https://liveuamap.com//uk/2022/16-april-damage-in-mykolaiv-as-result-of-russian-army-shelling",picture:"https://a.liveuamap.com/pics/2022/04/16/22427092_0.jpg",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427092_app.jpg",location:"Mykolaiv",points:"",viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u0423 \u041F\u043E\u043B\u0442\u0430\u0432\u0441\u044C\u043A\u0456\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0456 \u0432\u043D\u0430\u0441\u043B\u0456\u0434\u043E\u043A \u0440\u0430\u043A\u0435\u0442\u043D\u043E\u0433\u043E \u0443\u0434\u0430\u0440\u0443 \u0420\u0424 \u043F\u043E \u0444\u0435\u0440\u043C\u0456 \u0437\u0430\u0433\u0438\u043D\u0443\u0432 1 \u0447\u043E\u043B\u043E\u0432\u0456\u043A",video:"",id:22427089,cat_id:27,color_id:1,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:["https://a.liveuamap.com/pics/2022/04/16/22427089_1.jpg","https://a.liveuamap.com/pics/2022/04/16/22427089_2.jpg"],timestamp:1650102240,source:"https://t.me/suspilnepoltava/5606",picpath:"https://a.liveuamap.com/images/is14/bomb_red.png",status_id:0,svimg:"bomb-1",resource:0,type_id:1,lat:"49.19763",lng:"33.40153",link:"https://liveuamap.com//uk/2022/16-april-1-killed-as-result-of-russian-missile-strike-at",picture:"https://a.liveuamap.com/pics/2022/04/16/22427089_0.jpg",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"\u0412\u043E\u043B\u044C\u043D\u0430\u044F \u0422\u0435\u0440\u0435\u0448\u043A\u043E\u0432\u043A\u0430, Poltava Oblast, Ukraine",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427089_app.jpg",location:"Poltava",points:"",viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u0423 \u0425\u0430\u0440\u043A\u043E\u0432\u0456 \u043E\u0434\u043D\u0430 \u043B\u044E\u0434\u0438\u043D\u0430 \u0437\u0430\u0433\u0438\u043D\u0443\u043B\u0430, 18 \u043F\u043E\u0440\u0430\u043D\u0435\u043D\u043E \u0432\u043D\u0430\u0441\u043B\u0456\u0434\u043E\u043A \u043E\u0431\u0441\u0442\u0440\u0456\u043B\u0443 \u0440\u043E\u0441\u0456\u0439\u0441\u044C\u043A\u043E\u0457 \u0430\u0440\u043C\u0456\u0457 \u0441\u044C\u043E\u0433\u043E\u0434\u043D\u0456 \u0432\u0440\u0430\u043D\u0446\u0456",video:"",id:22427091,cat_id:27,color_id:1,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650102e3,source:"https://t.me/suspilnekharkiv/11305",picpath:"https://a.liveuamap.com/images/is14/bomb_red.png",status_id:0,svimg:"bomb-1",resource:0,type_id:1,lat:"50.0052",lng:"36.34243",link:"https://liveuamap.com//uk/2022/16-april-kharkiv-1-killed-18-wounded-as-result-of-russian",picture:"https://a.liveuamap.com/pics/2022/04/16/22427091_0.jpg",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"\u0425\u0430\u0440\u043A\u0456\u0432, Kharkiv Oblast, Ukraine",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427091_app.jpg",location:"Kharkiv,Kharkivs'ka oblast",points:"",viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(12:28). \u0414\u043E\u043D\u0435\u0447\u0447\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427087,cat_id:56,color_id:2,time:"1 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650101340,source:"https://t.me/UkraineNow/9983",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"48.72744",lng:"37.5781",link:"https://liveuamap.com//uk/2022/16-april-donetsk-oblast1228-red-alert-aerial-g",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427087_app.jpg",location:"Donetsk Oblast",points:[["48.72744","37.5781"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(12:04). \u041A\u0440\u0438\u0432\u0438\u0439 \u0420\u0456\u0433. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427086,cat_id:56,color_id:2,time:"2 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650100020,source:"https://t.me/UkraineNow/9982",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"47.90934",lng:"33.38015",link:"https://liveuamap.com//uk/2022/16-april-kryvyi-rih1204-red-alert-aerial-threg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427086_app.jpg",location:"Kryvyi Rih",points:[["47.90966000","33.38044000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(12:03). \u0414\u043D\u0456\u043F\u0440\u043E, \u0414\u043D\u0456\u043F\u0440\u043E\u043F\u0435\u0442\u0440\u043E\u0432\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427085,cat_id:56,color_id:2,time:"2 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650099840,source:"https://t.me/suspilnednipro/3624",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"48.45939",lng:"35.03823",link:"https://liveuamap.com//uk/2022/16-april-dnipro-dnipropetrovska-oblast1203-reg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427085_app.jpg",location:"Dnipro",points:[["48.45930000","35.03865000"],["48.10743","34.35974"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(11:34). \u0423\u043C\u0430\u043D\u044C. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427081,cat_id:56,color_id:2,time:"2 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650098160,source:"https://t.me/suspilnenews/9738",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"48.74838000",lng:"30.22184000",link:"https://liveuamap.com//uk/2022/16-april-uman1134-red-alert-aerial-threat-sirg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427081_app.jpg",location:"Uman",points:[["48.74838000","30.22184000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(11:32). \u0425\u0430\u0440\u043A\u0456\u0432, \u0425\u0430\u0440\u043A\u0456\u0432\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427080,cat_id:56,color_id:2,time:"2 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650097980,source:"https://t.me/UkraineNow/9977",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"49.98069",lng:"36.25379",link:"https://liveuamap.com//uk/2022/16-april-kharkiv-kharkivska-oblast1132-red-alg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427080_app.jpg",location:"Kharkiv",points:[["49.98081000","36.25272000"],["49.50000000","36.50000000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(11:31). \u041A\u043E\u043D\u043E\u0442\u043E\u043F, \u041D\u0456\u0436\u0438\u043D. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427079,cat_id:56,color_id:2,time:"2 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650097860,source:"https://t.me/UkraineNow/9976",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"51.24094",lng:"33.20505",link:"https://liveuamap.com//uk/2022/16-april-konotop-nizhyn1131-red-alert-aerial-g",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427079_app.jpg",location:"Konotop",points:[["51.24094","33.20505"],["51.04801000","31.88688000"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u0430 \u0442\u0440\u0438\u0432\u043E\u0433\u0430(11:26). \u041C\u0438\u043A\u043E\u043B\u0430\u0457\u0432, \u041C\u0438\u043A\u043E\u043B\u0430\u0457\u0432\u0449\u0438\u043D\u0430. \u0423\u0441\u0456\u043C \u043D\u0435\u0433\u0430\u0439\u043D\u043E \u0432 \u0443\u043A\u0440\u0438\u0442\u0442\u044F!",video:"",id:22427078,cat_id:56,color_id:2,time:"2 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650097680,source:"https://t.me/UkraineNow/9972",picpath:"https://a.liveuamap.com/images/is14/rescue_blue.png",status_id:0,svimg:"rescue-2",resource:0,type_id:1,lat:"46.9494",lng:"32.00637",link:"https://liveuamap.com//uk/2022/16-april-mykolaiv-mykolayivska-oblast1126-redg",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427078_app.jpg",location:"Mykolaiv",points:[["46.94866","32.00639"],["47.5617","31.34399"]],viaSource:"",runway:!1},{videocode:null,videotype:null,resid:10,name:"\u0423 \u041A\u0456\u0440\u043E\u0432\u043E\u0433\u0440\u0430\u0434\u0441\u044C\u043A\u0456\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0456 \u0454 \u0437\u0430\u0433\u0438\u0431\u043B\u0456 \u0442\u0430 \u043F\u043E\u0440\u0430\u043D\u0435\u043D\u0456 \u0432\u043D\u0430\u0441\u043B\u0456\u0434\u043E\u043A \u0440\u043E\u0441\u0456\u0439\u0441\u044C\u043A\u043E\u0433\u043E \u0440\u0430\u043A\u0435\u0442\u043D\u043E\u0433\u043E \u0443\u0434\u0430\u0440\u0443",video:"",id:22427076,cat_id:10,color_id:2,time:"3 \u0433\u043E\u0434\u0438\u043D \u0442\u043E\u043C\u0443",pics:[],timestamp:1650096218,source:"https://t.me/truexanewsua/41599",picpath:"https://a.liveuamap.com/images/is14/medicine_blue.png",status_id:0,svimg:"medicine-2",resource:0,type_id:1,lat:"48.67045",lng:"33.11648",link:"https://liveuamap.com//uk/2022/16-april-there-are-dead-and-wounded-as-result-of-russian",picture:"",otherregions:'[{"name":"\\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/europe.liveuamap.com","id":10},{"name":"\\u0426\\u0435\\u043d\\u0442\\u0440\\u0430\\u043b\\u044c\\u043d\\u0430 \\u0456 \\u0421\\u0445\\u0456\\u0434\\u043d\\u0430 \\u0404\\u0432\\u0440\\u043e\\u043f\\u0430","link":"https:\\/\\/cee.liveuamap.com","id":129}]',city:"",img_share:"https://a.liveuamap.com/pics/2022/04/16/22427076_app.jpg",location:"Oleksandria",points:"",viaSource:"",runway:!1}],MT=[{id:22425978,time:1649940990,name:"Russian occupation in Kharkiv region",ttl:3e8,resource:0,points:[[{lat:50.37029,lng:36.21704},{lat:50.35369,lng:36.18671},{lat:50.34315,lng:36.17491},{lat:50.33002,lng:36.16343},{lat:50.32412,lng:36.1569},{lat:50.31622,lng:36.14889},{lat:50.29165,lng:36.13064},{lat:50.26904,lng:36.15404},{lat:50.24937,lng:36.20583},{lat:50.23742,lng:36.22333},{lat:50.21157,lng:36.23066},{lat:50.1864,lng:36.23136},{lat:50.14509,lng:36.2455},{lat:50.12509,lng:36.25963},{lat:50.1277,lng:36.30621},{lat:50.14061,lng:36.31496},{lat:50.15607,lng:36.31279},{lat:50.17015,lng:36.32401},{lat:50.1716,lng:36.39244},{lat:50.14714,lng:36.40915},{lat:50.13437,lng:36.40297},{lat:50.1277,lng:36.41499},{lat:50.12953,lng:36.43501},{lat:50.11295,lng:36.45252},{lat:50.0946,lng:36.48262},{lat:50.06213,lng:36.51649},{lat:50.05089,lng:36.45607},{lat:50.01723,lng:36.43387},{lat:50.00325,lng:36.52382},{lat:49.98357,lng:36.53527},{lat:49.9813,lng:36.57957},{lat:49.97608,lng:36.627},{lat:49.96431,lng:36.65488},{lat:49.96263,lng:36.67168},{lat:49.98162,lng:36.75179},{lat:50.02509,lng:36.81496},{lat:50.06816,lng:36.84746},{lat:50.34663,lng:36.99738},{lat:50.35091,lng:36.94085},{lat:50.33513,lng:36.87493},{lat:50.31233,lng:36.84198},{lat:50.29829,lng:36.77056},{lat:50.27986,lng:36.74722},{lat:50.26405,lng:36.68954},{lat:50.23963,lng:36.6796},{lat:50.22154,lng:36.66386},{lat:50.21768,lng:36.64865},{lat:50.22163,lng:36.64271},{lat:50.22607,lng:36.62101},{lat:50.22442,lng:36.6111},{lat:50.23187,lng:36.59128},{lat:50.25087,lng:36.55998},{lat:50.2567,lng:36.57375},{lat:50.26414,lng:36.57896},{lat:50.2755,lng:36.57623},{lat:50.27767,lng:36.59276},{lat:50.28533,lng:36.58512},{lat:50.2842,lng:36.56348},{lat:50.28129,lng:36.55658},{lat:50.28337,lng:36.53985},{lat:50.28652,lng:36.52424},{lat:50.2938,lng:36.52404},{lat:50.30009,lng:36.49919},{lat:50.3105,lng:36.49326},{lat:50.31214,lng:36.48391},{lat:50.31306,lng:36.4641},{lat:50.31149,lng:36.43928},{lat:50.33002,lng:36.43289},{lat:50.32779,lng:36.42495},{lat:50.31752,lng:36.41515},{lat:50.30871,lng:36.40382},{lat:50.30021,lng:36.3743},{lat:50.29392,lng:36.37795},{lat:50.28735,lng:36.36579},{lat:50.29269,lng:36.29833},{lat:50.29918,lng:36.29763},{lat:50.29881,lng:36.28629},{lat:50.30611,lng:36.28511},{lat:50.31612,lng:36.27506},{lat:50.32251,lng:36.28071},{lat:50.32573,lng:36.27432},{lat:50.33614,lng:36.28253},{lat:50.3425,lng:36.27456},{lat:50.35431,lng:36.25855},{lat:50.35794,lng:36.24268},{lat:50.36597,lng:36.23154},{lat:50.37511,lng:36.22484}],[{lat:49.80236,lng:36.96491},{lat:49.85857,lng:36.98382},{lat:49.9135,lng:36.97004},{lat:49.95055,lng:36.90405},{lat:49.99339,lng:36.87945},{lat:50.02496,lng:36.81486},{lat:50.06908,lng:36.84963},{lat:50.17338,lng:36.90353},{lat:50.34546,lng:36.99692},{lat:50.34663,lng:37.10541},{lat:50.39685,lng:37.27753},{lat:50.43827,lng:37.32742},{lat:50.43622,lng:37.40524},{lat:50.46217,lng:37.48764},{lat:50.42981,lng:37.46109},{lat:50.36036,lng:37.48489},{lat:50.31244,lng:37.56958},{lat:50.31595,lng:37.63596},{lat:50.22593,lng:37.61696},{lat:50.1578,lng:37.66937},{lat:50.08153,lng:37.75086},{lat:50.078,lng:37.80167},{lat:50.06037,lng:37.87033},{lat:50.02774,lng:37.93625},{lat:49.98096,lng:37.96235},{lat:49.96153,lng:38.01865},{lat:49.91999,lng:38.02414},{lat:49.91469,lng:38.04337},{lat:49.93881,lng:38.11752},{lat:49.98124,lng:38.21503},{lat:50.02774,lng:38.1958},{lat:50.07766,lng:38.19351},{lat:50.0862,lng:38.3345},{lat:50.00775,lng:38.35968},{lat:49.97243,lng:38.4819},{lat:49.96918,lng:38.63846},{lat:49.99682,lng:38.69797},{lat:49.92942,lng:38.7117},{lat:49.88635,lng:38.80105},{lat:49.79593,lng:38.62156},{lat:49.72009,lng:38.41931},{lat:49.66943,lng:38.36975},{lat:49.61486,lng:38.31832},{lat:49.5638,lng:38.26926},{lat:49.42773,lng:38.22647},{lat:49.38087,lng:38.17268},{lat:49.38708,lng:38.14534},{lat:49.21596,lng:38.19034},{lat:49.14958,lng:38.17409},{lat:49.1092,lng:38.1699},{lat:49.12646,lng:38.03457},{lat:49.18977,lng:37.97543},{lat:49.2634,lng:37.99891},{lat:49.31091,lng:38.00829},{lat:49.40428,lng:37.92974},{lat:49.39426,lng:37.79997},{lat:49.37847,lng:37.66171},{lat:49.33133,lng:37.55578},{lat:49.30552,lng:37.58991},{lat:49.26602,lng:37.50239},{lat:49.2222,lng:37.53267},{lat:49.18797,lng:37.50592},{lat:49.16447,lng:37.41686},{lat:49.13876,lng:37.40774},{lat:49.113,lng:37.41948},{lat:49.09007,lng:37.47942},{lat:49.05875,lng:37.47135},{lat:49.05738,lng:37.45019},{lat:49.05378,lng:37.40825},{lat:49.04834,lng:37.3534},{lat:49.02907,lng:37.29983},{lat:49.03523,lng:37.26135},{lat:49.03591,lng:37.2339},{lat:49.03043,lng:37.22381},{lat:49.03215,lng:37.20729},{lat:49.04193,lng:37.18593},{lat:49.05814,lng:37.187},{lat:49.07685,lng:37.19661},{lat:49.10423,lng:37.17221},{lat:49.1111,lng:37.13152},{lat:49.10985,lng:37.08092},{lat:49.11538,lng:37.01843},{lat:49.11269,lng:36.94748},{lat:49.12739,lng:36.92253},{lat:49.17138,lng:36.91475},{lat:49.21939,lng:36.94588},{lat:49.27154,lng:36.92413},{lat:49.30536,lng:36.95654},{lat:49.32713,lng:36.94428},{lat:49.34004,lng:36.93159},{lat:49.34929,lng:36.91063},{lat:49.35644,lng:36.86829},{lat:49.37276,lng:36.81381},{lat:49.39728,lng:36.82297},{lat:49.42594,lng:36.85444},{lat:49.44274,lng:36.83442},{lat:49.45976,lng:36.83218},{lat:49.47474,lng:36.83923},{lat:49.48451,lng:36.83015},{lat:49.4979,lng:36.80813},{lat:49.51345,lng:36.74119},{lat:49.5392,lng:36.75015},{lat:49.63328,lng:36.75489},{lat:49.6813,lng:36.75999},{lat:49.72945,lng:36.76728},{lat:49.76905,lng:36.90138}]],type_id:6,strokeweight:"0.00",strokeopacity:"0.00",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:22425135,time:1649835091,name:"Russian occupation Kherson region",ttl:3e8,resource:0,points:[[{lat:45.75686,lng:34.89464},{lat:45.75757,lng:34.95812},{lat:45.76465,lng:35.05051},{lat:45.88172,lng:35.01572},{lat:46.05068,lng:35.00702},{lat:46.09577,lng:35.15121},{lat:46.17412,lng:35.23636},{lat:46.32923,lng:35.35675},{lat:46.41735,lng:35.44693},{lat:46.45836,lng:35.56274},{lat:46.50217,lng:35.67307},{lat:46.61234,lng:35.79941},{lat:46.66012,lng:35.99304},{lat:46.66043,lng:36.19263},{lat:46.62484,lng:36.24653},{lat:46.59712,lng:36.24529},{lat:46.55484,lng:36.20573},{lat:46.5443,lng:36.14755},{lat:46.49471,lng:36.0863},{lat:46.47889,lng:36.10869},{lat:46.49304,lng:36.15494},{lat:46.49378,lng:36.17816},{lat:46.60448,lng:36.28738},{lat:46.70377,lng:36.37619},{lat:46.75372,lng:36.50311},{lat:46.7752,lng:36.58816},{lat:46.78249,lng:36.65537},{lat:46.78102,lng:36.70498},{lat:46.77091,lng:36.74051},{lat:46.75805,lng:36.77238},{lat:46.74555,lng:36.79281},{lat:46.72468,lng:36.81799},{lat:46.64122,lng:36.7379},{lat:46.62367,lng:36.75004},{lat:46.6518,lng:36.80268},{lat:46.6979,lng:36.8378},{lat:46.74519,lng:36.85638},{lat:46.7764,lng:36.88156},{lat:46.80742,lng:36.90788},{lat:46.82998,lng:36.95},{lat:46.88022,lng:37.10541},{lat:46.93135,lng:37.23381},{lat:46.92807,lng:37.2963},{lat:46.8605,lng:37.28188},{lat:46.87474,lng:37.33566},{lat:46.9833,lng:37.43877},{lat:47.01538,lng:37.46796},{lat:47.03652,lng:37.47641},{lat:47.04175,lng:37.48404},{lat:47.04482,lng:37.49141},{lat:47.0404,lng:37.49747},{lat:47.04149,lng:37.49926},{lat:47.04312,lng:37.49795},{lat:47.04796,lng:37.50246},{lat:47.04935,lng:37.49931},{lat:47.05215,lng:37.50187},{lat:47.05409,lng:37.50405},{lat:47.05394,lng:37.50672},{lat:47.0551,lng:37.5083},{lat:47.05931,lng:37.51321},{lat:47.06196,lng:37.50587},{lat:47.06589,lng:37.50223},{lat:47.05845,lng:37.49285},{lat:47.05297,lng:37.48083},{lat:47.05582,lng:37.47818},{lat:47.07959,lng:37.47835},{lat:47.08156,lng:37.49122},{lat:47.09379,lng:37.49909},{lat:47.09208,lng:37.50499},{lat:47.09151,lng:37.52264},{lat:47.09064,lng:37.5303},{lat:47.09353,lng:37.53385},{lat:47.09251,lng:37.54895},{lat:47.09507,lng:37.5492},{lat:47.09486,lng:37.55175},{lat:47.09563,lng:37.55201},{lat:47.09658,lng:37.55047},{lat:47.11487,lng:37.56769},{lat:47.1216,lng:37.57104},{lat:47.12177,lng:37.56296},{lat:47.13783,lng:37.56813},{lat:47.13916,lng:37.55849},{lat:47.12712,lng:37.55351},{lat:47.12325,lng:37.5442},{lat:47.12325,lng:37.54068},{lat:47.12727,lng:37.53726},{lat:47.13731,lng:37.5361},{lat:47.14741,lng:37.5354},{lat:47.16466,lng:37.53651},{lat:47.16902,lng:37.53788},{lat:47.17664,lng:37.54097},{lat:47.18675,lng:37.54303},{lat:47.19049,lng:37.54463},{lat:47.19407,lng:37.53422},{lat:47.23099,lng:37.52804},{lat:47.28226,lng:37.52117},{lat:47.35549,lng:37.52289},{lat:47.42205,lng:37.5127},{lat:47.45324,lng:37.38796},{lat:47.40338,lng:37.20531},{lat:47.4253,lng:37.1212},{lat:47.45278,lng:37.06879},{lat:47.50004,lng:37.09373},{lat:47.57436,lng:36.97311},{lat:47.55645,lng:36.88087},{lat:47.61851,lng:36.76895},{lat:47.67957,lng:36.71127},{lat:47.65305,lng:36.46637},{lat:47.63237,lng:36.31714},{lat:47.6222,lng:36.17889},{lat:47.63638,lng:36.09055},{lat:47.63328,lng:36.00494},{lat:47.64148,lng:35.91682},{lat:47.62606,lng:35.90218},{lat:47.60756,lng:35.88575},{lat:47.58364,lng:35.89413},{lat:47.5466,lng:35.88364},{lat:47.5123,lng:35.87016},{lat:47.49148,lng:35.87198},{lat:47.47657,lng:35.85553},{lat:47.4706,lng:35.81462},{lat:47.47043,lng:35.76127},{lat:47.48826,lng:35.71954},{lat:47.50219,lng:35.68646},{lat:47.50243,lng:35.64537},{lat:47.49269,lng:35.6028},{lat:47.51719,lng:35.45151},{lat:47.53111,lng:35.39085},{lat:47.54128,lng:35.33707},{lat:47.50142,lng:35.27298},{lat:47.45827,lng:35.24506},{lat:47.44341,lng:35.21507},{lat:47.44156,lng:35.16815},{lat:47.45456,lng:35.12466},{lat:47.45053,lng:35.06172},{lat:47.41152,lng:35.01892},{lat:47.3875,lng:34.96262},{lat:47.39525,lng:34.91753},{lat:47.40656,lng:34.88342},{lat:47.42515,lng:34.869},{lat:47.44837,lng:34.87289},{lat:47.46168,lng:34.82254},{lat:47.49092,lng:34.75433},{lat:47.49231,lng:34.68796},{lat:47.51488,lng:34.68201},{lat:47.55042,lng:34.63417},{lat:47.53142,lng:34.59297},{lat:47.50684,lng:34.56161},{lat:47.5032,lng:34.50989},{lat:47.50318,lng:34.44443},{lat:47.51442,lng:34.38194},{lat:47.48102,lng:34.33914},{lat:47.44388,lng:34.30733},{lat:47.42205,lng:34.16862},{lat:47.42251,lng:34.04778},{lat:47.40383,lng:33.94121},{lat:47.39762,lng:33.82553},{lat:47.43454,lng:33.77709},{lat:47.42788,lng:33.6864},{lat:47.41288,lng:33.58569},{lat:47.4175,lng:33.55543},{lat:47.43589,lng:33.55901},{lat:47.47107,lng:33.55733},{lat:47.47163,lng:33.57179},{lat:47.48399,lng:33.58422},{lat:47.49515,lng:33.58431},{lat:47.51443,lng:33.55683},{lat:47.50236,lng:33.5099},{lat:47.45765,lng:33.38654},{lat:47.48287,lng:33.31558},{lat:47.48539,lng:33.28084},{lat:47.46325,lng:33.25026},{lat:47.45025,lng:33.22608},{lat:47.46279,lng:33.21444},{lat:47.49847,lng:33.18603},{lat:47.51462,lng:33.14652},{lat:47.55205,lng:33.09113},{lat:47.59481,lng:33.0792},{lat:47.59551,lng:33.06335},{lat:47.59104,lng:32.98645},{lat:47.54316,lng:32.96974},{lat:47.46075,lng:32.96494},{lat:47.38068,lng:32.97729},{lat:47.30531,lng:33.13614},{lat:47.2177,lng:33.14117},{lat:47.17104,lng:32.99927},{lat:47.11268,lng:32.9532},{lat:47.09022,lng:32.86516},{lat:47.10033,lng:32.81855},{lat:47.08584,lng:32.78126},{lat:47.05871,lng:32.75646},{lat:47.04303,lng:32.77422},{lat:47.03206,lng:32.78334},{lat:46.98913,lng:32.76979},{lat:46.91422,lng:32.76047},{lat:46.85746,lng:32.74286},{lat:46.85299,lng:32.60788},{lat:46.82763,lng:32.39868},{lat:46.81573,lng:32.30988},{lat:46.80712,lng:32.27737},{lat:46.78058,lng:32.2419},{lat:46.75805,lng:32.19498},{lat:46.66688,lng:32.14032},{lat:46.62868,lng:32.12264},{lat:46.61205,lng:32.14677},{lat:46.59625,lng:32.11696},{lat:46.55773,lng:32.13962},{lat:46.57208,lng:32.18217},{lat:46.57663,lng:32.20744},{lat:46.58973,lng:32.24485},{lat:46.5766,lng:32.28057},{lat:46.53862,lng:32.28251},{lat:46.50868,lng:32.27851},{lat:46.49171,lng:32.2409},{lat:46.4906,lng:32.21051},{lat:46.51067,lng:32.16668},{lat:46.51788,lng:32.11662},{lat:46.49227,lng:32.04214},{lat:46.49799,lng:31.96314},{lat:46.51409,lng:31.90693},{lat:46.52371,lng:31.91573},{lat:46.53546,lng:31.88062},{lat:46.52845,lng:31.87969},{lat:46.52152,lng:31.8873},{lat:46.5198,lng:31.86452},{lat:46.53065,lng:31.80742},{lat:46.55088,lng:31.7624},{lat:46.54004,lng:31.66232},{lat:46.54075,lng:31.63739},{lat:46.53987,lng:31.58939},{lat:46.54498,lng:31.56109},{lat:46.55827,lng:31.5361},{lat:46.58473,lng:31.50097},{lat:46.5415,lng:31.54047},{lat:46.5103,lng:31.59393},{lat:46.4726,lng:31.63155},{lat:46.37332,lng:31.76912},{lat:46.38307,lng:31.78246},{lat:46.44807,lng:31.70699},{lat:46.47191,lng:31.71615},{lat:46.48343,lng:31.75319},{lat:46.45636,lng:31.88298},{lat:46.43548,lng:31.96653},{lat:46.44685,lng:32.00564},{lat:46.42994,lng:32.03274},{lat:46.40349,lng:32.04186},{lat:46.37577,lng:32.01027},{lat:46.35759,lng:31.9751},{lat:46.34447,lng:31.9293},{lat:46.33782,lng:31.82981},{lat:46.31113,lng:31.75035},{lat:46.26219,lng:31.78142},{lat:46.2646,lng:31.82034},{lat:46.26867,lng:31.91638},{lat:46.23879,lng:32.05572},{lat:46.19541,lng:32.13167},{lat:46.17006,lng:32.22029},{lat:46.14218,lng:32.23016},{lat:46.1885,lng:31.95911},{lat:46.20551,lng:31.81877},{lat:46.23195,lng:31.6709},{lat:46.25223,lng:31.6739},{lat:46.24769,lng:31.61095},{lat:46.29412,lng:31.54235},{lat:46.37237,lng:31.5282},{lat:46.34594,lng:31.49854},{lat:46.27732,lng:31.52429},{lat:46.24327,lng:31.58652},{lat:46.21069,lng:31.74762},{lat:46.18497,lng:31.91944},{lat:46.14844,lng:32.13167},{lat:46.0884,lng:32.41255},{lat:46.07213,lng:32.48497},{lat:46.06302,lng:32.55481},{lat:46.0574,lng:32.6141},{lat:46.04023,lng:32.67514},{lat:46.0139,lng:32.83401},{lat:46.00267,lng:32.96504},{lat:46.00962,lng:33.08588},{lat:46.09416,lng:33.14485},{lat:46.06302,lng:33.30767},{lat:45.99949,lng:33.43277},{lat:45.85391,lng:33.48084},{lat:45.86109,lng:33.49388},{lat:45.86515,lng:33.50865},{lat:45.88666,lng:33.54538},{lat:45.87615,lng:33.55671},{lat:45.87184,lng:33.5701},{lat:45.87065,lng:33.5804},{lat:45.88786,lng:33.59379},{lat:45.89288,lng:33.61714},{lat:45.87376,lng:33.65868},{lat:45.86587,lng:33.66348},{lat:45.85702,lng:33.67722},{lat:45.85989,lng:33.6834},{lat:45.88021,lng:33.67516},{lat:45.91008,lng:33.6731},{lat:45.91486,lng:33.69232},{lat:45.91056,lng:33.69919},{lat:45.92847,lng:33.72322},{lat:45.93062,lng:33.73524},{lat:45.92972,lng:33.75206},{lat:45.9364,lng:33.75893},{lat:45.94762,lng:33.75344},{lat:45.95049,lng:33.7246},{lat:45.95287,lng:33.69095},{lat:45.94977,lng:33.68065},{lat:45.9555,lng:33.66005},{lat:45.94858,lng:33.64803},{lat:45.93974,lng:33.64254},{lat:45.94046,lng:33.62503},{lat:45.94452,lng:33.61302},{lat:45.95216,lng:33.61988},{lat:45.96003,lng:33.62572},{lat:45.96934,lng:33.62847},{lat:45.9901,lng:33.62538},{lat:46.00035,lng:33.61817},{lat:45.99463,lng:33.58864},{lat:45.99964,lng:33.54675},{lat:46.07442,lng:33.59757},{lat:46.08919,lng:33.59207},{lat:46.11228,lng:33.59276},{lat:46.13108,lng:33.60512},{lat:46.14083,lng:33.63636},{lat:46.22617,lng:33.61439},{lat:46.2302,lng:33.64495},{lat:46.21928,lng:33.66555},{lat:46.20407,lng:33.68752},{lat:46.20075,lng:33.69919},{lat:46.18411,lng:33.73902},{lat:46.20027,lng:33.77884},{lat:46.19979,lng:33.8015},{lat:46.20027,lng:33.83034},{lat:46.19979,lng:33.85025},{lat:46.18981,lng:33.86879},{lat:46.16271,lng:33.90435},{lat:46.13322,lng:33.98468},{lat:46.11133,lng:34.02245},{lat:46.10609,lng:34.05335},{lat:46.11751,lng:34.0712},{lat:46.11418,lng:34.08837},{lat:46.10609,lng:34.12064},{lat:46.08837,lng:34.14368},{lat:46.07122,lng:34.17595},{lat:46.06455,lng:34.18145},{lat:46.06121,lng:34.21372},{lat:46.05264,lng:34.2508},{lat:46.05979,lng:34.29406},{lat:46.05836,lng:34.32839},{lat:46.04549,lng:34.36272},{lat:46.03034,lng:34.38515},{lat:46.00698,lng:34.40644},{lat:45.98997,lng:34.41445},{lat:45.9704,lng:34.43436},{lat:45.94988,lng:34.46526},{lat:45.94271,lng:34.49273},{lat:45.95895,lng:34.52088},{lat:45.97947,lng:34.54285},{lat:45.99569,lng:34.56757},{lat:45.99474,lng:34.60053},{lat:45.97374,lng:34.66233},{lat:45.93507,lng:34.7152},{lat:45.91024,lng:34.74885},{lat:45.90498,lng:34.79966},{lat:45.80407,lng:34.79897},{lat:45.73462,lng:34.74541}]],type_id:6,strokeweight:"0.00",strokeopacity:"0.00",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:22422795,time:1649489823,name:"Russian occupation in Luhansk region",ttl:3e8,resource:0,points:[[{lat:49.04973,lng:39.69841},{lat:49.045,lng:39.72519},{lat:49.03892,lng:39.76158},{lat:49.04455,lng:39.78424},{lat:49.05918,lng:39.80656},{lat:49.06053,lng:39.8275},{lat:49.06697,lng:39.87626},{lat:49.05752,lng:39.90853},{lat:49.05467,lng:39.93668},{lat:49.08167,lng:39.93394},{lat:49.10416,lng:39.95728},{lat:49.15271,lng:39.99024},{lat:49.18684,lng:40.03144},{lat:49.19223,lng:40.07813},{lat:49.24607,lng:40.13032},{lat:49.24158,lng:40.17564},{lat:49.25234,lng:40.22096},{lat:49.29268,lng:40.18525},{lat:49.34641,lng:40.19349},{lat:49.37593,lng:40.11796},{lat:49.40144,lng:40.09186},{lat:49.45206,lng:40.04013},{lat:49.52343,lng:40.04059},{lat:49.57095,lng:40.17014},{lat:49.60893,lng:40.13306},{lat:49.60893,lng:40.06165},{lat:49.5941,lng:39.95361},{lat:49.57955,lng:39.93393},{lat:49.55966,lng:39.89365},{lat:49.56442,lng:39.83551},{lat:49.55521,lng:39.80576},{lat:49.59884,lng:39.74991},{lat:49.60923,lng:39.68948},{lat:49.62406,lng:39.6492},{lat:49.68274,lng:39.61945},{lat:49.72004,lng:39.5874},{lat:49.73454,lng:39.60663},{lat:49.7372,lng:39.53613},{lat:49.75436,lng:39.49219},{lat:49.76205,lng:39.43085},{lat:49.73898,lng:39.38187},{lat:49.7582,lng:39.28711},{lat:49.76767,lng:39.26193},{lat:49.80165,lng:39.22852},{lat:49.83798,lng:39.22577},{lat:49.86838,lng:39.20563},{lat:49.88903,lng:39.17679},{lat:49.86278,lng:39.13101},{lat:49.83592,lng:39.11316},{lat:49.81908,lng:39.06555},{lat:49.82529,lng:39.03076},{lat:49.79545,lng:38.95248},{lat:49.80697,lng:38.91495},{lat:49.86927,lng:38.91586},{lat:49.88638,lng:38.80051},{lat:49.7984,lng:38.62747},{lat:49.73986,lng:38.47321},{lat:49.72034,lng:38.41919},{lat:49.56412,lng:38.26996},{lat:49.42795,lng:38.22693},{lat:49.3808,lng:38.17276},{lat:49.38701,lng:38.14398},{lat:49.33231,lng:38.16185},{lat:49.29914,lng:38.17146},{lat:49.21836,lng:38.19124},{lat:49.1507,lng:38.17444},{lat:49.10923,lng:38.17017},{lat:49.12628,lng:38.23916},{lat:49.11134,lng:38.28286},{lat:49.08295,lng:38.31984},{lat:49.0518,lng:38.32444},{lat:49.03085,lng:38.33565},{lat:49.02969,lng:38.35236},{lat:49.02726,lng:38.3765},{lat:49.02811,lng:38.39501},{lat:49.02145,lng:38.40471},{lat:49.01368,lng:38.43811},{lat:48.99516,lng:38.47969},{lat:48.98548,lng:38.47933},{lat:48.97005,lng:38.51418},{lat:48.99096,lng:38.53077},{lat:48.99178,lng:38.55343},{lat:48.98758,lng:38.59028},{lat:48.97992,lng:38.63491},{lat:48.96639,lng:38.63663},{lat:48.94416,lng:38.58639},{lat:48.92936,lng:38.57675},{lat:48.88377,lng:38.60032},{lat:48.85707,lng:38.59434},{lat:48.83211,lng:38.63317},{lat:48.79065,lng:38.62159},{lat:48.77612,lng:38.64357},{lat:48.76442,lng:38.67484},{lat:48.74735,lng:38.66917},{lat:48.7109,lng:38.64963},{lat:48.7105,lng:38.66359},{lat:48.71354,lng:38.67607},{lat:48.71795,lng:38.68885},{lat:48.7165,lng:38.69852},{lat:48.71474,lng:38.70248},{lat:48.71506,lng:38.70789},{lat:48.71303,lng:38.71617},{lat:48.7101,lng:38.71742},{lat:48.70665,lng:38.72591},{lat:48.69163,lng:38.78063},{lat:48.6948,lng:38.78826},{lat:48.70117,lng:38.79269},{lat:48.70564,lng:38.79884},{lat:48.7205,lng:38.80795},{lat:48.72635,lng:38.81269},{lat:48.73261,lng:38.81419},{lat:48.74183,lng:38.82129},{lat:48.74253,lng:38.82973},{lat:48.74507,lng:38.84306},{lat:48.75091,lng:38.84903},{lat:48.75044,lng:38.85306},{lat:48.75027,lng:38.85847},{lat:48.75161,lng:38.86262},{lat:48.75206,lng:38.87052},{lat:48.75311,lng:38.8771},{lat:48.75302,lng:38.8797},{lat:48.75113,lng:38.88127},{lat:48.75079,lng:38.89137},{lat:48.75145,lng:38.90184},{lat:48.75044,lng:38.90674},{lat:48.74928,lng:38.91071},{lat:48.7444,lng:38.91629},{lat:48.74378,lng:38.91875},{lat:48.7451,lng:38.92164},{lat:48.74563,lng:38.92453},{lat:48.74559,lng:38.92968},{lat:48.74751,lng:38.93512},{lat:48.74787,lng:38.93721},{lat:48.74685,lng:38.93904},{lat:48.7451,lng:38.93909},{lat:48.74334,lng:38.93847},{lat:48.74259,lng:38.93535},{lat:48.73766,lng:38.9334},{lat:48.73638,lng:38.93497},{lat:48.73495,lng:38.9417},{lat:48.73487,lng:38.9564},{lat:48.73698,lng:38.95949},{lat:48.74032,lng:38.96055},{lat:48.74421,lng:38.95815},{lat:48.74655,lng:38.96044},{lat:48.74691,lng:38.96473},{lat:48.74451,lng:38.97097},{lat:48.74459,lng:38.97377},{lat:48.74532,lng:38.97617},{lat:48.74555,lng:38.98046},{lat:48.74317,lng:38.98347},{lat:48.7408,lng:38.98355},{lat:48.73793,lng:38.9857},{lat:48.73617,lng:38.98965},{lat:48.73147,lng:38.99254},{lat:48.72711,lng:38.9974},{lat:48.72476,lng:38.99938},{lat:48.71977,lng:39.00084},{lat:48.71777,lng:38.99946},{lat:48.71609,lng:38.99763},{lat:48.71488,lng:38.99119},{lat:48.71396,lng:38.98825},{lat:48.71301,lng:38.98659},{lat:48.71217,lng:38.98504},{lat:48.71081,lng:38.9885},{lat:48.71103,lng:38.9924},{lat:48.7125,lng:38.99746},{lat:48.71166,lng:38.99938},{lat:48.70954,lng:39.00026},{lat:48.70561,lng:38.99972},{lat:48.69993,lng:39.00169},{lat:48.69723,lng:39.00581},{lat:48.69534,lng:39.01614},{lat:48.68905,lng:39.01731},{lat:48.68327,lng:39.016},{lat:48.67912,lng:39.02081},{lat:48.67203,lng:39.02184},{lat:48.66875,lng:39.0259},{lat:48.66542,lng:39.02736},{lat:48.66349,lng:39.02882},{lat:48.66087,lng:39.02421},{lat:48.66281,lng:39.01812},{lat:48.66334,lng:39.01428},{lat:48.66238,lng:39.01051},{lat:48.6596,lng:39.01219},{lat:48.65712,lng:39.02061},{lat:48.6552,lng:39.02504},{lat:48.65374,lng:39.03105},{lat:48.65264,lng:39.03377},{lat:48.64852,lng:39.03686},{lat:48.64788,lng:39.04175},{lat:48.64713,lng:39.05228},{lat:48.65257,lng:39.07963},{lat:48.65151,lng:39.10418},{lat:48.66183,lng:39.12546},{lat:48.66107,lng:39.13931},{lat:48.66958,lng:39.142},{lat:48.67713,lng:39.15041},{lat:48.67657,lng:39.16323},{lat:48.68597,lng:39.17971},{lat:48.69553,lng:39.18463},{lat:48.7075,lng:39.19516},{lat:48.7066,lng:39.19905},{lat:48.7012,lng:39.20139},{lat:48.69923,lng:39.2054},{lat:48.70754,lng:39.22428},{lat:48.71192,lng:39.23098},{lat:48.71217,lng:39.23454},{lat:48.71166,lng:39.23691},{lat:48.71009,lng:39.24053},{lat:48.71065,lng:39.24329},{lat:48.71305,lng:39.24833},{lat:48.71607,lng:39.25077},{lat:48.72528,lng:39.25375},{lat:48.72796,lng:39.27052},{lat:48.73657,lng:39.27767},{lat:48.74257,lng:39.27526},{lat:48.74672,lng:39.27052},{lat:48.75332,lng:39.26994},{lat:48.75434,lng:39.27475},{lat:48.74853,lng:39.28288},{lat:48.75193,lng:39.28751},{lat:48.76053,lng:39.29043},{lat:48.76505,lng:39.29998},{lat:48.7755,lng:39.31103},{lat:48.77727,lng:39.32522},{lat:48.77324,lng:39.32951},{lat:48.76875,lng:39.32739},{lat:48.76664,lng:39.33758},{lat:48.76962,lng:39.34891},{lat:48.76758,lng:39.35572},{lat:48.76287,lng:39.35291},{lat:48.76068,lng:39.34679},{lat:48.75766,lng:39.34513},{lat:48.74389,lng:39.34959},{lat:48.73808,lng:39.35904},{lat:48.73389,lng:39.36047},{lat:48.72974,lng:39.35612},{lat:48.72619,lng:39.35589},{lat:48.72185,lng:39.36533},{lat:48.71977,lng:39.37471},{lat:48.71581,lng:39.37243},{lat:48.71566,lng:39.36556},{lat:48.71275,lng:39.35314},{lat:48.71226,lng:39.34782},{lat:48.70792,lng:39.35114},{lat:48.69867,lng:39.35726},{lat:48.69349,lng:39.36665},{lat:48.68786,lng:39.37677},{lat:48.68529,lng:39.39068},{lat:48.6838,lng:39.39228},{lat:48.68155,lng:39.39119},{lat:48.67978,lng:39.39171},{lat:48.67577,lng:39.39766},{lat:48.6743,lng:39.40538},{lat:48.67298,lng:39.40948},{lat:48.66997,lng:39.41382},{lat:48.66721,lng:39.41543},{lat:48.66134,lng:39.40965},{lat:48.6593,lng:39.4097},{lat:48.65756,lng:39.41362},{lat:48.65882,lng:39.42018},{lat:48.65748,lng:39.43305},{lat:48.6559,lng:39.43708},{lat:48.65597,lng:39.44063},{lat:48.65624,lng:39.44235},{lat:48.65686,lng:39.44695},{lat:48.65544,lng:39.45225},{lat:48.65323,lng:39.45405},{lat:48.64945,lng:39.45059},{lat:48.64446,lng:39.45067},{lat:48.63979,lng:39.45591},{lat:48.63905,lng:39.46741},{lat:48.63599,lng:39.46773},{lat:48.63397,lng:39.46569},{lat:48.62985,lng:39.46527},{lat:48.62865,lng:39.46795},{lat:48.62835,lng:39.4705},{lat:48.62966,lng:39.47628},{lat:48.62926,lng:39.48478},{lat:48.63106,lng:39.48595},{lat:48.6327,lng:39.48601},{lat:48.63514,lng:39.48767},{lat:48.6323,lng:39.49287},{lat:48.63571,lng:39.5129},{lat:48.63419,lng:39.51699},{lat:48.62837,lng:39.51811},{lat:48.62247,lng:39.51336},{lat:48.61502,lng:39.52486},{lat:48.61097,lng:39.52881},{lat:48.60723,lng:39.52792},{lat:48.60335,lng:39.52452},{lat:48.60057,lng:39.52552},{lat:48.59778,lng:39.52809},{lat:48.59733,lng:39.53201},{lat:48.59671,lng:39.53419},{lat:48.59377,lng:39.53447},{lat:48.59082,lng:39.52867},{lat:48.58802,lng:39.52864},{lat:48.58577,lng:39.52998},{lat:48.5845,lng:39.53776},{lat:48.58486,lng:39.5446},{lat:48.58647,lng:39.54758},{lat:48.58872,lng:39.54935},{lat:48.59343,lng:39.54789},{lat:48.59623,lng:39.54967},{lat:48.59935,lng:39.55948},{lat:48.59805,lng:39.56503},{lat:48.59493,lng:39.56629},{lat:48.59241,lng:39.56849},{lat:48.58902,lng:39.56792},{lat:48.58632,lng:39.56526},{lat:48.5845,lng:39.56414},{lat:48.58302,lng:39.56689},{lat:48.58168,lng:39.57461},{lat:48.593,lng:39.59255},{lat:48.59311,lng:39.59756},{lat:48.59252,lng:39.60257},{lat:48.58872,lng:39.60588},{lat:48.58529,lng:39.60571},{lat:48.58497,lng:39.60194},{lat:48.58109,lng:39.59724},{lat:48.57803,lng:39.59573},{lat:48.57682,lng:39.5971},{lat:48.57511,lng:39.59973},{lat:48.57426,lng:39.60674},{lat:48.57443,lng:39.61095},{lat:48.57755,lng:39.61576},{lat:48.58261,lng:39.61985},{lat:48.58647,lng:39.62076},{lat:48.58736,lng:39.62279},{lat:48.58132,lng:39.63435},{lat:48.58516,lng:39.65481},{lat:48.58906,lng:39.67186},{lat:48.58836,lng:39.67804},{lat:48.58656,lng:39.68296},{lat:48.58639,lng:39.68983},{lat:48.59069,lng:39.68491},{lat:48.59322,lng:39.67558},{lat:48.59517,lng:39.67732},{lat:48.59619,lng:39.68016},{lat:48.59865,lng:39.6769},{lat:48.59618,lng:39.67403},{lat:48.59567,lng:39.67109},{lat:48.5968,lng:39.66888},{lat:48.60055,lng:39.66803},{lat:48.6034,lng:39.67103},{lat:48.6049,lng:39.66994},{lat:48.60503,lng:39.66351},{lat:48.60671,lng:39.66022},{lat:48.61063,lng:39.66099},{lat:48.61803,lng:39.66585},{lat:48.62366,lng:39.67026},{lat:48.6289,lng:39.67875},{lat:48.63268,lng:39.68719},{lat:48.63484,lng:39.68994},{lat:48.63614,lng:39.6928},{lat:48.63794,lng:39.69383},{lat:48.64304,lng:39.694},{lat:48.64796,lng:39.69109},{lat:48.65261,lng:39.7007},{lat:48.65675,lng:39.70611},{lat:48.65463,lng:39.7104},{lat:48.6561,lng:39.71163},{lat:48.66113,lng:39.71},{lat:48.66773,lng:39.71094},{lat:48.66718,lng:39.7037},{lat:48.66965,lng:39.70156},{lat:48.67536,lng:39.71323},{lat:48.67804,lng:39.71357},{lat:48.68401,lng:39.72313},{lat:48.69115,lng:39.71746},{lat:48.70014,lng:39.71844},{lat:48.70048,lng:39.71283},{lat:48.70493,lng:39.70539},{lat:48.70909,lng:39.70779},{lat:48.71479,lng:39.71151},{lat:48.72109,lng:39.7035},{lat:48.72109,lng:39.70865},{lat:48.72845,lng:39.7154},{lat:48.73144,lng:39.72301},{lat:48.73963,lng:39.72559},{lat:48.74438,lng:39.73286},{lat:48.74385,lng:39.73932},{lat:48.75076,lng:39.73675},{lat:48.75053,lng:39.72559},{lat:48.75362,lng:39.73045},{lat:48.75792,lng:39.73148},{lat:48.7637,lng:39.7368},{lat:48.76799,lng:39.74356},{lat:48.77211,lng:39.75019},{lat:48.76769,lng:39.7554},{lat:48.76354,lng:39.76336},{lat:48.76969,lng:39.76959},{lat:48.77248,lng:39.76112},{lat:48.78681,lng:39.77852},{lat:48.79872,lng:39.78058},{lat:48.81711,lng:39.78127},{lat:48.83338,lng:39.79386},{lat:48.84151,lng:39.80416},{lat:48.83157,lng:39.82613},{lat:48.82071,lng:39.88793},{lat:48.80036,lng:39.94217},{lat:48.79674,lng:39.96689},{lat:48.79357,lng:39.97445},{lat:48.87134,lng:40.07401},{lat:48.91018,lng:40.06165},{lat:48.9147,lng:40.0383},{lat:48.90883,lng:40.02045},{lat:48.90206,lng:40.01633},{lat:48.9007,lng:40.00534},{lat:48.86863,lng:39.99093},{lat:48.87631,lng:39.94973},{lat:48.89528,lng:39.92913},{lat:48.89302,lng:39.8536},{lat:48.8998,lng:39.8433},{lat:48.89799,lng:39.833},{lat:48.88625,lng:39.83025},{lat:48.89935,lng:39.81583},{lat:48.90386,lng:39.82064},{lat:48.91289,lng:39.8021},{lat:48.90883,lng:39.79729},{lat:48.91966,lng:39.77875},{lat:48.9499,lng:39.77257},{lat:48.97109,lng:39.75609},{lat:48.98777,lng:39.74854},{lat:48.97425,lng:39.72588},{lat:48.99859,lng:39.70322},{lat:48.99048,lng:39.67232},{lat:48.99814,lng:39.66202},{lat:49.01076,lng:39.68193},{lat:49.03778,lng:39.6785}],[{lat:48.62621,lng:38.46142},{lat:48.64119,lng:38.46485},{lat:48.65287,lng:38.46056},{lat:48.65888,lng:38.45421},{lat:48.6582,lng:38.41713},{lat:48.65559,lng:38.40305},{lat:48.64278,lng:38.40134},{lat:48.62644,lng:38.40134},{lat:48.61748,lng:38.39327},{lat:48.61237,lng:38.39705},{lat:48.6076,lng:38.4252},{lat:48.60499,lng:38.43807},{lat:48.62406,lng:38.45987}]],type_id:6,strokeweight:"0.00",strokeopacity:"0.00",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:22421749,time:1649350342,name:"Additional occupation in parts of Donetsk region of Ukraine",ttl:3e8,resource:0,points:[[{lat:47.28179,lng:37.51945},{lat:47.2313,lng:37.52724},{lat:47.195,lng:37.5325},{lat:47.18683,lng:37.56008},{lat:47.17696,lng:37.60906},{lat:47.16393,lng:37.64431},{lat:47.14221,lng:37.65252},{lat:47.13449,lng:37.65104},{lat:47.12474,lng:37.65736},{lat:47.12893,lng:37.67363},{lat:47.13118,lng:37.68732},{lat:47.11788,lng:37.69501},{lat:47.10754,lng:37.68119},{lat:47.10117,lng:37.67595},{lat:47.10135,lng:37.6593},{lat:47.10282,lng:37.63647},{lat:47.11394,lng:37.63786},{lat:47.11402,lng:37.63457},{lat:47.11199,lng:37.62916},{lat:47.10818,lng:37.62665},{lat:47.10301,lng:37.62566},{lat:47.10328,lng:37.6232},{lat:47.09662,lng:37.62262},{lat:47.09294,lng:37.62691},{lat:47.08877,lng:37.65432},{lat:47.08151,lng:37.68562},{lat:47.07889,lng:37.71023},{lat:47.08474,lng:37.74851},{lat:47.08828,lng:37.77191},{lat:47.08692,lng:37.78267},{lat:47.084,lng:37.79325},{lat:47.09038,lng:37.81606},{lat:47.09905,lng:37.8358},{lat:47.10395,lng:37.85168},{lat:47.11027,lng:37.84919},{lat:47.11553,lng:37.85108},{lat:47.11769,lng:37.8467},{lat:47.12575,lng:37.84567},{lat:47.12639,lng:37.83434},{lat:47.12931,lng:37.82722},{lat:47.13474,lng:37.82687},{lat:47.13614,lng:37.82121},{lat:47.15085,lng:37.82292},{lat:47.15873,lng:37.82318},{lat:47.16551,lng:37.81795},{lat:47.17508,lng:37.80147},{lat:47.18154,lng:37.80301},{lat:47.18639,lng:37.82893},{lat:47.18942,lng:37.84464},{lat:47.19724,lng:37.85228},{lat:47.2012,lng:37.84369},{lat:47.21847,lng:37.83923},{lat:47.22581,lng:37.82747},{lat:47.23652,lng:37.8273},{lat:47.25541,lng:37.83348},{lat:47.267,lng:37.83159},{lat:47.27608,lng:37.82249},{lat:47.2836,lng:37.80979},{lat:47.28862,lng:37.79903},{lat:47.30407,lng:37.80567}],[{lat:47.30391,lng:37.80704},{lat:47.30643,lng:37.81477},{lat:47.30834,lng:37.82324},{lat:47.30395,lng:37.82839},{lat:47.29918,lng:37.83159},{lat:47.30896,lng:37.84527},{lat:47.32137,lng:37.82764},{lat:47.34208,lng:37.8352},{lat:47.34107,lng:37.85316},{lat:47.34739,lng:37.86475},{lat:47.35724,lng:37.8594},{lat:47.35115,lng:37.84687},{lat:47.35735,lng:37.84195},{lat:47.36456,lng:37.855},{lat:47.37379,lng:37.84229},{lat:47.38572,lng:37.8511},{lat:47.38913,lng:37.86095},{lat:47.40873,lng:37.85957},{lat:47.42708,lng:37.86175},{lat:47.43351,lng:37.86861},{lat:47.45069,lng:37.86896},{lat:47.47135,lng:37.89139},{lat:47.48829,lng:37.88544},{lat:47.51651,lng:37.85088},{lat:47.53552,lng:37.8399},{lat:47.54711,lng:37.83749},{lat:47.56934,lng:37.83543},{lat:47.58486,lng:37.84402},{lat:47.59667,lng:37.84367},{lat:47.60824,lng:37.86221},{lat:47.61889,lng:37.8708},{lat:47.63323,lng:37.87183},{lat:47.63185,lng:37.85294},{lat:47.64041,lng:37.81689},{lat:47.66261,lng:37.77672},{lat:47.66585,lng:37.76539},{lat:47.66446,lng:37.75647},{lat:47.67348,lng:37.75246},{lat:47.68603,lng:37.72786},{lat:47.69043,lng:37.71069},{lat:47.69035,lng:37.69398},{lat:47.68519,lng:37.68208},{lat:47.68588,lng:37.65908},{lat:47.70044,lng:37.63676},{lat:47.70568,lng:37.6339},{lat:47.71754,lng:37.62749},{lat:47.7307,lng:37.62314},{lat:47.75286,lng:37.62337},{lat:47.77164,lng:37.62017},{lat:47.78263,lng:37.62108},{lat:47.80063,lng:37.63424},{lat:47.82468,lng:37.64854},{lat:47.83521,lng:37.64751},{lat:47.8256,lng:37.60414},{lat:47.81661,lng:37.57416},{lat:47.8027,lng:37.53696},{lat:47.80046,lng:37.506},{lat:47.78258,lng:37.50471},{lat:47.77078,lng:37.50276},{lat:47.73756,lng:37.49447},{lat:47.72162,lng:37.49051},{lat:47.71132,lng:37.40689},{lat:47.72874,lng:37.39815},{lat:47.74043,lng:37.37403},{lat:47.75311,lng:37.32986},{lat:47.75345,lng:37.26095},{lat:47.76043,lng:37.22696},{lat:47.77357,lng:37.13594},{lat:47.78679,lng:37.05663},{lat:47.78337,lng:37.03282},{lat:47.78837,lng:37.01861},{lat:47.79803,lng:36.98837},{lat:47.81306,lng:36.92333},{lat:47.83029,lng:36.87362},{lat:47.80946,lng:36.80793},{lat:47.81689,lng:36.72993},{lat:47.75969,lng:36.68187},{lat:47.6818,lng:36.71437},{lat:47.62076,lng:36.76289},{lat:47.55595,lng:36.88145},{lat:47.57471,lng:36.97392},{lat:47.49995,lng:37.09294},{lat:47.45171,lng:37.06868},{lat:47.42446,lng:37.12132},{lat:47.40126,lng:37.20509},{lat:47.45294,lng:37.38774},{lat:47.42251,lng:37.50961},{lat:47.35728,lng:37.52266},{lat:47.28148,lng:37.51911}],[{lat:48.18783,lng:37.84481},{lat:48.19161,lng:37.86541},{lat:48.19264,lng:37.88343},{lat:48.19974,lng:37.89803},{lat:48.2106,lng:37.90335},{lat:48.21438,lng:37.90781},{lat:48.2225,lng:37.92429},{lat:48.22982,lng:37.9291},{lat:48.23576,lng:37.94403},{lat:48.24628,lng:37.93013},{lat:48.25074,lng:37.92807},{lat:48.25531,lng:37.91227},{lat:48.25451,lng:37.88567},{lat:48.25817,lng:37.87657},{lat:48.2592,lng:37.86489},{lat:48.25531,lng:37.8661},{lat:48.25268,lng:37.8558},{lat:48.24576,lng:37.85573},{lat:48.24301,lng:37.85281},{lat:48.23863,lng:37.84916},{lat:48.2384,lng:37.84161},{lat:48.24218,lng:37.83817},{lat:48.24401,lng:37.82873},{lat:48.24492,lng:37.81912},{lat:48.23749,lng:37.81157},{lat:48.22459,lng:37.80656},{lat:48.21704,lng:37.80673},{lat:48.20949,lng:37.80913},{lat:48.20251,lng:37.81806},{lat:48.19531,lng:37.83334},{lat:48.1881,lng:37.84449}]],type_id:6,strokeweight:"0.00",strokeopacity:"0.00",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:22397706,time:1645736510,name:"Zmiyiny",ttl:3e8,resource:0,points:[[{id:3,lat:45.14589,lng:30.23988},{id:4,lat:45.2098,lng:30.33463},{id:5,lat:45.32486,lng:30.32777},{id:6,lat:45.37506,lng:30.21241},{id:7,lat:45.35962,lng:30.06821},{id:8,lat:45.28524,lng:29.97208},{id:9,lat:45.17979,lng:30.06821},{id:10,lat:45.14492,lng:30.15885}]],type_id:6,strokeweight:"0.00",strokeopacity:"0.00",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:21864893,time:1562667045,name:"russiainvadedukraine",ttl:3e8,resource:0,points:[[{lat:48.59222,lng:39.79403},{lat:48.59143,lng:39.79707},{lat:48.58995,lng:39.80093},{lat:48.5868,lng:39.80402},{lat:48.58583,lng:39.80488},{lat:48.58453,lng:39.80776},{lat:48.58373,lng:39.81278},{lat:48.58376,lng:39.81471},{lat:48.58478,lng:39.81827},{lat:48.58606,lng:39.82282},{lat:48.58615,lng:39.82548},{lat:48.58561,lng:39.82634},{lat:48.58424,lng:39.82724},{lat:48.58251,lng:39.82724},{lat:48.58141,lng:39.82656},{lat:48.58055,lng:39.82488},{lat:48.5797,lng:39.82316},{lat:48.57919,lng:39.82231},{lat:48.57811,lng:39.82368},{lat:48.57726,lng:39.82664},{lat:48.57558,lng:39.83265},{lat:48.5736,lng:39.83939},{lat:48.57178,lng:39.84587},{lat:48.57081,lng:39.84797},{lat:48.56726,lng:39.85213},{lat:48.56397,lng:39.85484},{lat:48.56258,lng:39.85582},{lat:48.56022,lng:39.8563},{lat:48.55681,lng:39.85509},{lat:48.55394,lng:39.85381},{lat:48.5496,lng:39.85561},{lat:48.54599,lng:39.85775},{lat:48.5442,lng:39.85818},{lat:48.54215,lng:39.85754},{lat:48.53911,lng:39.85664},{lat:48.53624,lng:39.85672},{lat:48.53411,lng:39.85737},{lat:48.53153,lng:39.85909},{lat:48.52729,lng:39.86179},{lat:48.52368,lng:39.86325},{lat:48.52158,lng:39.86338},{lat:48.51544,lng:39.86539},{lat:48.51069,lng:39.86758},{lat:48.50711,lng:39.8675},{lat:48.50475,lng:39.8666},{lat:48.5029,lng:39.86432},{lat:48.50171,lng:39.86042},{lat:48.5021,lng:39.85853},{lat:48.50373,lng:39.85458},{lat:48.50398,lng:39.85282},{lat:48.50316,lng:39.8505},{lat:48.50148,lng:39.84887},{lat:48.49929,lng:39.84827},{lat:48.49573,lng:39.84879},{lat:48.49161,lng:39.84943},{lat:48.48737,lng:39.84951},{lat:48.48541,lng:39.84921},{lat:48.48379,lng:39.84818},{lat:48.47557,lng:39.84741},{lat:48.47363,lng:39.84767},{lat:48.47042,lng:39.85007},{lat:48.46746,lng:39.85295},{lat:48.46393,lng:39.85831},{lat:48.46108,lng:39.86548},{lat:48.45864,lng:39.87157},{lat:48.45596,lng:39.87827},{lat:48.45468,lng:39.88076},{lat:48.45206,lng:39.88548},{lat:48.4501,lng:39.8896},{lat:48.4493,lng:39.89346},{lat:48.44796,lng:39.8981},{lat:48.44682,lng:39.89913},{lat:48.44611,lng:39.89964},{lat:48.4452,lng:39.89908},{lat:48.4446,lng:39.89835},{lat:48.44395,lng:39.89672},{lat:48.44375,lng:39.89372},{lat:48.44347,lng:39.8917},{lat:48.44298,lng:39.89058},{lat:48.44105,lng:39.89097},{lat:48.43871,lng:39.8917},{lat:48.43339,lng:39.89462},{lat:48.43233,lng:39.89535},{lat:48.43091,lng:39.89586},{lat:48.4294,lng:39.89719},{lat:48.42786,lng:39.89852},{lat:48.4265,lng:39.90119},{lat:48.42556,lng:39.90324},{lat:48.42279,lng:39.90951},{lat:48.42111,lng:39.91217},{lat:48.41952,lng:39.91342},{lat:48.41824,lng:39.91389},{lat:48.41479,lng:39.91337},{lat:48.41274,lng:39.91277},{lat:48.40992,lng:39.91011},{lat:48.40724,lng:39.90805},{lat:48.40536,lng:39.90745},{lat:48.40368,lng:39.90788},{lat:48.40263,lng:39.90912},{lat:48.40174,lng:39.91256},{lat:48.40103,lng:39.91552},{lat:48.39963,lng:39.91865},{lat:48.3979,lng:39.91998},{lat:48.39664,lng:39.91985},{lat:48.39513,lng:39.91874},{lat:48.39448,lng:39.91745},{lat:48.39393,lng:39.91569},{lat:48.39322,lng:39.91054},{lat:48.39254,lng:39.90852},{lat:48.39106,lng:39.90792},{lat:48.38992,lng:39.90801},{lat:48.38889,lng:39.91067},{lat:48.38735,lng:39.91453},{lat:48.38647,lng:39.91612},{lat:48.38359,lng:39.91762},{lat:48.38139,lng:39.91814},{lat:48.37931,lng:39.91895},{lat:48.37786,lng:39.92011},{lat:48.37632,lng:39.9217},{lat:48.37552,lng:39.92397},{lat:48.37529,lng:39.92736},{lat:48.37635,lng:39.93187},{lat:48.37843,lng:39.93371},{lat:48.38319,lng:39.93582},{lat:48.38513,lng:39.93698},{lat:48.38698,lng:39.93917},{lat:48.38744,lng:39.94097},{lat:48.38664,lng:39.94281},{lat:48.38533,lng:39.94371},{lat:48.38407,lng:39.94401},{lat:48.37966,lng:39.94238},{lat:48.37564,lng:39.93912},{lat:48.3729,lng:39.93693},{lat:48.37147,lng:39.9362},{lat:48.37033,lng:39.93625},{lat:48.3672,lng:39.93801},{lat:48.3615,lng:39.93702},{lat:48.35836,lng:39.94496},{lat:48.3577,lng:39.94565},{lat:48.35642,lng:39.94513},{lat:48.35514,lng:39.94376},{lat:48.35448,lng:39.945},{lat:48.35437,lng:39.94843},{lat:48.35211,lng:39.94689},{lat:48.34992,lng:39.94565},{lat:48.34915,lng:39.94462},{lat:48.34843,lng:39.94268},{lat:48.34807,lng:39.94125},{lat:48.34787,lng:39.9393},{lat:48.34828,lng:39.93266},{lat:48.34829,lng:39.93196},{lat:48.34823,lng:39.92796},{lat:48.34688,lng:39.91941},{lat:48.34093,lng:39.91942},{lat:48.33938,lng:39.91108},{lat:48.33792,lng:39.90244},{lat:48.33491,lng:39.88525},{lat:48.33384,lng:39.88074},{lat:48.334,lng:39.87395},{lat:48.33441,lng:39.86735},{lat:48.33431,lng:39.86411},{lat:48.33391,lng:39.86196},{lat:48.33365,lng:39.85614},{lat:48.33345,lng:39.85005},{lat:48.3322,lng:39.8475},{lat:48.32942,lng:39.84743},{lat:48.32916,lng:39.84685},{lat:48.32875,lng:39.84228},{lat:48.32598,lng:39.84293},{lat:48.32424,lng:39.84324},{lat:48.3233,lng:39.84321},{lat:48.31652,lng:39.84304},{lat:48.30979,lng:39.8424},{lat:48.3094,lng:39.84973},{lat:48.30906,lng:39.85394},{lat:48.3089,lng:39.86073},{lat:48.30881,lng:39.86416},{lat:48.30916,lng:39.87559},{lat:48.30922,lng:39.88203},{lat:48.30921,lng:39.88509},{lat:48.30911,lng:39.88857},{lat:48.30612,lng:39.88853},{lat:48.30474,lng:39.88866},{lat:48.2975,lng:39.89037},{lat:48.29713,lng:39.8944},{lat:48.30107,lng:39.89561},{lat:48.30189,lng:39.89608},{lat:48.30229,lng:39.89775},{lat:48.30221,lng:39.89921},{lat:48.30182,lng:39.90035},{lat:48.3013,lng:39.90144},{lat:48.30081,lng:39.90196},{lat:48.29433,lng:39.90248},{lat:48.29355,lng:39.90483},{lat:48.29239,lng:39.90839},{lat:48.29193,lng:39.9096},{lat:48.2901,lng:39.91303},{lat:48.28876,lng:39.91521},{lat:48.28711,lng:39.91707},{lat:48.28055,lng:39.91027},{lat:48.2768,lng:39.91044},{lat:48.2766,lng:39.91127},{lat:48.27619,lng:39.91207},{lat:48.27562,lng:39.91301},{lat:48.27516,lng:39.91325},{lat:48.27408,lng:39.91331},{lat:48.27357,lng:39.91319},{lat:48.27248,lng:39.91221},{lat:48.27197,lng:39.91203},{lat:48.27165,lng:39.91217},{lat:48.27141,lng:39.91269},{lat:48.27136,lng:39.91389},{lat:48.27206,lng:39.91591},{lat:48.27199,lng:39.91628},{lat:48.2718,lng:39.91641},{lat:48.27091,lng:39.91604},{lat:48.27064,lng:39.91595},{lat:48.27042,lng:39.91602},{lat:48.27013,lng:39.91635},{lat:48.27001,lng:39.91685},{lat:48.27036,lng:39.9182},{lat:48.27063,lng:39.91887},{lat:48.2716,lng:39.92111},{lat:48.27185,lng:39.9221},{lat:48.27165,lng:39.9247},{lat:48.27168,lng:39.92668},{lat:48.272,lng:39.92719},{lat:48.27246,lng:39.92732},{lat:48.27337,lng:39.92723},{lat:48.27405,lng:39.92747},{lat:48.27471,lng:39.92783},{lat:48.276,lng:39.92878},{lat:48.27637,lng:39.9291},{lat:48.27714,lng:39.9298},{lat:48.27792,lng:39.93114},{lat:48.27827,lng:39.93277},{lat:48.27883,lng:39.93341},{lat:48.27911,lng:39.93375},{lat:48.27934,lng:39.93436},{lat:48.27937,lng:39.93505},{lat:48.27951,lng:39.93571},{lat:48.27968,lng:39.93597},{lat:48.28007,lng:39.93614},{lat:48.28051,lng:39.93586},{lat:48.28067,lng:39.93565},{lat:48.28114,lng:39.9347},{lat:48.28175,lng:39.93276},{lat:48.28198,lng:39.9321},{lat:48.28229,lng:39.93174},{lat:48.28263,lng:39.93156},{lat:48.28306,lng:39.93153},{lat:48.28342,lng:39.93175},{lat:48.28366,lng:39.93217},{lat:48.2837,lng:39.93392},{lat:48.28372,lng:39.93531},{lat:48.28389,lng:39.93617},{lat:48.28416,lng:39.93662},{lat:48.28466,lng:39.93712},{lat:48.28545,lng:39.93763},{lat:48.28627,lng:39.93797},{lat:48.28678,lng:39.93805},{lat:48.28815,lng:39.93808},{lat:48.29018,lng:39.93802},{lat:48.29088,lng:39.93838},{lat:48.2915,lng:39.93892},{lat:48.29202,lng:39.93957},{lat:48.29237,lng:39.94046},{lat:48.29257,lng:39.94104},{lat:48.29272,lng:39.94202},{lat:48.29272,lng:39.94301},{lat:48.29246,lng:39.94378},{lat:48.29232,lng:39.94423},{lat:48.29225,lng:39.94496},{lat:48.29226,lng:39.94561},{lat:48.29254,lng:39.94617},{lat:48.29384,lng:39.94767},{lat:48.29448,lng:39.94906},{lat:48.29471,lng:39.9493},{lat:48.29613,lng:39.94963},{lat:48.29656,lng:39.95003},{lat:48.29722,lng:39.95127},{lat:48.29758,lng:39.95137},{lat:48.29798,lng:39.95145},{lat:48.29834,lng:39.95141},{lat:48.29874,lng:39.95108},{lat:48.29914,lng:39.95091},{lat:48.2994,lng:39.9512},{lat:48.29984,lng:39.95236},{lat:48.3005,lng:39.95298},{lat:48.30094,lng:39.95307},{lat:48.30244,lng:39.95308},{lat:48.30337,lng:39.95331},{lat:48.3037,lng:39.95383},{lat:48.30391,lng:39.95436},{lat:48.30401,lng:39.95541},{lat:48.30396,lng:39.95602},{lat:48.30351,lng:39.95726},{lat:48.3032,lng:39.95777},{lat:48.30284,lng:39.95804},{lat:48.30253,lng:39.9582},{lat:48.30203,lng:39.95818},{lat:48.30105,lng:39.95741},{lat:48.2997,lng:39.95716},{lat:48.29938,lng:39.95716},{lat:48.29918,lng:39.95745},{lat:48.29867,lng:39.95804},{lat:48.2985,lng:39.95833},{lat:48.29837,lng:39.95878},{lat:48.29839,lng:39.95955},{lat:48.29854,lng:39.95995},{lat:48.29896,lng:39.96042},{lat:48.29955,lng:39.96088},{lat:48.29967,lng:39.9613},{lat:48.29952,lng:39.96214},{lat:48.29927,lng:39.96336},{lat:48.29913,lng:39.96436},{lat:48.29977,lng:39.96652},{lat:48.2998,lng:39.96704},{lat:48.29968,lng:39.96771},{lat:48.29935,lng:39.96849},{lat:48.29913,lng:39.96921},{lat:48.29904,lng:39.97025},{lat:48.29898,lng:39.97116},{lat:48.29927,lng:39.97157},{lat:48.30189,lng:39.97203},{lat:48.30262,lng:39.97189},{lat:48.30291,lng:39.97154},{lat:48.30315,lng:39.97078},{lat:48.30319,lng:39.9699},{lat:48.30319,lng:39.96915},{lat:48.30312,lng:39.96836},{lat:48.30291,lng:39.96709},{lat:48.30267,lng:39.96649},{lat:48.30244,lng:39.96598},{lat:48.30219,lng:39.96571},{lat:48.30222,lng:39.96523},{lat:48.30229,lng:39.96481},{lat:48.30247,lng:39.96446},{lat:48.30268,lng:39.96426},{lat:48.30319,lng:39.96417},{lat:48.30365,lng:39.96435},{lat:48.30446,lng:39.96588},{lat:48.30494,lng:39.96634},{lat:48.30568,lng:39.96671},{lat:48.30633,lng:39.96708},{lat:48.30651,lng:39.96742},{lat:48.30685,lng:39.96827},{lat:48.30705,lng:39.96909},{lat:48.3071,lng:39.97002},{lat:48.30706,lng:39.97079},{lat:48.30718,lng:39.97159},{lat:48.3074,lng:39.97197},{lat:48.30758,lng:39.97213},{lat:48.3086,lng:39.97221},{lat:48.30895,lng:39.97232},{lat:48.30975,lng:39.97279},{lat:48.31014,lng:39.97286},{lat:48.31161,lng:39.97288},{lat:48.31203,lng:39.97315},{lat:48.31247,lng:39.97358},{lat:48.31388,lng:39.97678},{lat:48.3147,lng:39.97786},{lat:48.31505,lng:39.97846},{lat:48.31537,lng:39.97931},{lat:48.31562,lng:39.98013},{lat:48.31565,lng:39.98147},{lat:48.3156,lng:39.98289},{lat:48.3155,lng:39.98358},{lat:48.31567,lng:39.9844},{lat:48.31599,lng:39.98518},{lat:48.31632,lng:39.98572},{lat:48.31692,lng:39.98725},{lat:48.31725,lng:39.98901},{lat:48.31722,lng:39.98984},{lat:48.3171,lng:39.99073},{lat:48.31676,lng:39.99137},{lat:48.31663,lng:39.99159},{lat:48.31629,lng:39.99181},{lat:48.31609,lng:39.99189},{lat:48.31526,lng:39.99295},{lat:48.31515,lng:39.9931},{lat:48.31469,lng:39.99338},{lat:48.31402,lng:39.99364},{lat:48.31211,lng:39.9944},{lat:48.31114,lng:39.9948},{lat:48.30931,lng:39.99481},{lat:48.30773,lng:39.99474},{lat:48.30512,lng:39.99462},{lat:48.30447,lng:39.99455},{lat:48.30287,lng:39.99438},{lat:48.3008,lng:39.99413},{lat:48.29123,lng:39.99957},{lat:48.28506,lng:40.00309},{lat:48.27482,lng:40.00888},{lat:48.27372,lng:40.00948},{lat:48.26946,lng:40.01258},{lat:48.2692,lng:40.01304},{lat:48.26915,lng:40.01403},{lat:48.2695,lng:40.0154},{lat:48.26973,lng:40.01682},{lat:48.26967,lng:40.01732},{lat:48.26905,lng:40.01788},{lat:48.26818,lng:40.01832},{lat:48.26782,lng:40.01786},{lat:48.26765,lng:40.01679},{lat:48.26714,lng:40.0145},{lat:48.26687,lng:40.0143},{lat:48.26606,lng:40.01467},{lat:48.26218,lng:40.01709},{lat:48.25787,lng:40.01975},{lat:48.25421,lng:40.02205},{lat:48.25373,lng:40.02199},{lat:48.24259,lng:40.00872},{lat:48.24205,lng:40.00848},{lat:48.24145,lng:40.00836},{lat:48.23802,lng:40.00898},{lat:48.22712,lng:40.01098},{lat:48.22557,lng:40.01107},{lat:48.22517,lng:40.01079},{lat:48.22469,lng:40.00995},{lat:48.22379,lng:40.0063},{lat:48.22365,lng:40.00342},{lat:48.22399,lng:40.00107},{lat:48.22435,lng:39.99659},{lat:48.22499,lng:39.9911},{lat:48.22547,lng:39.98532},{lat:48.22606,lng:39.97972},{lat:48.22662,lng:39.97444},{lat:48.22784,lng:39.96209},{lat:48.22812,lng:39.95731},{lat:48.22835,lng:39.95357},{lat:48.22843,lng:39.94971},{lat:48.22848,lng:39.94612},{lat:48.22855,lng:39.9417},{lat:48.22475,lng:39.94141},{lat:48.22047,lng:39.94109},{lat:48.2173,lng:39.94085},{lat:48.21381,lng:39.94058},{lat:48.20849,lng:39.94028},{lat:48.20535,lng:39.94012},{lat:48.20266,lng:39.94002},{lat:48.19702,lng:39.93968},{lat:48.19249,lng:39.93936},{lat:48.18802,lng:39.93903},{lat:48.18071,lng:39.93859},{lat:48.18166,lng:39.9311},{lat:48.18221,lng:39.92633},{lat:48.18111,lng:39.91825},{lat:48.18012,lng:39.91135},{lat:48.17708,lng:39.9104},{lat:48.17339,lng:39.9093},{lat:48.17244,lng:39.90896},{lat:48.17082,lng:39.90878},{lat:48.16574,lng:39.90831},{lat:48.16503,lng:39.90818},{lat:48.16431,lng:39.90759},{lat:48.16377,lng:39.9071},{lat:48.16287,lng:39.90674},{lat:48.16176,lng:39.90657},{lat:48.1606,lng:39.90611},{lat:48.1601,lng:39.90627},{lat:48.15943,lng:39.90557},{lat:48.15912,lng:39.90537},{lat:48.15857,lng:39.9054},{lat:48.15808,lng:39.90553},{lat:48.15767,lng:39.90576},{lat:48.15705,lng:39.9061},{lat:48.15631,lng:39.90679},{lat:48.15566,lng:39.90713},{lat:48.15477,lng:39.90811},{lat:48.1544,lng:39.90857},{lat:48.15403,lng:39.90853},{lat:48.15378,lng:39.90842},{lat:48.15363,lng:39.90815},{lat:48.15367,lng:39.90776},{lat:48.1536,lng:39.90745},{lat:48.15337,lng:39.90718},{lat:48.15312,lng:39.90713},{lat:48.15296,lng:39.90703},{lat:48.15271,lng:39.90675},{lat:48.15244,lng:39.90631},{lat:48.15188,lng:39.90591},{lat:48.15136,lng:39.90587},{lat:48.15107,lng:39.9063},{lat:48.15091,lng:39.90706},{lat:48.15055,lng:39.90709},{lat:48.15,lng:39.90735},{lat:48.14949,lng:39.90726},{lat:48.14904,lng:39.90676},{lat:48.14856,lng:39.90674},{lat:48.14802,lng:39.90656},{lat:48.14716,lng:39.90588},{lat:48.14644,lng:39.90567},{lat:48.14572,lng:39.90543},{lat:48.14499,lng:39.90508},{lat:48.14431,lng:39.90489},{lat:48.14327,lng:39.90444},{lat:48.14307,lng:39.90427},{lat:48.1424,lng:39.90368},{lat:48.14179,lng:39.90365},{lat:48.14152,lng:39.90362},{lat:48.14092,lng:39.90319},{lat:48.1403,lng:39.90259},{lat:48.14002,lng:39.90241},{lat:48.13989,lng:39.90236},{lat:48.13967,lng:39.90229},{lat:48.13921,lng:39.90206},{lat:48.13869,lng:39.90143},{lat:48.1383,lng:39.90035},{lat:48.13789,lng:39.89978},{lat:48.13616,lng:39.89909},{lat:48.13503,lng:39.89849},{lat:48.13412,lng:39.89746},{lat:48.13335,lng:39.89526},{lat:48.13333,lng:39.89381},{lat:48.13263,lng:39.89177},{lat:48.13166,lng:39.88991},{lat:48.13034,lng:39.88814},{lat:48.12728,lng:39.88469},{lat:48.12583,lng:39.88447},{lat:48.12462,lng:39.88297},{lat:48.12155,lng:39.87965},{lat:48.1207,lng:39.87839},{lat:48.11968,lng:39.87791},{lat:48.11866,lng:39.87634},{lat:48.11786,lng:39.87415},{lat:48.11695,lng:39.87221},{lat:48.11379,lng:39.87359},{lat:48.10932,lng:39.87573},{lat:48.09505,lng:39.87222},{lat:48.07982,lng:39.86904},{lat:48.06776,lng:39.83386},{lat:48.06566,lng:39.83765},{lat:48.06382,lng:39.84141},{lat:48.06125,lng:39.84579},{lat:48.05517,lng:39.86544},{lat:48.05359,lng:39.87053},{lat:48.05213,lng:39.87574},{lat:48.04937,lng:39.88608},{lat:48.04743,lng:39.88477},{lat:48.04646,lng:39.88416},{lat:48.0457,lng:39.88307},{lat:48.04399,lng:39.88056},{lat:48.04313,lng:39.87931},{lat:48.04219,lng:39.87835},{lat:48.04111,lng:39.86024},{lat:48.04108,lng:39.85376},{lat:48.04093,lng:39.82681},{lat:48.04082,lng:39.80219},{lat:48.04045,lng:39.77756},{lat:48.03905,lng:39.7782},{lat:48.03793,lng:39.78004},{lat:48.03728,lng:39.78023},{lat:48.03663,lng:39.77978},{lat:48.03598,lng:39.78002},{lat:48.03529,lng:39.78004},{lat:48.03497,lng:39.78075},{lat:48.0347,lng:39.78197},{lat:48.03415,lng:39.78228},{lat:48.0336,lng:39.78242},{lat:48.03244,lng:39.78378},{lat:48.03074,lng:39.78405},{lat:48.02947,lng:39.78569},{lat:48.02886,lng:39.78594},{lat:48.02816,lng:39.78593},{lat:48.02752,lng:39.78568},{lat:48.02685,lng:39.78578},{lat:48.02571,lng:39.78679},{lat:48.02462,lng:39.78634},{lat:48.02353,lng:39.78624},{lat:48.02193,lng:39.788},{lat:48.0199,lng:39.78868},{lat:48.0194,lng:39.78915},{lat:48.01868,lng:39.78981},{lat:48.01689,lng:39.78987},{lat:48.01579,lng:39.79114},{lat:48.01522,lng:39.79181},{lat:48.01465,lng:39.79193},{lat:48.01398,lng:39.79247},{lat:48.01228,lng:39.79265},{lat:48.01194,lng:39.79312},{lat:48.0118,lng:39.7946},{lat:48.01092,lng:39.7959},{lat:48.00979,lng:39.79833},{lat:48.00879,lng:39.80081},{lat:48.00836,lng:39.80127},{lat:48.00766,lng:39.80156},{lat:48.00743,lng:39.80178},{lat:48.00734,lng:39.80218},{lat:48.00767,lng:39.80294},{lat:48.008,lng:39.8041},{lat:48.00772,lng:39.80482},{lat:48.00741,lng:39.80502},{lat:48.00677,lng:39.80523},{lat:48.00642,lng:39.80533},{lat:48.00607,lng:39.80563},{lat:48.00568,lng:39.80792},{lat:48.00526,lng:39.80874},{lat:48.00496,lng:39.80968},{lat:48.00487,lng:39.81196},{lat:48.00451,lng:39.81228},{lat:48.00414,lng:39.81239},{lat:48.00365,lng:39.8119},{lat:48.00318,lng:39.812},{lat:48.00319,lng:39.81349},{lat:48.00303,lng:39.81428},{lat:48.00242,lng:39.81557},{lat:48.0021,lng:39.81661},{lat:48.00157,lng:39.81732},{lat:48.00104,lng:39.81787},{lat:48.00008,lng:39.81777},{lat:47.99898,lng:39.81613},{lat:47.9984,lng:39.81531},{lat:47.9978,lng:39.81475},{lat:47.99721,lng:39.81505},{lat:47.99665,lng:39.81582},{lat:47.9965,lng:39.81651},{lat:47.99596,lng:39.81742},{lat:47.99568,lng:39.81835},{lat:47.99568,lng:39.81928},{lat:47.99479,lng:39.81951},{lat:47.99393,lng:39.81926},{lat:47.99338,lng:39.81825},{lat:47.99273,lng:39.81814},{lat:47.9919,lng:39.81851},{lat:47.99085,lng:39.8187},{lat:47.99081,lng:39.81909},{lat:47.99088,lng:39.81974},{lat:47.99082,lng:39.82026},{lat:47.99004,lng:39.82028},{lat:47.98975,lng:39.81992},{lat:47.98949,lng:39.81922},{lat:47.98938,lng:39.81782},{lat:47.98908,lng:39.8175},{lat:47.98821,lng:39.81737},{lat:47.98612,lng:39.81735},{lat:47.98514,lng:39.81796},{lat:47.98418,lng:39.81806},{lat:47.98378,lng:39.8187},{lat:47.98417,lng:39.81939},{lat:47.98481,lng:39.82025},{lat:47.98391,lng:39.82257},{lat:47.98325,lng:39.82473},{lat:47.98245,lng:39.825},{lat:47.98166,lng:39.82514},{lat:47.98099,lng:39.82521},{lat:47.98035,lng:39.8251},{lat:47.97987,lng:39.82484},{lat:47.97939,lng:39.82445},{lat:47.97883,lng:39.82308},{lat:47.97706,lng:39.8217},{lat:47.9743,lng:39.82043},{lat:47.97202,lng:39.81891},{lat:47.97108,lng:39.81848},{lat:47.97008,lng:39.81857},{lat:47.96846,lng:39.81762},{lat:47.9681,lng:39.81805},{lat:47.968,lng:39.81904},{lat:47.96821,lng:39.8205},{lat:47.96794,lng:39.82077},{lat:47.96768,lng:39.82057},{lat:47.96743,lng:39.81995},{lat:47.96663,lng:39.81863},{lat:47.96615,lng:39.81894},{lat:47.96568,lng:39.81974},{lat:47.96516,lng:39.82006},{lat:47.96467,lng:39.81987},{lat:47.96438,lng:39.81934},{lat:47.96383,lng:39.81918},{lat:47.96361,lng:39.81955},{lat:47.9625,lng:39.81988},{lat:47.96205,lng:39.82019},{lat:47.96165,lng:39.82067},{lat:47.96107,lng:39.81973},{lat:47.96075,lng:39.81957},{lat:47.9605,lng:39.82038},{lat:47.9605,lng:39.82162},{lat:47.96043,lng:39.82309},{lat:47.95987,lng:39.82391},{lat:47.95932,lng:39.82442},{lat:47.95883,lng:39.82523},{lat:47.95827,lng:39.82525},{lat:47.95771,lng:39.82488},{lat:47.95716,lng:39.82434},{lat:47.9565,lng:39.82437},{lat:47.95629,lng:39.82501},{lat:47.95639,lng:39.82616},{lat:47.95593,lng:39.8266},{lat:47.95537,lng:39.82652},{lat:47.9542,lng:39.82465},{lat:47.95358,lng:39.82408},{lat:47.95286,lng:39.82377},{lat:47.9523,lng:39.82338},{lat:47.95184,lng:39.82329},{lat:47.95137,lng:39.82197},{lat:47.95125,lng:39.81851},{lat:47.95143,lng:39.813},{lat:47.95131,lng:39.80733},{lat:47.94318,lng:39.80799},{lat:47.93504,lng:39.80812},{lat:47.93484,lng:39.80287},{lat:47.93274,lng:39.8027},{lat:47.93222,lng:39.80255},{lat:47.93091,lng:39.80231},{lat:47.93035,lng:39.80224},{lat:47.92968,lng:39.8024},{lat:47.92908,lng:39.80257},{lat:47.92847,lng:39.80286},{lat:47.92721,lng:39.80318},{lat:47.92657,lng:39.80315},{lat:47.92593,lng:39.80298},{lat:47.92505,lng:39.80173},{lat:47.92336,lng:39.79958},{lat:47.92236,lng:39.79816},{lat:47.92139,lng:39.79664},{lat:47.92071,lng:39.79627},{lat:47.92013,lng:39.79602},{lat:47.91929,lng:39.79571},{lat:47.91844,lng:39.79545},{lat:47.9176,lng:39.79529},{lat:47.91673,lng:39.79516},{lat:47.91523,lng:39.79516},{lat:47.91438,lng:39.79531},{lat:47.91379,lng:39.7954},{lat:47.91247,lng:39.7954},{lat:47.90995,lng:39.79543},{lat:47.9049,lng:39.79537},{lat:47.8951,lng:39.7954},{lat:47.88246,lng:39.79618},{lat:47.87202,lng:39.79683},{lat:47.87137,lng:39.7967},{lat:47.87007,lng:39.79593},{lat:47.86961,lng:39.79538},{lat:47.86944,lng:39.79414},{lat:47.86945,lng:39.79163},{lat:47.86979,lng:39.78981},{lat:47.86986,lng:39.7891},{lat:47.86967,lng:39.78839},{lat:47.86998,lng:39.78705},{lat:47.87011,lng:39.78506},{lat:47.87031,lng:39.78307},{lat:47.87018,lng:39.78207},{lat:47.86984,lng:39.78107},{lat:47.86972,lng:39.78001},{lat:47.87013,lng:39.7772},{lat:47.87049,lng:39.77516},{lat:47.87086,lng:39.77402},{lat:47.87139,lng:39.76981},{lat:47.87155,lng:39.76858},{lat:47.87151,lng:39.76745},{lat:47.87172,lng:39.76546},{lat:47.86576,lng:39.76522},{lat:47.85938,lng:39.76535},{lat:47.84679,lng:39.76543},{lat:47.84714,lng:39.75877},{lat:47.84319,lng:39.75497},{lat:47.84147,lng:39.75336},{lat:47.83896,lng:39.75111},{lat:47.83703,lng:39.7487},{lat:47.83246,lng:39.74456},{lat:47.82786,lng:39.74024},{lat:47.82746,lng:39.7383},{lat:47.82885,lng:39.71865},{lat:47.83022,lng:39.69868},{lat:47.83146,lng:39.67866},{lat:47.8327,lng:39.65778},{lat:47.83341,lng:39.65208},{lat:47.83529,lng:39.64903},{lat:47.83645,lng:39.64635},{lat:47.83755,lng:39.6434},{lat:47.83846,lng:39.63557},{lat:47.83862,lng:39.63352},{lat:47.83901,lng:39.62761},{lat:47.83831,lng:39.62555},{lat:47.83767,lng:39.61909},{lat:47.83706,lng:39.61538},{lat:47.83701,lng:39.61277},{lat:47.83699,lng:39.6025},{lat:47.83706,lng:39.59225},{lat:47.83716,lng:39.57243},{lat:47.83716,lng:39.56748},{lat:47.8354,lng:39.56499},{lat:47.83343,lng:39.56255},{lat:47.83168,lng:39.55861},{lat:47.83055,lng:39.55592},{lat:47.82958,lng:39.55318},{lat:47.82918,lng:39.5508},{lat:47.82834,lng:39.548},{lat:47.82699,lng:39.54547},{lat:47.82567,lng:39.54255},{lat:47.82699,lng:39.54079},{lat:47.82904,lng:39.53904},{lat:47.8326,lng:39.53577},{lat:47.82902,lng:39.52893},{lat:47.82468,lng:39.521},{lat:47.83095,lng:39.51415},{lat:47.83342,lng:39.51132},{lat:47.83647,lng:39.50738},{lat:47.84159,lng:39.50306},{lat:47.84325,lng:39.50123},{lat:47.8606,lng:39.47956},{lat:47.85971,lng:39.47425},{lat:47.85923,lng:39.47364},{lat:47.85919,lng:39.47264},{lat:47.85918,lng:39.4718},{lat:47.85938,lng:39.47097},{lat:47.85975,lng:39.47007},{lat:47.8596,lng:39.46824},{lat:47.85992,lng:39.46715},{lat:47.85991,lng:39.46639},{lat:47.85948,lng:39.46559},{lat:47.85903,lng:39.4647},{lat:47.85872,lng:39.46347},{lat:47.85808,lng:39.46277},{lat:47.85766,lng:39.46211},{lat:47.85698,lng:39.4609},{lat:47.85625,lng:39.46007},{lat:47.85587,lng:39.45889},{lat:47.85546,lng:39.45523},{lat:47.85502,lng:39.45411},{lat:47.85437,lng:39.45316},{lat:47.8531,lng:39.45148},{lat:47.85262,lng:39.45036},{lat:47.85249,lng:39.44954},{lat:47.8527,lng:39.44838},{lat:47.85317,lng:39.44794},{lat:47.8539,lng:39.44785},{lat:47.85475,lng:39.44797},{lat:47.85511,lng:39.44782},{lat:47.85553,lng:39.44759},{lat:47.85579,lng:39.44735},{lat:47.85604,lng:39.44697},{lat:47.85606,lng:39.44618},{lat:47.85602,lng:39.44565},{lat:47.85617,lng:39.44476},{lat:47.85607,lng:39.44452},{lat:47.85583,lng:39.4443},{lat:47.85538,lng:39.44338},{lat:47.85522,lng:39.44268},{lat:47.85515,lng:39.44211},{lat:47.85454,lng:39.44179},{lat:47.85245,lng:39.44025},{lat:47.85014,lng:39.43858},{lat:47.84789,lng:39.43688},{lat:47.84691,lng:39.43619},{lat:47.84599,lng:39.43547},{lat:47.84531,lng:39.43452},{lat:47.84448,lng:39.43382},{lat:47.84364,lng:39.4333},{lat:47.84223,lng:39.43389},{lat:47.84132,lng:39.43449},{lat:47.8401,lng:39.43541},{lat:47.83854,lng:39.4354},{lat:47.83786,lng:39.43306},{lat:47.83744,lng:39.43095},{lat:47.83755,lng:39.429},{lat:47.83741,lng:39.42832},{lat:47.837,lng:39.42797},{lat:47.83621,lng:39.42748},{lat:47.83577,lng:39.42709},{lat:47.83543,lng:39.42656},{lat:47.83511,lng:39.4252},{lat:47.83431,lng:39.42428},{lat:47.8335,lng:39.42348},{lat:47.83204,lng:39.42347},{lat:47.83174,lng:39.42156},{lat:47.83168,lng:39.41778},{lat:47.8315,lng:39.41691},{lat:47.83056,lng:39.41281},{lat:47.83351,lng:39.41138},{lat:47.83488,lng:39.41051},{lat:47.83724,lng:39.40907},{lat:47.84199,lng:39.40601},{lat:47.85151,lng:39.40007},{lat:47.86512,lng:39.39157},{lat:47.86771,lng:39.38981},{lat:47.87042,lng:39.38865},{lat:47.87085,lng:39.38764},{lat:47.87085,lng:39.38475},{lat:47.87104,lng:39.37995},{lat:47.87147,lng:39.37237},{lat:47.87232,lng:39.35721},{lat:47.87223,lng:39.35502},{lat:47.87128,lng:39.35076},{lat:47.87047,lng:39.3506},{lat:47.86667,lng:39.3505},{lat:47.86663,lng:39.34379},{lat:47.86683,lng:39.33571},{lat:47.86723,lng:39.32011},{lat:47.86716,lng:39.31381},{lat:47.86703,lng:39.29905},{lat:47.86681,lng:39.2808},{lat:47.86628,lng:39.26175},{lat:47.86633,lng:39.25027},{lat:47.86702,lng:39.24803},{lat:47.86737,lng:39.24528},{lat:47.86728,lng:39.24353},{lat:47.86555,lng:39.2391},{lat:47.86446,lng:39.23653},{lat:47.86386,lng:39.23583},{lat:47.86061,lng:39.23677},{lat:47.85959,lng:39.23467},{lat:47.85898,lng:39.2346},{lat:47.85587,lng:39.2341},{lat:47.85485,lng:39.23504},{lat:47.854,lng:39.23559},{lat:47.85345,lng:39.23557},{lat:47.85316,lng:39.23347},{lat:47.85337,lng:39.23046},{lat:47.8533,lng:39.21702},{lat:47.85333,lng:39.20328},{lat:47.8539,lng:39.18614},{lat:47.85397,lng:39.18277},{lat:47.85303,lng:39.18066},{lat:47.85202,lng:39.17814},{lat:47.85059,lng:39.1756},{lat:47.84975,lng:39.17456},{lat:47.8489,lng:39.17361},{lat:47.84657,lng:39.16942},{lat:47.85016,lng:39.16559},{lat:47.85163,lng:39.16321},{lat:47.85218,lng:39.16139},{lat:47.85118,lng:39.15419},{lat:47.85118,lng:39.14903},{lat:47.84693,lng:39.14917},{lat:47.8421,lng:39.14924},{lat:47.8421,lng:39.12975},{lat:47.8423,lng:39.11006},{lat:47.84475,lng:39.11011},{lat:47.84748,lng:39.11005},{lat:47.85144,lng:39.11006},{lat:47.85153,lng:39.10472},{lat:47.8517,lng:39.09718},{lat:47.85193,lng:39.08354},{lat:47.85594,lng:39.08363},{lat:47.86013,lng:39.08356},{lat:47.86835,lng:39.0836},{lat:47.86965,lng:39.08359},{lat:47.86988,lng:39.06466},{lat:47.86985,lng:39.0536},{lat:47.86982,lng:39.04208},{lat:47.8698,lng:39.01923},{lat:47.86971,lng:39.0132},{lat:47.87012,lng:38.99996},{lat:47.8701,lng:38.987},{lat:47.8695,lng:38.95473},{lat:47.87022,lng:38.95272},{lat:47.8717,lng:38.94909},{lat:47.8728,lng:38.94592},{lat:47.87345,lng:38.94192},{lat:47.8737,lng:38.93761},{lat:47.87411,lng:38.93157},{lat:47.87467,lng:38.92523},{lat:47.87525,lng:38.91785},{lat:47.87569,lng:38.91442},{lat:47.87567,lng:38.91357},{lat:47.87561,lng:38.91284},{lat:47.87534,lng:38.91212},{lat:47.87476,lng:38.91151},{lat:47.87304,lng:38.90997},{lat:47.87276,lng:38.90824},{lat:47.87273,lng:38.90613},{lat:47.87278,lng:38.90333},{lat:47.87301,lng:38.90173},{lat:47.87351,lng:38.90054},{lat:47.87431,lng:38.89956},{lat:47.87458,lng:38.89873},{lat:47.87499,lng:38.89675},{lat:47.87494,lng:38.89576},{lat:47.87461,lng:38.89501},{lat:47.87383,lng:38.89418},{lat:47.8737,lng:38.89319},{lat:47.87414,lng:38.89237},{lat:47.8745,lng:38.89122},{lat:47.87434,lng:38.88964},{lat:47.87479,lng:38.88823},{lat:47.87515,lng:38.88685},{lat:47.87545,lng:38.88504},{lat:47.87642,lng:38.8822},{lat:47.87644,lng:38.88063},{lat:47.87628,lng:38.88022},{lat:47.87588,lng:38.87987},{lat:47.87507,lng:38.88021},{lat:47.87399,lng:38.88096},{lat:47.87277,lng:38.881},{lat:47.87121,lng:38.88005},{lat:47.8679,lng:38.87667},{lat:47.86652,lng:38.87003},{lat:47.86563,lng:38.85952},{lat:47.86549,lng:38.85186},{lat:47.8654,lng:38.84533},{lat:47.8667,lng:38.84538},{lat:47.86699,lng:38.84471},{lat:47.86734,lng:38.84411},{lat:47.86663,lng:38.84317},{lat:47.86612,lng:38.84197},{lat:47.86526,lng:38.83945},{lat:47.86492,lng:38.8391},{lat:47.86467,lng:38.83928},{lat:47.86462,lng:38.83971},{lat:47.8643,lng:38.84014},{lat:47.8631,lng:38.83915},{lat:47.86206,lng:38.83836},{lat:47.86143,lng:38.83825},{lat:47.86033,lng:38.83837},{lat:47.85884,lng:38.83902},{lat:47.85843,lng:38.83935},{lat:47.85779,lng:38.84015},{lat:47.85732,lng:38.84024},{lat:47.85698,lng:38.8398},{lat:47.85661,lng:38.83876},{lat:47.85618,lng:38.83819},{lat:47.85478,lng:38.83817},{lat:47.8534,lng:38.83823},{lat:47.85221,lng:38.83756},{lat:47.8519,lng:38.8364},{lat:47.85157,lng:38.83592},{lat:47.85116,lng:38.83565},{lat:47.85075,lng:38.83534},{lat:47.85029,lng:38.83463},{lat:47.85012,lng:38.83203},{lat:47.84986,lng:38.8312},{lat:47.84865,lng:38.83109},{lat:47.84836,lng:38.82996},{lat:47.84796,lng:38.82922},{lat:47.84718,lng:38.82898},{lat:47.84556,lng:38.82798},{lat:47.84408,lng:38.82781},{lat:47.84267,lng:38.82758},{lat:47.84112,lng:38.82684},{lat:47.84047,lng:38.8269},{lat:47.83913,lng:38.82768},{lat:47.83706,lng:38.82767},{lat:47.83496,lng:38.82757},{lat:47.83418,lng:38.82759},{lat:47.83337,lng:38.82821},{lat:47.83282,lng:38.82803},{lat:47.83274,lng:38.82839},{lat:47.8329,lng:38.82986},{lat:47.8327,lng:38.83003},{lat:47.83247,lng:38.83006},{lat:47.83219,lng:38.82999},{lat:47.83199,lng:38.83002},{lat:47.83164,lng:38.8301},{lat:47.83137,lng:38.83003},{lat:47.831,lng:38.82978},{lat:47.83075,lng:38.82967},{lat:47.83048,lng:38.82981},{lat:47.8301,lng:38.83027},{lat:47.82972,lng:38.83054},{lat:47.8291,lng:38.83053},{lat:47.82894,lng:38.83082},{lat:47.82893,lng:38.83157},{lat:47.8288,lng:38.83187},{lat:47.82855,lng:38.83198},{lat:47.82829,lng:38.83193},{lat:47.82801,lng:38.83187},{lat:47.82774,lng:38.83186},{lat:47.82731,lng:38.83208},{lat:47.82746,lng:38.83286},{lat:47.82778,lng:38.83288},{lat:47.82813,lng:38.83305},{lat:47.82831,lng:38.83319},{lat:47.82834,lng:38.8336},{lat:47.82819,lng:38.8339},{lat:47.82801,lng:38.83438},{lat:47.82796,lng:38.83526},{lat:47.82791,lng:38.83573},{lat:47.8277,lng:38.83594},{lat:47.82654,lng:38.83521},{lat:47.82554,lng:38.83407},{lat:47.82462,lng:38.83257},{lat:47.82311,lng:38.83084},{lat:47.82003,lng:38.83067},{lat:47.81557,lng:38.83058},{lat:47.81511,lng:38.83018},{lat:47.8149,lng:38.8297},{lat:47.81532,lng:38.82857},{lat:47.81546,lng:38.82757},{lat:47.81549,lng:38.82671},{lat:47.81551,lng:38.81854},{lat:47.81556,lng:38.80938},{lat:47.81585,lng:38.79171},{lat:47.81546,lng:38.79092},{lat:47.81023,lng:38.79117},{lat:47.80462,lng:38.79142},{lat:47.80054,lng:38.79137},{lat:47.79913,lng:38.79191},{lat:47.79807,lng:38.79222},{lat:47.79777,lng:38.79217},{lat:47.79674,lng:38.79186},{lat:47.79561,lng:38.79119},{lat:47.79335,lng:38.78824},{lat:47.79216,lng:38.78579},{lat:47.79186,lng:38.78555},{lat:47.79122,lng:38.78542},{lat:47.7895,lng:38.78548},{lat:47.78852,lng:38.78553},{lat:47.78787,lng:38.78573},{lat:47.78722,lng:38.78605},{lat:47.78608,lng:38.78682},{lat:47.7856,lng:38.78725},{lat:47.78511,lng:38.78776},{lat:47.78495,lng:38.7888},{lat:47.78496,lng:38.78905},{lat:47.78499,lng:38.78956},{lat:47.78512,lng:38.79003},{lat:47.78515,lng:38.7908},{lat:47.7851,lng:38.7912},{lat:47.78502,lng:38.79221},{lat:47.78507,lng:38.79387},{lat:47.78489,lng:38.7947},{lat:47.78467,lng:38.79481},{lat:47.78447,lng:38.79476},{lat:47.78431,lng:38.79473},{lat:47.78413,lng:38.79463},{lat:47.78395,lng:38.79453},{lat:47.78383,lng:38.79439},{lat:47.78338,lng:38.79381},{lat:47.78292,lng:38.79326},{lat:47.78253,lng:38.79271},{lat:47.78217,lng:38.79226},{lat:47.78142,lng:38.79199},{lat:47.78077,lng:38.79159},{lat:47.7804,lng:38.79131},{lat:47.78009,lng:38.79095},{lat:47.77975,lng:38.79066},{lat:47.77942,lng:38.79047},{lat:47.77911,lng:38.79039},{lat:47.77883,lng:38.79044},{lat:47.7783,lng:38.79097},{lat:47.77829,lng:38.792},{lat:47.77837,lng:38.79304},{lat:47.77816,lng:38.79386},{lat:47.77741,lng:38.79412},{lat:47.77705,lng:38.79498},{lat:47.77713,lng:38.79708},{lat:47.77674,lng:38.79728},{lat:47.77626,lng:38.79718},{lat:47.7756,lng:38.79725},{lat:47.77512,lng:38.79749},{lat:47.77464,lng:38.79807},{lat:47.77414,lng:38.79825},{lat:47.77356,lng:38.79778},{lat:47.77298,lng:38.79475},{lat:47.77198,lng:38.79464},{lat:47.77016,lng:38.79541},{lat:47.7691,lng:38.79502},{lat:47.76901,lng:38.79389},{lat:47.76891,lng:38.79074},{lat:47.75536,lng:38.79091},{lat:47.74652,lng:38.79117},{lat:47.74199,lng:38.79087},{lat:47.73745,lng:38.79109},{lat:47.73703,lng:38.79005},{lat:47.73689,lng:38.78884},{lat:47.73694,lng:38.78437},{lat:47.73629,lng:38.78056},{lat:47.73562,lng:38.77835},{lat:47.73399,lng:38.77691},{lat:47.73141,lng:38.77822},{lat:47.73024,lng:38.77782},{lat:47.72909,lng:38.77616},{lat:47.72782,lng:38.77382},{lat:47.72662,lng:38.77291},{lat:47.72521,lng:38.77279},{lat:47.72407,lng:38.77237},{lat:47.72323,lng:38.77156},{lat:47.72234,lng:38.77143},{lat:47.7207,lng:38.77198},{lat:47.72025,lng:38.77401},{lat:47.71928,lng:38.77447},{lat:47.71432,lng:38.77407},{lat:47.70578,lng:38.77397},{lat:47.69714,lng:38.77461},{lat:47.68799,lng:38.77485},{lat:47.68546,lng:38.77512},{lat:47.68547,lng:38.76715},{lat:47.68557,lng:38.76056},{lat:47.68572,lng:38.75681},{lat:47.68646,lng:38.75587},{lat:47.68671,lng:38.75527},{lat:47.6867,lng:38.75464},{lat:47.68592,lng:38.75418},{lat:47.68497,lng:38.75341},{lat:47.68516,lng:38.75243},{lat:47.6856,lng:38.75135},{lat:47.68572,lng:38.75004},{lat:47.68648,lng:38.74824},{lat:47.68634,lng:38.74783},{lat:47.68594,lng:38.74737},{lat:47.68494,lng:38.74668},{lat:47.68451,lng:38.74629},{lat:47.68407,lng:38.7462},{lat:47.6831,lng:38.74629},{lat:47.6821,lng:38.74577},{lat:47.68124,lng:38.7448},{lat:47.68088,lng:38.7436},{lat:47.68075,lng:38.74244},{lat:47.68109,lng:38.74159},{lat:47.68129,lng:38.7404},{lat:47.68078,lng:38.73936},{lat:47.68038,lng:38.7383},{lat:47.68134,lng:38.73677},{lat:47.68278,lng:38.73703},{lat:47.68332,lng:38.73742},{lat:47.6837,lng:38.73833},{lat:47.68427,lng:38.74144},{lat:47.68535,lng:38.74158},{lat:47.68843,lng:38.73936},{lat:47.68819,lng:38.73827},{lat:47.68787,lng:38.73715},{lat:47.68807,lng:38.73604},{lat:47.68914,lng:38.73481},{lat:47.69006,lng:38.73242},{lat:47.69093,lng:38.73143},{lat:47.69173,lng:38.73158},{lat:47.69227,lng:38.73169},{lat:47.6927,lng:38.73232},{lat:47.69459,lng:38.73664},{lat:47.69558,lng:38.73696},{lat:47.69675,lng:38.73677},{lat:47.69781,lng:38.73746},{lat:47.69893,lng:38.73755},{lat:47.69994,lng:38.73635},{lat:47.70052,lng:38.73474},{lat:47.6997,lng:38.73332},{lat:47.69972,lng:38.73104},{lat:47.69888,lng:38.72887},{lat:47.69909,lng:38.72713},{lat:47.69899,lng:38.71579},{lat:47.69906,lng:38.70282},{lat:47.69861,lng:38.69705},{lat:47.69918,lng:38.67999},{lat:47.69945,lng:38.66979},{lat:47.70017,lng:38.66832},{lat:47.69986,lng:38.66588},{lat:47.69908,lng:38.66093},{lat:47.69838,lng:38.66115},{lat:47.69736,lng:38.66706},{lat:47.6832,lng:38.66732},{lat:47.66868,lng:38.66802},{lat:47.66929,lng:38.63917},{lat:47.66886,lng:38.63093},{lat:47.65377,lng:38.63149},{lat:47.65382,lng:38.62775},{lat:47.64937,lng:38.62376},{lat:47.64692,lng:38.62035},{lat:47.644,lng:38.6178},{lat:47.644,lng:38.59282},{lat:47.64499,lng:38.56425},{lat:47.64493,lng:38.54485},{lat:47.64443,lng:38.47345},{lat:47.64365,lng:38.45854},{lat:47.61675,lng:38.45859},{lat:47.61686,lng:38.45023},{lat:47.61754,lng:38.43045},{lat:47.61666,lng:38.40673},{lat:47.61717,lng:38.4012},{lat:47.61725,lng:38.36715},{lat:47.6164,lng:38.3525},{lat:47.57616,lng:38.35322},{lat:47.57623,lng:38.31336},{lat:47.55714,lng:38.31406},{lat:47.55401,lng:38.31391},{lat:47.55257,lng:38.31118},{lat:47.55078,lng:38.3105},{lat:47.54927,lng:38.31026},{lat:47.548,lng:38.30726},{lat:47.54713,lng:38.30899},{lat:47.54589,lng:38.30737},{lat:47.54441,lng:38.30815},{lat:47.54465,lng:38.29559},{lat:47.5445,lng:38.28585},{lat:47.5372,lng:38.28584},{lat:47.52856,lng:38.28592},{lat:47.51114,lng:38.28598},{lat:47.50885,lng:38.28589},{lat:47.50809,lng:38.28674},{lat:47.50738,lng:38.2881},{lat:47.50679,lng:38.29467},{lat:47.50644,lng:38.2945},{lat:47.50606,lng:38.29411},{lat:47.5055,lng:38.29396},{lat:47.50528,lng:38.29416},{lat:47.50495,lng:38.29496},{lat:47.50438,lng:38.2957},{lat:47.50365,lng:38.29593},{lat:47.50209,lng:38.29576},{lat:47.5017,lng:38.29549},{lat:47.50011,lng:38.29346},{lat:47.49826,lng:38.29253},{lat:47.49611,lng:38.29244},{lat:47.49338,lng:38.29248},{lat:47.49316,lng:38.29313},{lat:47.49246,lng:38.29374},{lat:47.49202,lng:38.29381},{lat:47.49054,lng:38.2932},{lat:47.49,lng:38.29182},{lat:47.48971,lng:38.29111},{lat:47.48942,lng:38.29057},{lat:47.48904,lng:38.29029},{lat:47.48865,lng:38.29017},{lat:47.48762,lng:38.28989},{lat:47.48672,lng:38.2887},{lat:47.48639,lng:38.28846},{lat:47.48628,lng:38.28853},{lat:47.48576,lng:38.28871},{lat:47.4852,lng:38.28876},{lat:47.48381,lng:38.28867},{lat:47.48352,lng:38.28904},{lat:47.48289,lng:38.28923},{lat:47.48233,lng:38.2893},{lat:47.48166,lng:38.28983},{lat:47.48012,lng:38.28991},{lat:47.47955,lng:38.28924},{lat:47.47907,lng:38.28924},{lat:47.47853,lng:38.29028},{lat:47.47794,lng:38.2904},{lat:47.47763,lng:38.28995},{lat:47.47727,lng:38.28984},{lat:47.47644,lng:38.29046},{lat:47.47649,lng:38.29215},{lat:47.47586,lng:38.29431},{lat:47.47593,lng:38.29524},{lat:47.47611,lng:38.29582},{lat:47.47622,lng:38.29707},{lat:47.47558,lng:38.29988},{lat:47.4755,lng:38.30238},{lat:47.47553,lng:38.30437},{lat:47.46659,lng:38.30453},{lat:47.45658,lng:38.30474},{lat:47.43632,lng:38.30496},{lat:47.41449,lng:38.30458},{lat:47.39521,lng:38.30317},{lat:47.39213,lng:38.30318},{lat:47.39207,lng:38.29558},{lat:47.3921,lng:38.2874},{lat:47.38852,lng:38.28749},{lat:47.38382,lng:38.28804},{lat:47.37888,lng:38.28869},{lat:47.37432,lng:38.28903},{lat:47.37411,lng:38.28441},{lat:47.37409,lng:38.2733},{lat:47.374,lng:38.25965},{lat:47.37223,lng:38.25721},{lat:47.37179,lng:38.25621},{lat:47.37146,lng:38.25589},{lat:47.37055,lng:38.25569},{lat:47.36994,lng:38.25526},{lat:47.36965,lng:38.25471},{lat:47.36955,lng:38.25305},{lat:47.36665,lng:38.24985},{lat:47.3655,lng:38.24823},{lat:47.36484,lng:38.2464},{lat:47.36442,lng:38.24602},{lat:47.36389,lng:38.24594},{lat:47.36336,lng:38.24607},{lat:47.36104,lng:38.24813},{lat:47.35971,lng:38.2486},{lat:47.35849,lng:38.24941},{lat:47.35315,lng:38.24736},{lat:47.35173,lng:38.24744},{lat:47.35068,lng:38.24688},{lat:47.34864,lng:38.24443},{lat:47.3471,lng:38.24134},{lat:47.34614,lng:38.23893},{lat:47.34514,lng:38.23359},{lat:47.34425,lng:38.23227},{lat:47.34217,lng:38.23219},{lat:47.33968,lng:38.23203},{lat:47.33875,lng:38.23138},{lat:47.33734,lng:38.22801},{lat:47.33453,lng:38.22438},{lat:47.33326,lng:38.22372},{lat:47.33232,lng:38.22631},{lat:47.3315,lng:38.22813},{lat:47.33051,lng:38.22842},{lat:47.32941,lng:38.22769},{lat:47.32778,lng:38.22364},{lat:47.327,lng:38.22237},{lat:47.32319,lng:38.22257},{lat:47.31686,lng:38.22261},{lat:47.30609,lng:38.223},{lat:47.30551,lng:38.23931},{lat:47.30565,lng:38.24964},{lat:47.30556,lng:38.25414},{lat:47.30569,lng:38.28028},{lat:47.30588,lng:38.30827},{lat:47.3062,lng:38.33737},{lat:47.3051,lng:38.33645},{lat:47.30378,lng:38.33548},{lat:47.29234,lng:38.33514},{lat:47.29093,lng:38.33357},{lat:47.28906,lng:38.33216},{lat:47.28753,lng:38.33043},{lat:47.28272,lng:38.32486},{lat:47.28179,lng:38.32379},{lat:47.28098,lng:38.3237},{lat:47.27964,lng:38.326},{lat:47.27929,lng:38.32754},{lat:47.27682,lng:38.33019},{lat:47.27564,lng:38.33323},{lat:47.27368,lng:38.33392},{lat:47.27171,lng:38.33418},{lat:47.26962,lng:38.33406},{lat:47.26815,lng:38.3322},{lat:47.26752,lng:38.33129},{lat:47.26642,lng:38.33103},{lat:47.26477,lng:38.33234},{lat:47.2639,lng:38.33226},{lat:47.26169,lng:38.33009},{lat:47.25952,lng:38.32786},{lat:47.25643,lng:38.32476},{lat:47.25624,lng:38.32081},{lat:47.25627,lng:38.31514},{lat:47.2563,lng:38.3052},{lat:47.25631,lng:38.28989},{lat:47.25373,lng:38.29007},{lat:47.24994,lng:38.29029},{lat:47.24238,lng:38.29065},{lat:47.23934,lng:38.29054},{lat:47.23944,lng:38.28293},{lat:47.23942,lng:38.27584},{lat:47.23927,lng:38.263},{lat:47.23866,lng:38.26249},{lat:47.23736,lng:38.26084},{lat:47.23553,lng:38.25899},{lat:47.23525,lng:38.25823},{lat:47.23511,lng:38.25703},{lat:47.23409,lng:38.25564},{lat:47.23353,lng:38.25442},{lat:47.23343,lng:38.25225},{lat:47.23326,lng:38.25093},{lat:47.23342,lng:38.25015},{lat:47.23404,lng:38.24851},{lat:47.23416,lng:38.24773},{lat:47.23312,lng:38.24449},{lat:47.233,lng:38.24236},{lat:47.23297,lng:38.24097},{lat:47.23262,lng:38.23972},{lat:47.23173,lng:38.23882},{lat:47.23131,lng:38.23787},{lat:47.23107,lng:38.23628},{lat:47.23076,lng:38.23567},{lat:47.22981,lng:38.23494},{lat:47.2287,lng:38.23496},{lat:47.22736,lng:38.23531},{lat:47.22674,lng:38.23574},{lat:47.22616,lng:38.23653},{lat:47.2256,lng:38.23754},{lat:47.22431,lng:38.23907},{lat:47.22364,lng:38.23965},{lat:47.2229,lng:38.23972},{lat:47.22244,lng:38.23994},{lat:47.22203,lng:38.24095},{lat:47.2215,lng:38.2414},{lat:47.22098,lng:38.24144},{lat:47.22041,lng:38.2412},{lat:47.21975,lng:38.24104},{lat:47.21911,lng:38.24115},{lat:47.21856,lng:38.24165},{lat:47.21868,lng:38.24274},{lat:47.21859,lng:38.2432},{lat:47.21854,lng:38.24371},{lat:47.21795,lng:38.24401},{lat:47.21712,lng:38.24398},{lat:47.21445,lng:38.24235},{lat:47.21353,lng:38.24234},{lat:47.21261,lng:38.24268},{lat:47.21165,lng:38.2422},{lat:47.2105,lng:38.24227},{lat:47.20959,lng:38.24174},{lat:47.20911,lng:38.24094},{lat:47.20849,lng:38.23864},{lat:47.20814,lng:38.23826},{lat:47.20665,lng:38.23818},{lat:47.20318,lng:38.23801},{lat:47.19635,lng:38.23802},{lat:47.18229,lng:38.23812},{lat:47.17126,lng:38.23826},{lat:47.16006,lng:38.23789},{lat:47.15705,lng:38.23785},{lat:47.15389,lng:38.23798},{lat:47.1477,lng:38.23781},{lat:47.13863,lng:38.23723},{lat:47.13441,lng:38.23539},{lat:47.12984,lng:38.23399},{lat:47.12747,lng:38.23158},{lat:47.12611,lng:38.23063},{lat:47.12475,lng:38.23028},{lat:47.12266,lng:38.23036},{lat:47.11945,lng:38.23081},{lat:47.11844,lng:38.22633},{lat:47.11346,lng:38.22117},{lat:47.10642,lng:38.21119},{lat:47.09973,lng:38.1976},{lat:47.0921,lng:38.18607},{lat:47.06802,lng:38.16376},{lat:47.04954,lng:38.13766},{lat:47.03995,lng:38.11363},{lat:47.02216,lng:38.08308},{lat:47.02404,lng:38.08308},{lat:47.04458,lng:38.11711},{lat:47.05445,lng:38.13389},{lat:47.07246,lng:38.13148},{lat:47.09444,lng:38.11192},{lat:47.10846,lng:38.07999},{lat:47.11126,lng:38.05664},{lat:47.10635,lng:38.04806},{lat:47.08953,lng:38.03741},{lat:47.09654,lng:38.00308},{lat:47.09958,lng:37.98008},{lat:47.08742,lng:37.98283},{lat:47.08766,lng:37.96909},{lat:47.0942,lng:37.94987},{lat:47.10448,lng:37.92412},{lat:47.11056,lng:37.89768},{lat:47.11041,lng:37.88811},{lat:47.10769,lng:37.88077},{lat:47.10676,lng:37.86541},{lat:47.10343,lng:37.85228},{lat:47.11027,lng:37.85014},{lat:47.11553,lng:37.85151},{lat:47.11667,lng:37.84807},{lat:47.11851,lng:37.8467},{lat:47.12516,lng:37.84661},{lat:47.1261,lng:37.84309},{lat:47.12674,lng:37.83373},{lat:47.12864,lng:37.82756},{lat:47.13474,lng:37.82713},{lat:47.13609,lng:37.82129},{lat:47.13927,lng:37.82137},{lat:47.14409,lng:37.82138},{lat:47.15085,lng:37.82399},{lat:47.15936,lng:37.82358},{lat:47.16467,lng:37.81872},{lat:47.16852,lng:37.81199},{lat:47.17518,lng:37.80113},{lat:47.18183,lng:37.80269},{lat:47.18531,lng:37.82332},{lat:47.18699,lng:37.83561},{lat:47.18983,lng:37.84481},{lat:47.19788,lng:37.85228},{lat:47.20103,lng:37.84275},{lat:47.20802,lng:37.84241},{lat:47.2184,lng:37.83812},{lat:47.22516,lng:37.8273},{lat:47.23508,lng:37.82731},{lat:47.2437,lng:37.82971},{lat:47.25593,lng:37.83434},{lat:47.26805,lng:37.83108},{lat:47.2776,lng:37.82181},{lat:47.28447,lng:37.81134},{lat:47.28598,lng:37.80121},{lat:47.28913,lng:37.79915},{lat:47.30473,lng:37.80704},{lat:47.30834,lng:37.82318},{lat:47.30228,lng:37.83073},{lat:47.29902,lng:37.83245},{lat:47.30903,lng:37.84447},{lat:47.31765,lng:37.83245},{lat:47.32137,lng:37.8273},{lat:47.34208,lng:37.83554},{lat:47.34092,lng:37.85339},{lat:47.34673,lng:37.86438},{lat:47.35673,lng:37.85992},{lat:47.34976,lng:37.8479},{lat:47.35743,lng:37.84},{lat:47.36441,lng:37.85545},{lat:47.37324,lng:37.84241},{lat:47.38487,lng:37.85133},{lat:47.38998,lng:37.86095},{lat:47.40857,lng:37.85923},{lat:47.4181,lng:37.86129},{lat:47.42704,lng:37.86335},{lat:47.43285,lng:37.86867},{lat:47.44562,lng:37.86678},{lat:47.45131,lng:37.86987},{lat:47.46001,lng:37.8788},{lat:47.46918,lng:37.8891},{lat:47.47243,lng:37.89219},{lat:47.48757,lng:37.8867},{lat:47.5012,lng:37.86944},{lat:47.50827,lng:37.85923},{lat:47.51703,lng:37.85108},{lat:47.52989,lng:37.84395},{lat:47.54374,lng:37.83889},{lat:47.55602,lng:37.83743},{lat:47.56819,lng:37.83708},{lat:47.57722,lng:37.83991},{lat:47.58463,lng:37.84515},{lat:47.59528,lng:37.84378},{lat:47.60784,lng:37.86249},{lat:47.61826,lng:37.87056},{lat:47.6315,lng:37.87258},{lat:47.63095,lng:37.85421},{lat:47.63414,lng:37.84018},{lat:47.63761,lng:37.82773},{lat:47.64044,lng:37.81674},{lat:47.65122,lng:37.79855},{lat:47.66241,lng:37.77765},{lat:47.66562,lng:37.7658},{lat:47.6625,lng:37.75752},{lat:47.66521,lng:37.75649},{lat:47.66943,lng:37.75477},{lat:47.67232,lng:37.75237},{lat:47.67562,lng:37.74568},{lat:47.67874,lng:37.74035},{lat:47.68128,lng:37.73589},{lat:47.68382,lng:37.73091},{lat:47.68567,lng:37.72739},{lat:47.68608,lng:37.72499},{lat:47.68637,lng:37.7219},{lat:47.68741,lng:37.71795},{lat:47.69006,lng:37.71023},{lat:47.68931,lng:37.70328},{lat:47.68925,lng:37.69581},{lat:47.68423,lng:37.68208},{lat:47.68538,lng:37.6589},{lat:47.69786,lng:37.63968},{lat:47.70503,lng:37.63247},{lat:47.71045,lng:37.63109},{lat:47.73066,lng:37.62354},{lat:47.75179,lng:37.6244},{lat:47.77071,lng:37.61908},{lat:47.78283,lng:37.62062},{lat:47.79228,lng:37.62732},{lat:47.80024,lng:37.63573},{lat:47.8082,lng:37.63968},{lat:47.82168,lng:37.64671},{lat:47.82929,lng:37.64791},{lat:47.84116,lng:37.64465},{lat:47.85337,lng:37.64088},{lat:47.86431,lng:37.64603},{lat:47.89977,lng:37.62268},{lat:47.90898,lng:37.58801},{lat:47.90967,lng:37.56844},{lat:47.91634,lng:37.54578},{lat:47.92068,lng:37.54457},{lat:47.92498,lng:37.54849},{lat:47.92692,lng:37.55164},{lat:47.93032,lng:37.55143},{lat:47.93202,lng:37.55273},{lat:47.93321,lng:37.55156},{lat:47.93359,lng:37.549},{lat:47.93334,lng:37.54744},{lat:47.93496,lng:37.54516},{lat:47.93504,lng:37.54261},{lat:47.93574,lng:37.54094},{lat:47.93687,lng:37.53578},{lat:47.9379,lng:37.53296},{lat:47.93791,lng:37.52874},{lat:47.93851,lng:37.52732},{lat:47.9394,lng:37.52561},{lat:47.94007,lng:37.52415},{lat:47.9405,lng:37.52149},{lat:47.94188,lng:37.51797},{lat:47.94251,lng:37.51694},{lat:47.94412,lng:37.51531},{lat:47.9449,lng:37.51582},{lat:47.94602,lng:37.5175},{lat:47.94711,lng:37.51895},{lat:47.94892,lng:37.51968},{lat:47.95027,lng:37.51947},{lat:47.95004,lng:37.52213},{lat:47.94995,lng:37.5235},{lat:47.95467,lng:37.53028},{lat:47.95383,lng:37.53492},{lat:47.95953,lng:37.53724},{lat:47.96249,lng:37.53908},{lat:47.96513,lng:37.53839},{lat:47.96797,lng:37.53659},{lat:47.96912,lng:37.53814},{lat:47.97108,lng:37.53977},{lat:47.97113,lng:37.54509},{lat:47.97119,lng:37.54809},{lat:47.97332,lng:37.55204},{lat:47.97539,lng:37.55762},{lat:47.97728,lng:37.56097},{lat:47.97636,lng:37.56483},{lat:47.97625,lng:37.56801},{lat:47.97642,lng:37.57496},{lat:47.97728,lng:37.57685},{lat:47.98377,lng:37.57582},{lat:47.98883,lng:37.57487},{lat:47.99159,lng:37.57376},{lat:47.99509,lng:37.56303},{lat:47.99549,lng:37.5608},{lat:47.99601,lng:37.55788},{lat:48.00175,lng:37.55908},{lat:48.00451,lng:37.56028},{lat:48.00606,lng:37.56346},{lat:48.01243,lng:37.59109},{lat:48.01083,lng:37.61581},{lat:48.00692,lng:37.62268},{lat:48.00853,lng:37.63487},{lat:48.00979,lng:37.64929},{lat:48.00991,lng:37.66972},{lat:48.01175,lng:37.67881},{lat:48.01777,lng:37.69323},{lat:48.0202,lng:37.68931},{lat:48.0232,lng:37.68564},{lat:48.02576,lng:37.68835},{lat:48.02868,lng:37.69272},{lat:48.03335,lng:37.6856},{lat:48.03772,lng:37.67984},{lat:48.03967,lng:37.67693},{lat:48.0411,lng:37.67487},{lat:48.04705,lng:37.68585},{lat:48.04957,lng:37.68779},{lat:48.05014,lng:37.68752},{lat:48.05164,lng:37.68937},{lat:48.05313,lng:37.6916},{lat:48.05114,lng:37.69504},{lat:48.05035,lng:37.69641},{lat:48.05376,lng:37.70075},{lat:48.05545,lng:37.70328},{lat:48.05648,lng:37.7053},{lat:48.05703,lng:37.70748},{lat:48.05838,lng:37.70358},{lat:48.05953,lng:37.69881},{lat:48.06102,lng:37.69143},{lat:48.06153,lng:37.68736},{lat:48.06239,lng:37.68731},{lat:48.06406,lng:37.6877},{lat:48.06363,lng:37.69523},{lat:48.06457,lng:37.69504},{lat:48.06566,lng:37.70096},{lat:48.07099,lng:37.69993},{lat:48.07114,lng:37.70225},{lat:48.0716,lng:37.73289},{lat:48.07234,lng:37.73752},{lat:48.07372,lng:37.74087},{lat:48.0755,lng:37.74396},{lat:48.07687,lng:37.74568},{lat:48.07968,lng:37.74722},{lat:48.08037,lng:37.74911},{lat:48.07951,lng:37.75271},{lat:48.08037,lng:37.75563},{lat:48.08364,lng:37.75529},{lat:48.08484,lng:37.75675},{lat:48.08482,lng:37.75997},{lat:48.08562,lng:37.76258},{lat:48.08656,lng:37.76503},{lat:48.0884,lng:37.76696},{lat:48.09136,lng:37.76859},{lat:48.09459,lng:37.76928},{lat:48.09703,lng:37.77524},{lat:48.09954,lng:37.78316},{lat:48.10099,lng:37.78871},{lat:48.10551,lng:37.79271},{lat:48.10922,lng:37.79438},{lat:48.11012,lng:37.79454},{lat:48.11093,lng:37.79432},{lat:48.11186,lng:37.79369},{lat:48.11441,lng:37.79147},{lat:48.1162,lng:37.79655},{lat:48.11696,lng:37.79777},{lat:48.11752,lng:37.79789},{lat:48.11808,lng:37.79789},{lat:48.11816,lng:37.79759},{lat:48.11865,lng:37.79771},{lat:48.11903,lng:37.79785},{lat:48.11987,lng:37.79947},{lat:48.12058,lng:37.79894},{lat:48.12097,lng:37.79893},{lat:48.12136,lng:37.79858},{lat:48.122,lng:37.79909},{lat:48.12285,lng:37.80294},{lat:48.12363,lng:37.8029},{lat:48.12481,lng:37.80628},{lat:48.12418,lng:37.80668},{lat:48.12317,lng:37.80783},{lat:48.12433,lng:37.81024},{lat:48.12703,lng:37.81529},{lat:48.13029,lng:37.82095},{lat:48.13453,lng:37.81512},{lat:48.14072,lng:37.80636},{lat:48.14822,lng:37.80207},{lat:48.14911,lng:37.80654},{lat:48.14823,lng:37.8113},{lat:48.14862,lng:37.81589},{lat:48.15008,lng:37.82314},{lat:48.15409,lng:37.82301},{lat:48.15662,lng:37.82498},{lat:48.15855,lng:37.83073},{lat:48.1602,lng:37.8365},{lat:48.16151,lng:37.83742},{lat:48.16299,lng:37.83756},{lat:48.16792,lng:37.84313},{lat:48.17112,lng:37.84663},{lat:48.17587,lng:37.84695},{lat:48.17885,lng:37.84989},{lat:48.18045,lng:37.85138},{lat:48.18383,lng:37.84801},{lat:48.18766,lng:37.84464},{lat:48.19144,lng:37.8649},{lat:48.19264,lng:37.88343},{lat:48.19925,lng:37.89746},{lat:48.21049,lng:37.90309},{lat:48.21443,lng:37.90738},{lat:48.22238,lng:37.92403},{lat:48.2297,lng:37.92854},{lat:48.23565,lng:37.94403},{lat:48.24608,lng:37.92948},{lat:48.2548,lng:37.92781},{lat:48.2626,lng:37.93072},{lat:48.27862,lng:37.943},{lat:48.29096,lng:37.93751},{lat:48.29456,lng:37.92171},{lat:48.30261,lng:37.91708},{lat:48.30625,lng:37.90348},{lat:48.31006,lng:37.90755},{lat:48.30677,lng:37.91966},{lat:48.31057,lng:37.91957},{lat:48.3162,lng:37.92068},{lat:48.32093,lng:37.92043},{lat:48.32441,lng:37.91733},{lat:48.32493,lng:37.90622},{lat:48.32955,lng:37.90953},{lat:48.33275,lng:37.91193},{lat:48.34073,lng:37.91845},{lat:48.34267,lng:37.92995},{lat:48.34667,lng:37.93339},{lat:48.35226,lng:37.93922},{lat:48.35579,lng:37.94077},{lat:48.36172,lng:37.9418},{lat:48.37108,lng:37.93734},{lat:48.38886,lng:37.9497},{lat:48.39091,lng:37.96394},{lat:48.38909,lng:37.97716},{lat:48.37894,lng:37.99793},{lat:48.39171,lng:38.0036},{lat:48.39764,lng:37.99913},{lat:48.3977,lng:38.00762},{lat:48.39491,lng:38.01501},{lat:48.39639,lng:38.02599},{lat:48.40374,lng:38.04362},{lat:48.41155,lng:38.05833},{lat:48.41252,lng:38.08137},{lat:48.41223,lng:38.09525},{lat:48.41354,lng:38.11111},{lat:48.41375,lng:38.12337},{lat:48.41542,lng:38.13698},{lat:48.41416,lng:38.16221},{lat:48.41451,lng:38.19354},{lat:48.40715,lng:38.20401},{lat:48.40282,lng:38.21285},{lat:48.39884,lng:38.21551},{lat:48.39536,lng:38.22057},{lat:48.39137,lng:38.22144},{lat:48.3875,lng:38.22187},{lat:48.38465,lng:38.22573},{lat:48.3839,lng:38.22899},{lat:48.3794,lng:38.23139},{lat:48.37575,lng:38.23714},{lat:48.37338,lng:38.24358},{lat:48.37456,lng:38.25115},{lat:48.37568,lng:38.25675},{lat:48.37829,lng:38.26687},{lat:48.38076,lng:38.27654},{lat:48.38248,lng:38.28275},{lat:48.38299,lng:38.28543},{lat:48.3885,lng:38.28385},{lat:48.39142,lng:38.2804},{lat:48.39314,lng:38.28262},{lat:48.39314,lng:38.28862},{lat:48.39634,lng:38.29586},{lat:48.39989,lng:38.30138},{lat:48.40136,lng:38.30545},{lat:48.40112,lng:38.31011},{lat:48.40048,lng:38.3153},{lat:48.40019,lng:38.32151},{lat:48.40278,lng:38.32449},{lat:48.40431,lng:38.3283},{lat:48.40412,lng:38.33296},{lat:48.40422,lng:38.33735},{lat:48.40393,lng:38.34226},{lat:48.40647,lng:38.35018},{lat:48.41077,lng:38.35768},{lat:48.4173,lng:38.36287},{lat:48.41949,lng:38.36555},{lat:48.42215,lng:38.36874},{lat:48.42481,lng:38.37107},{lat:48.42473,lng:38.38011},{lat:48.42407,lng:38.38949},{lat:48.4264,lng:38.3958},{lat:48.42929,lng:38.39953},{lat:48.43234,lng:38.40092},{lat:48.43585,lng:38.4024},{lat:48.43639,lng:38.40337},{lat:48.43648,lng:38.40485},{lat:48.43422,lng:38.40974},{lat:48.43277,lng:38.41472},{lat:48.43205,lng:38.41867},{lat:48.43225,lng:38.42245},{lat:48.43374,lng:38.42833},{lat:48.43603,lng:38.43404},{lat:48.43882,lng:38.43419},{lat:48.44343,lng:38.43348},{lat:48.45095,lng:38.43481},{lat:48.45354,lng:38.43997},{lat:48.45226,lng:38.44376},{lat:48.45562,lng:38.45099},{lat:48.46461,lng:38.45206},{lat:48.47348,lng:38.45215},{lat:48.48242,lng:38.4482},{lat:48.49601,lng:38.44786},{lat:48.5066,lng:38.45344},{lat:48.51468,lng:38.46606},{lat:48.52627,lng:38.47016},{lat:48.55229,lng:38.48723},{lat:48.56677,lng:38.49379},{lat:48.58273,lng:38.50448},{lat:48.59204,lng:38.5058},{lat:48.60567,lng:38.50468},{lat:48.62048,lng:38.47725},{lat:48.62647,lng:38.46108},{lat:48.64106,lng:38.46483},{lat:48.6461,lng:38.47244},{lat:48.65214,lng:38.48705},{lat:48.65737,lng:38.50727},{lat:48.66038,lng:38.51833},{lat:48.66333,lng:38.53205},{lat:48.66969,lng:38.54385},{lat:48.67419,lng:38.54978},{lat:48.67929,lng:38.55403},{lat:48.68437,lng:38.55819},{lat:48.69102,lng:38.55993},{lat:48.69715,lng:38.56197},{lat:48.69889,lng:38.57128},{lat:48.70104,lng:38.58278},{lat:48.70671,lng:38.59617},{lat:48.71226,lng:38.61694},{lat:48.71113,lng:38.64201},{lat:48.71045,lng:38.66364},{lat:48.71294,lng:38.67393},{lat:48.71486,lng:38.68097},{lat:48.71486,lng:38.68097},{lat:48.7175,lng:38.68805},{lat:48.71755,lng:38.69102},{lat:48.7169,lng:38.69556},{lat:48.71659,lng:38.69853},{lat:48.71438,lng:38.70299},{lat:48.71495,lng:38.70784},{lat:48.71404,lng:38.71234},{lat:48.71305,lng:38.71655},{lat:48.71048,lng:38.71711},{lat:48.70694,lng:38.72492},{lat:48.69198,lng:38.78037},{lat:48.69493,lng:38.78809},{lat:48.70133,lng:38.79238},{lat:48.70517,lng:38.79864},{lat:48.72052,lng:38.80781},{lat:48.72641,lng:38.81286},{lat:48.73275,lng:38.81448},{lat:48.74164,lng:38.82068},{lat:48.74232,lng:38.82868},{lat:48.74487,lng:38.84268},{lat:48.75087,lng:38.8492},{lat:48.75029,lng:38.85274},{lat:48.75005,lng:38.85851},{lat:48.75091,lng:38.86034},{lat:48.75179,lng:38.86313},{lat:48.75185,lng:38.87062},{lat:48.75313,lng:38.87722},{lat:48.75299,lng:38.87956},{lat:48.75226,lng:38.88038},{lat:48.75101,lng:38.88096},{lat:48.751,lng:38.89233},{lat:48.75122,lng:38.89997},{lat:48.75138,lng:38.90218},{lat:48.75066,lng:38.90664},{lat:48.74889,lng:38.91111},{lat:48.74613,lng:38.91424},{lat:48.74421,lng:38.916},{lat:48.74375,lng:38.91767},{lat:48.7443,lng:38.91997},{lat:48.74544,lng:38.92126},{lat:48.74558,lng:38.92561},{lat:48.74573,lng:38.92984},{lat:48.74681,lng:38.93353},{lat:48.74762,lng:38.93529},{lat:48.74763,lng:38.93769},{lat:48.7463,lng:38.93943},{lat:48.74447,lng:38.93911},{lat:48.74329,lng:38.93784},{lat:48.74239,lng:38.9354},{lat:48.74013,lng:38.93435},{lat:48.73754,lng:38.93357},{lat:48.73624,lng:38.93497},{lat:48.7356,lng:38.93814},{lat:48.73492,lng:38.94149},{lat:48.73487,lng:38.94477},{lat:48.73512,lng:38.94859},{lat:48.73508,lng:38.95325},{lat:48.7347,lng:38.95531},{lat:48.73525,lng:38.95771},{lat:48.7363,lng:38.95883},{lat:48.73669,lng:38.95956},{lat:48.73771,lng:38.95999},{lat:48.7408,lng:38.95977},{lat:48.74363,lng:38.95881},{lat:48.74595,lng:38.95984},{lat:48.74667,lng:38.96095},{lat:48.74678,lng:38.96488},{lat:48.74527,lng:38.9684},{lat:48.74421,lng:38.97072},{lat:48.74443,lng:38.9729},{lat:48.74494,lng:38.97415},{lat:48.74549,lng:38.97621},{lat:48.74507,lng:38.98046},{lat:48.74355,lng:38.98267},{lat:48.74217,lng:38.98335},{lat:48.74013,lng:38.98355},{lat:48.73901,lng:38.98445},{lat:48.7376,lng:38.98623},{lat:48.73726,lng:38.98777},{lat:48.7359,lng:38.98992},{lat:48.73441,lng:38.99091},{lat:48.73153,lng:38.99243},{lat:48.72898,lng:38.99526},{lat:48.72759,lng:38.99636},{lat:48.72558,lng:38.99889},{lat:48.72187,lng:39.00011},{lat:48.71915,lng:39.00059},{lat:48.71746,lng:38.99956},{lat:48.71603,lng:38.99745},{lat:48.71529,lng:38.99471},{lat:48.71495,lng:38.99147},{lat:48.71406,lng:38.98835},{lat:48.71273,lng:38.98578},{lat:48.71174,lng:38.98576},{lat:48.71111,lng:38.98707},{lat:48.71066,lng:38.98942},{lat:48.71089,lng:38.99262},{lat:48.71186,lng:38.99511},{lat:48.71233,lng:38.99752},{lat:48.71196,lng:38.99906},{lat:48.71084,lng:38.99998},{lat:48.70968,lng:39.00001},{lat:48.70756,lng:38.99958},{lat:48.70412,lng:39.00061},{lat:48.70075,lng:39.00108},{lat:48.69864,lng:39.00288},{lat:48.69699,lng:39.00638},{lat:48.69656,lng:39.01082},{lat:48.69571,lng:39.01597},{lat:48.69494,lng:39.01696},{lat:48.68891,lng:39.01704},{lat:48.68555,lng:39.01638},{lat:48.68386,lng:39.01606},{lat:48.68235,lng:39.01642},{lat:48.68035,lng:39.01942},{lat:48.67919,lng:39.02082},{lat:48.67722,lng:39.02133},{lat:48.67383,lng:39.02161},{lat:48.67202,lng:39.02194},{lat:48.67053,lng:39.02425},{lat:48.66927,lng:39.0258},{lat:48.66755,lng:39.02711},{lat:48.66542,lng:39.02779},{lat:48.6636,lng:39.02902},{lat:48.66143,lng:39.02672},{lat:48.66106,lng:39.02374},{lat:48.66172,lng:39.02067},{lat:48.66285,lng:39.01837},{lat:48.66318,lng:39.01597},{lat:48.66311,lng:39.01301},{lat:48.66228,lng:39.01099},{lat:48.66082,lng:39.01114},{lat:48.65942,lng:39.01245},{lat:48.65854,lng:39.01492},{lat:48.65768,lng:39.01912},{lat:48.65646,lng:39.02224},{lat:48.65539,lng:39.02447},{lat:48.65399,lng:39.02874},{lat:48.65358,lng:39.03159},{lat:48.65246,lng:39.03436},{lat:48.65107,lng:39.03524},{lat:48.64938,lng:39.03605},{lat:48.64808,lng:39.03792},{lat:48.64801,lng:39.03906},{lat:48.64713,lng:39.04425},{lat:48.64744,lng:39.04665},{lat:48.6476,lng:39.04792},{lat:48.64758,lng:39.04923},{lat:48.64747,lng:39.05069},{lat:48.64764,lng:39.05217},{lat:48.64757,lng:39.05403},{lat:48.64817,lng:39.057},{lat:48.64907,lng:39.06075},{lat:48.65121,lng:39.07313},{lat:48.65212,lng:39.07513},{lat:48.6524,lng:39.07738},{lat:48.65225,lng:39.08067},{lat:48.65145,lng:39.08828},{lat:48.65177,lng:39.09592},{lat:48.65168,lng:39.09955},{lat:48.65086,lng:39.10206},{lat:48.6512,lng:39.10463},{lat:48.65724,lng:39.11551},{lat:48.66014,lng:39.12148},{lat:48.66126,lng:39.12467},{lat:48.66129,lng:39.13124},{lat:48.66088,lng:39.1359},{lat:48.66058,lng:39.13909},{lat:48.66155,lng:39.14079},{lat:48.66318,lng:39.14079},{lat:48.66663,lng:39.14042},{lat:48.67256,lng:39.14409},{lat:48.67691,lng:39.14939},{lat:48.67706,lng:39.15362},{lat:48.6765,lng:39.15785},{lat:48.67664,lng:39.1621},{lat:48.67892,lng:39.16755},{lat:48.68019,lng:39.17111},{lat:48.6814,lng:39.17334},{lat:48.68314,lng:39.17611},{lat:48.68561,lng:39.17967},{lat:48.68935,lng:39.18171},{lat:48.69408,lng:39.18375},{lat:48.69942,lng:39.18836},{lat:48.70286,lng:39.19199},{lat:48.70446,lng:39.19392},{lat:48.70699,lng:39.19527},{lat:48.70725,lng:39.19765},{lat:48.70657,lng:39.19903},{lat:48.7047,lng:39.19956},{lat:48.70246,lng:39.20031},{lat:48.70089,lng:39.20139},{lat:48.69988,lng:39.20308},{lat:48.69933,lng:39.20626},{lat:48.70116,lng:39.21046},{lat:48.70362,lng:39.21471},{lat:48.70617,lng:39.21926},{lat:48.7075,lng:39.22396},{lat:48.70967,lng:39.22619},{lat:48.71164,lng:39.23093},{lat:48.71217,lng:39.23469},{lat:48.71175,lng:39.23673},{lat:48.71082,lng:39.23825},{lat:48.71014,lng:39.24052},{lat:48.71072,lng:39.24325},{lat:48.71318,lng:39.24853},{lat:48.71651,lng:39.2507},{lat:48.72155,lng:39.2519},{lat:48.72531,lng:39.25316},{lat:48.72535,lng:39.25518},{lat:48.72538,lng:39.25825},{lat:48.72683,lng:39.26275},{lat:48.72807,lng:39.26464},{lat:48.7281,lng:39.26559},{lat:48.72758,lng:39.26735},{lat:48.72698,lng:39.2687},{lat:48.72765,lng:39.27057},{lat:48.7311,lng:39.27271},{lat:48.73569,lng:39.27683},{lat:48.73794,lng:39.27681},{lat:48.7398,lng:39.27621},{lat:48.74306,lng:39.27423},{lat:48.74606,lng:39.26994},{lat:48.74852,lng:39.27016},{lat:48.75073,lng:39.26947},{lat:48.75285,lng:39.26986},{lat:48.75429,lng:39.2717},{lat:48.75455,lng:39.27466},{lat:48.7539,lng:39.27668},{lat:48.75231,lng:39.2781},{lat:48.75039,lng:39.2793},{lat:48.74945,lng:39.2826},{lat:48.7503,lng:39.28638},{lat:48.75189,lng:39.28792},{lat:48.75435,lng:39.28775},{lat:48.7576,lng:39.28956},{lat:48.76066,lng:39.29071},{lat:48.76304,lng:39.29672},{lat:48.76456,lng:39.29973},{lat:48.76866,lng:39.30398},{lat:48.77237,lng:39.30681},{lat:48.77514,lng:39.31131},{lat:48.77661,lng:39.32037},{lat:48.77684,lng:39.32556},{lat:48.77531,lng:39.32844},{lat:48.77327,lng:39.32925},{lat:48.77079,lng:39.32827},{lat:48.7694,lng:39.32758},{lat:48.76841,lng:39.32869},{lat:48.76677,lng:39.33582},{lat:48.76719,lng:39.34028},{lat:48.76858,lng:39.34432},{lat:48.76934,lng:39.34916},{lat:48.76821,lng:39.35444},{lat:48.76688,lng:39.35565},{lat:48.7655,lng:39.35517},{lat:48.76278,lng:39.3526},{lat:48.76145,lng:39.35019},{lat:48.76055,lng:39.34655},{lat:48.75808,lng:39.34457},{lat:48.7533,lng:39.34672},{lat:48.75118,lng:39.34775},{lat:48.75016,lng:39.34848},{lat:48.74677,lng:39.34844},{lat:48.74377,lng:39.35011},{lat:48.73839,lng:39.35852},{lat:48.73709,lng:39.35985},{lat:48.73358,lng:39.36015},{lat:48.73012,lng:39.3562},{lat:48.72741,lng:39.35517},{lat:48.72565,lng:39.35676},{lat:48.72214,lng:39.36509},{lat:48.72053,lng:39.37303},{lat:48.71897,lng:39.37526},{lat:48.71532,lng:39.37208},{lat:48.716,lng:39.36496},{lat:48.71475,lng:39.36041},{lat:48.71237,lng:39.35354},{lat:48.71266,lng:39.34899},{lat:48.71147,lng:39.34865},{lat:48.70897,lng:39.35011},{lat:48.70779,lng:39.35148},{lat:48.70393,lng:39.35389},{lat:48.69816,lng:39.35706},{lat:48.69629,lng:39.36161},{lat:48.69385,lng:39.36496},{lat:48.69175,lng:39.37054},{lat:48.68807,lng:39.37663},{lat:48.68586,lng:39.38616},{lat:48.68541,lng:39.39096},{lat:48.68314,lng:39.39225},{lat:48.68138,lng:39.39071},{lat:48.67963,lng:39.39131},{lat:48.67577,lng:39.39757},{lat:48.67458,lng:39.40547},{lat:48.67283,lng:39.40959},{lat:48.67005,lng:39.41371},{lat:48.66693,lng:39.41534},{lat:48.66132,lng:39.41002},{lat:48.65933,lng:39.41002},{lat:48.65758,lng:39.41405},{lat:48.65894,lng:39.41989},{lat:48.65792,lng:39.42719},{lat:48.65741,lng:39.43302},{lat:48.65622,lng:39.43731},{lat:48.65593,lng:39.44092},{lat:48.65661,lng:39.44324},{lat:48.65695,lng:39.44736},{lat:48.65588,lng:39.4519},{lat:48.65321,lng:39.45448},{lat:48.65043,lng:39.45216},{lat:48.64967,lng:39.45092},{lat:48.64655,lng:39.45096},{lat:48.64329,lng:39.45186},{lat:48.6415,lng:39.45302},{lat:48.63974,lng:39.45615},{lat:48.63969,lng:39.46263},{lat:48.63915,lng:39.46645},{lat:48.63827,lng:39.46804},{lat:48.63628,lng:39.468},{lat:48.6339,lng:39.46577},{lat:48.6322,lng:39.46551},{lat:48.62982,lng:39.46568},{lat:48.62868,lng:39.46787},{lat:48.62837,lng:39.47031},{lat:48.62931,lng:39.47581},{lat:48.62925,lng:39.4816},{lat:48.62911,lng:39.48413},{lat:48.63016,lng:39.48551},{lat:48.63299,lng:39.48576},{lat:48.63546,lng:39.48791},{lat:48.63305,lng:39.49083},{lat:48.63223,lng:39.49319},{lat:48.63407,lng:39.50186},{lat:48.63512,lng:39.50774},{lat:48.6354,lng:39.51267},{lat:48.6337,lng:39.51649},{lat:48.63092,lng:39.51769},{lat:48.62806,lng:39.51808},{lat:48.62451,lng:39.51533},{lat:48.62222,lng:39.51319},{lat:48.61802,lng:39.5195},{lat:48.61521,lng:39.52447},{lat:48.61271,lng:39.52804},{lat:48.6095,lng:39.52941},{lat:48.60675,lng:39.52769},{lat:48.60468,lng:39.52529},{lat:48.60335,lng:39.52426},{lat:48.59952,lng:39.52615},{lat:48.59793,lng:39.52864},{lat:48.5975,lng:39.5322},{lat:48.59648,lng:39.53396},{lat:48.5935,lng:39.53473},{lat:48.59242,lng:39.53297},{lat:48.59109,lng:39.52945},{lat:48.58952,lng:39.52834},{lat:48.58757,lng:39.52898},{lat:48.58564,lng:39.53083},{lat:48.58433,lng:39.53791},{lat:48.58478,lng:39.54439},{lat:48.58626,lng:39.54778},{lat:48.58853,lng:39.54928},{lat:48.5906,lng:39.54898},{lat:48.59319,lng:39.54791},{lat:48.59557,lng:39.54949},{lat:48.59801,lng:39.55542},{lat:48.59909,lng:39.55949},{lat:48.59883,lng:39.56301},{lat:48.59725,lng:39.56533},{lat:48.59356,lng:39.56687},{lat:48.59194,lng:39.56881},{lat:48.58893,lng:39.56833},{lat:48.58603,lng:39.56473},{lat:48.58436,lng:39.56396},{lat:48.58311,lng:39.56645},{lat:48.58217,lng:39.57134},{lat:48.58132,lng:39.57473},{lat:48.58302,lng:39.57632},{lat:48.58603,lng:39.58117},{lat:48.5889,lng:39.5858},{lat:48.59282,lng:39.59267},{lat:48.59316,lng:39.59867},{lat:48.59245,lng:39.60237},{lat:48.59057,lng:39.6046},{lat:48.5885,lng:39.60631},{lat:48.58703,lng:39.60653},{lat:48.58564,lng:39.60567},{lat:48.5849,lng:39.60198},{lat:48.58342,lng:39.59975},{lat:48.57976,lng:39.59687},{lat:48.57771,lng:39.59593},{lat:48.57587,lng:39.59743},{lat:48.57522,lng:39.59983},{lat:48.57476,lng:39.60511},{lat:48.57382,lng:39.60897},{lat:48.5738,lng:39.61129},{lat:48.57553,lng:39.61181},{lat:48.57757,lng:39.61597},{lat:48.58274,lng:39.61975},{lat:48.58635,lng:39.62052},{lat:48.58708,lng:39.62314},{lat:48.5862,lng:39.6255},{lat:48.58368,lng:39.62953},{lat:48.58194,lng:39.63236},{lat:48.58124,lng:39.63447},{lat:48.58388,lng:39.64768},{lat:48.58547,lng:39.65614},{lat:48.58666,lng:39.65867},{lat:48.58782,lng:39.6679},{lat:48.58933,lng:39.67245},{lat:48.58862,lng:39.6773},{lat:48.58671,lng:39.68296},{lat:48.58615,lng:39.68768},{lat:48.58657,lng:39.69584},{lat:48.58754,lng:39.70013},{lat:48.58748,lng:39.70455},{lat:48.5864,lng:39.71047},{lat:48.58532,lng:39.71472},{lat:48.5851,lng:39.72197},{lat:48.5862,lng:39.72592},{lat:48.58609,lng:39.73519},{lat:48.58788,lng:39.74085},{lat:48.59012,lng:39.74497},{lat:48.5906,lng:39.74768},{lat:48.59009,lng:39.74974},{lat:48.58938,lng:39.75154},{lat:48.58757,lng:39.75253},{lat:48.58581,lng:39.75257},{lat:48.58305,lng:39.75201},{lat:48.58223,lng:39.75291},{lat:48.58194,lng:39.75411},{lat:48.58319,lng:39.75738},{lat:48.58407,lng:39.76231},{lat:48.58617,lng:39.76802},{lat:48.58796,lng:39.77119},{lat:48.59066,lng:39.77343},{lat:48.59197,lng:39.77707},{lat:48.5929,lng:39.78875},{lat:48.5927,lng:39.79214},{lat:48.59268,lng:39.79222}]],type_id:6,strokeweight:"2.00",strokeopacity:"0.80",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:21752507,time:1544099374,name:"North Crimean Canal",ttl:3e8,resource:0,points:[{id:0,lat:46.76508,lng:33.39344},{id:1,lat:46.74897,lng:33.40683},{id:2,lat:46.68789,lng:33.40889},{id:3,lat:46.65738,lng:33.38314},{id:4,lat:46.62883,lng:33.3725},{id:5,lat:46.62058,lng:33.33679},{id:6,lat:46.60171,lng:33.30229},{id:7,lat:46.58431,lng:33.2931},{id:8,lat:46.57912,lng:33.2804},{id:9,lat:46.56496,lng:33.2725},{id:10,lat:46.52163,lng:33.21723},{id:11,lat:46.49646,lng:33.20006},{id:12,lat:46.40871,lng:33.11852},{id:13,lat:46.28858,lng:33.136},{id:14,lat:46.28441,lng:33.15235},{id:15,lat:46.27041,lng:33.18359},{id:16,lat:46.27777,lng:33.26084},{id:17,lat:46.29343,lng:33.29791},{id:18,lat:46.2939,lng:33.32092},{id:19,lat:46.2773,lng:33.3501},{id:20,lat:46.25409,lng:33.35373},{id:21,lat:46.23866,lng:33.37295},{id:22,lat:46.21562,lng:33.42102},{id:23,lat:46.19852,lng:33.48865},{id:24,lat:46.18521,lng:33.50239},{id:25,lat:46.18521,lng:33.53191},{id:26,lat:46.15953,lng:33.61053},{id:27,lat:46.14597,lng:33.63491}],type_id:14,strokeweight:"3.00",strokeopacity:"0.80",strokecolor:"#0000FF",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#0000FF",fillopacity:"0.45",lang:"en"},{id:21263658,time:1437311640,name:"South Ossetia",ttl:92592e3,resource:4,points:[[{id:0,lat:42.74186,lng:43.79961},{id:1,lat:42.72302,lng:43.79142},{id:2,lat:42.71284,lng:43.78767},{id:3,lat:42.70876,lng:43.78185},{id:4,lat:42.70417,lng:43.77912},{id:5,lat:42.69932,lng:43.7694},{id:6,lat:42.69371,lng:43.76347},{id:7,lat:42.68324,lng:43.74439},{id:8,lat:42.68306,lng:43.72789},{id:9,lat:42.68514,lng:43.71104},{id:10,lat:42.67751,lng:43.71072},{id:11,lat:42.67139,lng:43.71864},{id:12,lat:42.65858,lng:43.70614},{id:13,lat:42.64148,lng:43.7005},{id:14,lat:42.64747,lng:43.69458},{id:15,lat:42.64137,lng:43.67961},{id:16,lat:42.64476,lng:43.66577},{id:17,lat:42.64183,lng:43.65502},{id:18,lat:42.63585,lng:43.6436},{id:19,lat:42.62735,lng:43.63665},{id:20,lat:42.61669,lng:43.63142},{id:21,lat:42.6121,lng:43.61829},{id:22,lat:42.59445,lng:43.59651},{id:23,lat:42.58468,lng:43.58304},{id:24,lat:42.57642,lng:43.57748},{id:25,lat:42.57258,lng:43.58918},{id:26,lat:42.56773,lng:43.59058},{id:27,lat:42.57053,lng:43.59791},{id:28,lat:42.56903,lng:43.60763},{id:29,lat:42.56701,lng:43.59845},{id:30,lat:42.56335,lng:43.59521},{id:31,lat:42.55728,lng:43.59334},{id:32,lat:42.55239,lng:43.59324},{id:33,lat:42.54913,lng:43.59485},{id:34,lat:42.5447,lng:43.60587},{id:35,lat:42.54279,lng:43.61004},{id:36,lat:42.54365,lng:43.61216},{id:37,lat:42.53919,lng:43.61655},{id:38,lat:42.53259,lng:43.61068},{id:39,lat:42.52674,lng:43.60344},{id:40,lat:42.52198,lng:43.60437},{id:41,lat:42.51798,lng:43.60736},{id:42,lat:42.51145,lng:43.60675},{id:43,lat:42.50768,lng:43.60245},{id:44,lat:42.50391,lng:43.60296},{id:45,lat:42.4988,lng:43.60225},{id:46,lat:42.49395,lng:43.60275},{id:47,lat:42.48941,lng:43.60479},{id:48,lat:42.48562,lng:43.60216},{id:49,lat:42.48146,lng:43.60366},{id:50,lat:42.47379,lng:43.59373},{id:51,lat:42.46985,lng:43.58519},{id:52,lat:42.45553,lng:43.58979},{id:53,lat:42.44621,lng:43.58918},{id:54,lat:42.44096,lng:43.592},{id:55,lat:42.43253,lng:43.59567},{id:56,lat:42.42385,lng:43.59454},{id:57,lat:42.40662,lng:43.59502},{id:58,lat:42.40047,lng:43.60144},{id:59,lat:42.39534,lng:43.60786},{id:60,lat:42.39084,lng:43.61566},{id:61,lat:42.38615,lng:43.62465},{id:62,lat:42.36937,lng:43.61475},{id:63,lat:42.35984,lng:43.59693},{id:64,lat:42.35538,lng:43.59284},{id:65,lat:42.3515,lng:43.59848},{id:66,lat:42.35117,lng:43.60548},{id:67,lat:42.3445,lng:43.61351},{id:68,lat:42.34091,lng:43.61693},{id:69,lat:42.33834,lng:43.62138},{id:70,lat:42.33511,lng:43.64204},{id:71,lat:42.33416,lng:43.66288},{id:72,lat:42.32947,lng:43.67004},{id:73,lat:42.32249,lng:43.67307},{id:74,lat:42.31369,lng:43.67284},{id:75,lat:42.30641,lng:43.66934},{id:76,lat:42.30266,lng:43.65566},{id:77,lat:42.29933,lng:43.64968},{id:78,lat:42.29549,lng:43.64611},{id:79,lat:42.2888,lng:43.63925},{id:80,lat:42.28312,lng:43.63721},{id:81,lat:42.28405,lng:43.62898},{id:82,lat:42.27863,lng:43.61715},{id:83,lat:42.26468,lng:43.6138},{id:84,lat:42.25366,lng:43.60736},{id:85,lat:42.24607,lng:43.61114},{id:86,lat:42.24215,lng:43.60805},{id:87,lat:42.23632,lng:43.61251},{id:88,lat:42.23178,lng:43.60782},{id:89,lat:42.22343,lng:43.60485},{id:90,lat:42.21015,lng:43.59907},{id:91,lat:42.21193,lng:43.61079},{id:92,lat:42.20034,lng:43.63143},{id:93,lat:42.1912,lng:43.63573},{id:94,lat:42.18682,lng:43.63762},{id:95,lat:42.18167,lng:43.63402},{id:96,lat:42.17578,lng:43.64396},{id:97,lat:42.17302,lng:43.65022},{id:98,lat:42.16873,lng:43.65475},{id:99,lat:42.16486,lng:43.66885},{id:100,lat:42.1657,lng:43.6826},{id:101,lat:42.15787,lng:43.6914},{id:102,lat:42.14901,lng:43.69882},{id:103,lat:42.13933,lng:43.71362},{id:104,lat:42.13244,lng:43.73048},{id:105,lat:42.1287,lng:43.74757},{id:106,lat:42.13097,lng:43.77193},{id:107,lat:42.12891,lng:43.79664},{id:108,lat:42.12353,lng:43.79753},{id:109,lat:42.12339,lng:43.80777},{id:110,lat:42.11956,lng:43.80859},{id:111,lat:42.11599,lng:43.81662},{id:112,lat:42.11182,lng:43.83428},{id:113,lat:42.10795,lng:43.8383},{id:114,lat:42.1107,lng:43.84919},{id:115,lat:42.12206,lng:43.85397},{id:116,lat:42.13342,lng:43.85771},{id:117,lat:42.13118,lng:43.86721},{id:118,lat:42.13251,lng:43.87361},{id:119,lat:42.1365,lng:43.86847},{id:120,lat:42.14508,lng:43.87295},{id:121,lat:42.15307,lng:43.86473},{id:122,lat:42.15176,lng:43.87316},{id:123,lat:42.16129,lng:43.86707},{id:124,lat:42.17159,lng:43.87095},{id:125,lat:42.16208,lng:43.88069},{id:126,lat:42.15944,lng:43.88905},{id:127,lat:42.15901,lng:43.91204},{id:128,lat:42.17908,lng:43.92549},{id:129,lat:42.1942,lng:43.92775},{id:130,lat:42.19966,lng:43.92864},{id:131,lat:42.21808,lng:43.90493},{id:132,lat:42.2229,lng:43.91094},{id:133,lat:42.21374,lng:43.92459},{id:134,lat:42.21093,lng:43.94167},{id:135,lat:42.20084,lng:43.97308},{id:136,lat:42.20905,lng:43.98935},{id:137,lat:42.21514,lng:43.98757},{id:138,lat:42.21608,lng:44.01569},{id:139,lat:42.21423,lng:44.03317},{id:140,lat:42.21854,lng:44.04423},{id:141,lat:42.22946,lng:44.04478},{id:142,lat:42.23556,lng:44.06113},{id:143,lat:42.23922,lng:44.06025},{id:144,lat:42.23807,lng:44.07888},{id:145,lat:42.23272,lng:44.08343},{id:146,lat:42.23394,lng:44.08765},{id:147,lat:42.22602,lng:44.09153},{id:148,lat:42.22471,lng:44.09609},{id:149,lat:42.20861,lng:44.09079},{id:150,lat:42.2037,lng:44.08764},{id:151,lat:42.20032,lng:44.0869},{id:152,lat:42.197,lng:44.09555},{id:153,lat:42.19776,lng:44.10764},{id:154,lat:42.18503,lng:44.1136},{id:155,lat:42.18058,lng:44.10594},{id:156,lat:42.176,lng:44.1091},{id:157,lat:42.17665,lng:44.11553},{id:158,lat:42.1712,lng:44.12368},{id:159,lat:42.17327,lng:44.13072},{id:160,lat:42.1696,lng:44.13261},{id:161,lat:42.16109,lng:44.12866},{id:162,lat:42.15562,lng:44.13561},{id:163,lat:42.15345,lng:44.14427},{id:164,lat:42.14034,lng:44.14263},{id:165,lat:42.13385,lng:44.13687},{id:166,lat:42.12696,lng:44.13417},{id:167,lat:42.12144,lng:44.1367},{id:168,lat:42.11388,lng:44.13476},{id:169,lat:42.11031,lng:44.14218},{id:170,lat:42.13258,lng:44.15431},{id:171,lat:42.14041,lng:44.16827},{id:172,lat:42.14824,lng:44.17228},{id:173,lat:42.14482,lng:44.18092},{id:174,lat:42.14884,lng:44.18824},{id:175,lat:42.14573,lng:44.19281},{id:176,lat:42.15558,lng:44.19122},{id:177,lat:42.16542,lng:44.19684},{id:178,lat:42.16408,lng:44.20084},{id:179,lat:42.15527,lng:44.19906},{id:180,lat:42.14874,lng:44.19917},{id:181,lat:42.14651,lng:44.2084},{id:182,lat:42.15229,lng:44.21437},{id:183,lat:42.15219,lng:44.22052},{id:184,lat:42.14375,lng:44.22068},{id:185,lat:42.13965,lng:44.22831},{id:186,lat:42.13516,lng:44.22795},{id:187,lat:42.1327,lng:44.22037},{id:188,lat:42.12677,lng:44.22341},{id:189,lat:42.11892,lng:44.23386},{id:190,lat:42.12099,lng:44.24311},{id:191,lat:42.12003,lng:44.24962},{id:192,lat:42.10914,lng:44.25373},{id:193,lat:42.10966,lng:44.26275},{id:194,lat:42.11349,lng:44.26627},{id:195,lat:42.11198,lng:44.27915},{id:196,lat:42.0985,lng:44.2797},{id:197,lat:42.08909,lng:44.27476},{id:198,lat:42.087,lng:44.27875},{id:199,lat:42.07204,lng:44.26781},{id:200,lat:42.06031,lng:44.26086},{id:201,lat:42.05509,lng:44.24536},{id:202,lat:42.04579,lng:44.23605},{id:203,lat:42.02891,lng:44.23619},{id:204,lat:42.02708,lng:44.26808},{id:205,lat:42.02633,lng:44.28722},{id:206,lat:42.03679,lng:44.28302},{id:207,lat:42.05171,lng:44.28396},{id:208,lat:42.06893,lng:44.29315},{id:209,lat:42.07611,lng:44.30518},{id:210,lat:42.06804,lng:44.30493},{id:211,lat:42.06588,lng:44.31182},{id:212,lat:42.05658,lng:44.30876},{id:213,lat:42.04232,lng:44.31345},{id:214,lat:42.03665,lng:44.30215},{id:215,lat:42.02767,lng:44.30218},{id:216,lat:42.02343,lng:44.30991},{id:217,lat:42.02174,lng:44.32158},{id:218,lat:42.03831,lng:44.32771},{id:219,lat:42.03818,lng:44.33429},{id:220,lat:42.0427,lng:44.33535},{id:221,lat:42.04289,lng:44.34465},{id:222,lat:42.04304,lng:44.35912},{id:223,lat:42.04822,lng:44.36489},{id:224,lat:42.05467,lng:44.36655},{id:225,lat:42.05241,lng:44.38715},{id:226,lat:42.0551,lng:44.40122},{id:227,lat:42.05155,lng:44.41976},{id:228,lat:42.05492,lng:44.42864},{id:229,lat:42.04666,lng:44.43531},{id:230,lat:42.04693,lng:44.46491},{id:231,lat:42.04361,lng:44.4816},{id:232,lat:42.04489,lng:44.49073},{id:233,lat:42.05678,lng:44.48616},{id:234,lat:42.06828,lng:44.48296},{id:235,lat:42.06879,lng:44.48794},{id:236,lat:42.05987,lng:44.4925},{id:237,lat:42.04177,lng:44.53206},{id:238,lat:42.04299,lng:44.53794},{id:239,lat:42.04803,lng:44.5421},{id:240,lat:42.05176,lng:44.54229},{id:241,lat:42.05549,lng:44.54935},{id:242,lat:42.06244,lng:44.55798},{id:243,lat:42.07391,lng:44.54802},{id:244,lat:42.06816,lng:44.53639},{id:245,lat:42.06885,lng:44.5323},{id:246,lat:42.06699,lng:44.5258},{id:247,lat:42.07477,lng:44.52211},{id:248,lat:42.08274,lng:44.52223},{id:249,lat:42.09122,lng:44.51996},{id:250,lat:42.09814,lng:44.5266},{id:251,lat:42.10301,lng:44.53907},{id:252,lat:42.1162,lng:44.54772},{id:253,lat:42.11562,lng:44.56171},{id:254,lat:42.11708,lng:44.56746},{id:255,lat:42.12563,lng:44.56594},{id:256,lat:42.13368,lng:44.56132},{id:257,lat:42.14612,lng:44.57486},{id:258,lat:42.15664,lng:44.57347},{id:259,lat:42.15601,lng:44.58074},{id:260,lat:42.16517,lng:44.57485},{id:261,lat:42.16809,lng:44.572},{id:262,lat:42.17,lng:44.56504},{id:263,lat:42.17458,lng:44.56621},{id:264,lat:42.17471,lng:44.57669},{id:265,lat:42.18399,lng:44.58922},{id:266,lat:42.19252,lng:44.60434},{id:267,lat:42.18985,lng:44.61208},{id:268,lat:42.1936,lng:44.62093},{id:269,lat:42.19964,lng:44.62565},{id:270,lat:42.20471,lng:44.62402},{id:271,lat:42.20799,lng:44.61792},{id:272,lat:42.21736,lng:44.62049},{id:273,lat:42.22443,lng:44.6155},{id:274,lat:42.23113,lng:44.6148},{id:275,lat:42.24554,lng:44.62319},{id:276,lat:42.25246,lng:44.6163},{id:277,lat:42.2611,lng:44.61911},{id:278,lat:42.26516,lng:44.61691},{id:279,lat:42.27354,lng:44.61952},{id:280,lat:42.28258,lng:44.61088},{id:281,lat:42.29568,lng:44.60928},{id:282,lat:42.30111,lng:44.60247},{id:283,lat:42.30197,lng:44.59737},{id:284,lat:42.31409,lng:44.59645},{id:285,lat:42.32844,lng:44.57812},{id:286,lat:42.33612,lng:44.58188},{id:287,lat:42.33996,lng:44.59132},{id:288,lat:42.34557,lng:44.5932},{id:289,lat:42.35363,lng:44.60298},{id:290,lat:42.36359,lng:44.61036},{id:291,lat:42.37429,lng:44.60571},{id:292,lat:42.37788,lng:44.59762},{id:293,lat:42.37677,lng:44.59084},{id:294,lat:42.38352,lng:44.57409},{id:295,lat:42.38139,lng:44.5637},{id:296,lat:42.38802,lng:44.55142},{id:297,lat:42.39001,lng:44.54699},{id:298,lat:42.39354,lng:44.54958},{id:299,lat:42.40062,lng:44.54599},{id:300,lat:42.40439,lng:44.53864},{id:301,lat:42.4079,lng:44.52923},{id:302,lat:42.40792,lng:44.51781},{id:303,lat:42.40667,lng:44.5105},{id:304,lat:42.41112,lng:44.50165},{id:305,lat:42.41202,lng:44.48439},{id:306,lat:42.42261,lng:44.47892},{id:307,lat:42.43346,lng:44.46452},{id:308,lat:42.45871,lng:44.44705},{id:309,lat:42.4613,lng:44.4381},{id:310,lat:42.45918,lng:44.42762},{id:311,lat:42.46338,lng:44.42057},{id:312,lat:42.46319,lng:44.40089},{id:313,lat:42.45893,lng:44.38636},{id:314,lat:42.46485,lng:44.38358},{id:315,lat:42.47177,lng:44.37427},{id:316,lat:42.47118,lng:44.36467},{id:317,lat:42.46957,lng:44.35679},{id:318,lat:42.48169,lng:44.34091},{id:319,lat:42.48875,lng:44.33966},{id:320,lat:42.49228,lng:44.3336},{id:321,lat:42.49909,lng:44.34278},{id:322,lat:42.50362,lng:44.35504},{id:323,lat:42.50461,lng:44.36482},{id:324,lat:42.50382,lng:44.37667},{id:325,lat:42.51,lng:44.38036},{id:326,lat:42.51439,lng:44.37098},{id:327,lat:42.52485,lng:44.36194},{id:328,lat:42.52336,lng:44.35368},{id:329,lat:42.52642,lng:44.34679},{id:330,lat:42.53571,lng:44.34702},{id:331,lat:42.54577,lng:44.34519},{id:332,lat:42.55133,lng:44.32643},{id:333,lat:42.55916,lng:44.31109},{id:334,lat:42.56881,lng:44.30829},{id:335,lat:42.57846,lng:44.30755},{id:336,lat:42.57831,lng:44.30234},{id:337,lat:42.58443,lng:44.30077},{id:338,lat:42.59459,lng:44.28855},{id:339,lat:42.60018,lng:44.27236},{id:340,lat:42.6045,lng:44.26681},{id:341,lat:42.5979,lng:44.25497},{id:342,lat:42.59104,lng:44.24965},{id:343,lat:42.59654,lng:44.24324},{id:344,lat:42.6023,lng:44.2406},{id:345,lat:42.60692,lng:44.2347},{id:346,lat:42.60926,lng:44.2257},{id:347,lat:42.61909,lng:44.23071},{id:348,lat:42.62791,lng:44.23091},{id:349,lat:42.62999,lng:44.22835},{id:350,lat:42.63031,lng:44.22031},{id:351,lat:42.6304,lng:44.20684},{id:352,lat:42.63504,lng:44.19372},{id:353,lat:42.62942,lng:44.18721},{id:354,lat:42.61779,lng:44.17843},{id:355,lat:42.60817,lng:44.16381},{id:356,lat:42.60714,lng:44.15633},{id:357,lat:42.60699,lng:44.14491},{id:358,lat:42.61385,lng:44.13238},{id:359,lat:42.61766,lng:44.11608},{id:360,lat:42.61273,lng:44.10071},{id:361,lat:42.60938,lng:44.09131},{id:362,lat:42.60577,lng:44.08981},{id:363,lat:42.60085,lng:44.06654},{id:364,lat:42.60433,lng:44.05463},{id:365,lat:42.60326,lng:44.04683},{id:366,lat:42.5948,lng:44.01708},{id:367,lat:42.58554,lng:44.0048},{id:368,lat:42.57172,lng:43.99252},{id:369,lat:42.56004,lng:43.97488},{id:370,lat:42.55218,lng:43.97378},{id:371,lat:42.54811,lng:43.96582},{id:372,lat:42.54715,lng:43.96225},{id:373,lat:42.55175,lng:43.95593},{id:374,lat:42.55135,lng:43.94639},{id:375,lat:42.56283,lng:43.94401},{id:376,lat:42.57138,lng:43.91123},{id:377,lat:42.58035,lng:43.87294},{id:378,lat:42.58994,lng:43.86642},{id:379,lat:42.59745,lng:43.83706},{id:380,lat:42.59291,lng:43.81816},{id:381,lat:42.59757,lng:43.80823},{id:382,lat:42.59481,lng:43.78957},{id:383,lat:42.58802,lng:43.77765},{id:384,lat:42.59879,lng:43.75053},{id:385,lat:42.61533,lng:43.75302},{id:386,lat:42.62765,lng:43.72834},{id:387,lat:42.63476,lng:43.71429},{id:388,lat:42.64942,lng:43.73846},{id:389,lat:42.65456,lng:43.75798},{id:390,lat:42.67914,lng:43.77805},{id:391,lat:42.70076,lng:43.78932},{id:392,lat:42.71247,lng:43.80149},{id:393,lat:42.72589,lng:43.80655},{id:394,lat:42.73677,lng:43.80904},{id:395,lat:42.7416,lng:43.80329},{id:396,lat:42.74401,lng:43.79978}]],type_id:6,strokeweight:"2.00",strokeopacity:"0.80",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"},{id:21191074,time:1393632e3,name:"Occupied Crimea",ttl:767318400,resource:0,points:[[{id:0,lat:45.69307,lng:34.9768},{id:1,lat:45.63134,lng:35.03643},{id:2,lat:45.59168,lng:35.07126},{id:3,lat:45.48274,lng:35.12167},{id:4,lat:45.44029,lng:35.04027},{id:5,lat:45.38872,lng:35.07762},{id:6,lat:45.35257,lng:35.12453},{id:7,lat:45.33792,lng:35.27519},{id:8,lat:45.31228,lng:35.45325},{id:9,lat:45.28581,lng:35.52263},{id:10,lat:45.31972,lng:35.60602},{id:11,lat:45.33473,lng:35.69601},{id:12,lat:45.33632,lng:35.71683},{id:13,lat:45.34263,lng:35.72371},{id:14,lat:45.35351,lng:35.72509},{id:15,lat:45.36009,lng:35.74486},{id:16,lat:45.37025,lng:35.75822},{id:17,lat:45.38127,lng:35.76158},{id:18,lat:45.38786,lng:35.74572},{id:19,lat:45.39746,lng:35.75022},{id:20,lat:45.40513,lng:35.76537},{id:21,lat:45.40903,lng:35.77511},{id:22,lat:45.41684,lng:35.78859},{id:23,lat:45.42928,lng:35.81286},{id:24,lat:45.44211,lng:35.82737},{id:25,lat:45.44732,lng:35.82562},{id:26,lat:45.44759,lng:35.81769},{id:27,lat:45.45606,lng:35.81621},{id:28,lat:45.46405,lng:35.82092},{id:29,lat:45.47426,lng:35.83857},{id:30,lat:45.47363,lng:35.86831},{id:31,lat:45.46074,lng:35.87753},{id:32,lat:45.45413,lng:35.86435},{id:33,lat:45.44849,lng:35.84774},{id:34,lat:45.4405,lng:35.85128},{id:35,lat:45.4307,lng:35.86152},{id:36,lat:45.41942,lng:35.87649},{id:37,lat:45.40279,lng:35.89513},{id:38,lat:45.38867,lng:35.922},{id:39,lat:45.37744,lng:35.95023},{id:40,lat:45.37316,lng:35.96914},{id:41,lat:45.37154,lng:35.98737},{id:42,lat:45.37241,lng:36.00475},{id:43,lat:45.37546,lng:36.02111},{id:44,lat:45.38413,lng:36.04175},{id:45,lat:45.39749,lng:36.06154},{id:46,lat:45.41064,lng:36.07096},{id:47,lat:45.41981,lng:36.06974},{id:48,lat:45.42526,lng:36.07135},{id:49,lat:45.4424,lng:36.06593},{id:50,lat:45.45025,lng:36.08251},{id:51,lat:45.45761,lng:36.10458},{id:52,lat:45.46612,lng:36.13114},{id:53,lat:45.47107,lng:36.16818},{id:54,lat:45.47387,lng:36.20765},{id:55,lat:45.47641,lng:36.24523},{id:56,lat:45.48022,lng:36.27177},{id:57,lat:45.4827,lng:36.28519},{id:58,lat:45.48324,lng:36.29862},{id:59,lat:45.47598,lng:36.31129},{id:60,lat:45.47355,lng:36.32986},{id:61,lat:45.47755,lng:36.34037},{id:62,lat:45.48297,lng:36.33725},{id:63,lat:45.48544,lng:36.34473},{id:64,lat:45.47686,lng:36.35395},{id:65,lat:45.47241,lng:36.36229},{id:66,lat:45.47132,lng:36.37215},{id:67,lat:45.45337,lng:36.39737},{id:68,lat:45.44778,lng:36.41624},{id:69,lat:45.45461,lng:36.43979},{id:70,lat:45.46082,lng:36.44669},{id:71,lat:45.45817,lng:36.45859},{id:72,lat:45.45937,lng:36.46911},{id:73,lat:45.451,lng:36.49696},{id:74,lat:45.43769,lng:36.51604},{id:75,lat:45.42806,lng:36.53691},{id:76,lat:45.42531,lng:36.55511},{id:77,lat:45.43,lng:36.56294},{id:78,lat:45.44095,lng:36.5694},{id:79,lat:45.44279,lng:36.58171},{id:80,lat:45.44024,lng:36.59724},{id:81,lat:45.42333,lng:36.61559},{id:82,lat:45.41775,lng:36.61509},{id:83,lat:45.41241,lng:36.61185},{id:84,lat:45.39955,lng:36.6237},{id:85,lat:45.39369,lng:36.63864},{id:86,lat:45.38577,lng:36.6517},{id:87,lat:45.37834,lng:36.64913},{id:88,lat:45.37312,lng:36.6336},{id:89,lat:45.36344,lng:36.63233},{id:90,lat:45.35537,lng:36.61305},{id:91,lat:45.3461,lng:36.60494},{id:92,lat:45.34418,lng:36.59263},{id:93,lat:45.34502,lng:36.56919},{id:94,lat:45.34463,lng:36.5546},{id:95,lat:45.344,lng:36.54259},{id:96,lat:45.34877,lng:36.52791},{id:97,lat:45.35087,lng:36.51901},{id:98,lat:45.35634,lng:36.51491},{id:99,lat:45.35874,lng:36.5085},{id:100,lat:45.36053,lng:36.49641},{id:101,lat:45.35531,lng:36.48253},{id:102,lat:45.35099,lng:36.48418},{id:103,lat:45.3474,lng:36.47673},{id:104,lat:45.33672,lng:36.47437},{id:105,lat:45.32434,lng:36.48163},{id:106,lat:45.31978,lng:36.49826},{id:107,lat:45.31502,lng:36.49388},{id:108,lat:45.31087,lng:36.48434},{id:109,lat:45.30548,lng:36.48683},{id:110,lat:45.29987,lng:36.45929},{id:111,lat:45.2935,lng:36.43358},{id:112,lat:45.2877,lng:36.42595},{id:113,lat:45.27927,lng:36.42636},{id:114,lat:45.27737,lng:36.43644},{id:115,lat:45.26889,lng:36.4412},{id:116,lat:45.25852,lng:36.43791},{id:117,lat:45.2502,lng:36.43083},{id:118,lat:45.23064,lng:36.41745},{id:119,lat:45.21382,lng:36.40588},{id:120,lat:45.17111,lng:36.40942},{id:121,lat:45.16267,lng:36.42189},{id:122,lat:45.13029,lng:36.42801},{id:123,lat:45.1184,lng:36.43564},{id:124,lat:45.11184,lng:36.45184},{id:125,lat:45.10173,lng:36.45684},{id:126,lat:45.09161,lng:36.45532},{id:127,lat:45.08193,lng:36.43843},{id:128,lat:45.06999,lng:36.40816},{id:129,lat:45.05374,lng:36.37212},{id:130,lat:45.05665,lng:36.32186},{id:131,lat:45.05299,lng:36.27573},{id:132,lat:45.04622,lng:36.25005},{id:133,lat:45.03664,lng:36.24614},{id:134,lat:45.03147,lng:36.23674},{id:135,lat:45.02494,lng:36.22245},{id:136,lat:45.03207,lng:36.20189},{id:137,lat:45.03505,lng:36.16796},{id:138,lat:45.04132,lng:36.11968},{id:139,lat:45.04636,lng:36.0791},{id:140,lat:45.04864,lng:36.06125},{id:141,lat:45.04877,lng:36.04785},{id:142,lat:45.04714,lng:36.02409},{id:143,lat:45.03751,lng:35.99913},{id:144,lat:45.02005,lng:35.98425},{id:145,lat:45.01,lng:35.95032},{id:146,lat:45.01851,lng:35.92732},{id:147,lat:45.01815,lng:35.91049},{id:148,lat:45.00916,lng:35.88061},{id:149,lat:45.00157,lng:35.86292},{id:150,lat:44.99714,lng:35.83769},{id:151,lat:45.00661,lng:35.8235},{id:152,lat:45.01032,lng:35.83258},{id:153,lat:45.02239,lng:35.80922},{id:154,lat:45.03162,lng:35.81299},{id:155,lat:45.04468,lng:35.80462},{id:156,lat:45.0575,lng:35.7832},{id:157,lat:45.06961,lng:35.77149},{id:158,lat:45.1,lng:35.70759},{id:159,lat:45.11201,lng:35.67091},{id:160,lat:45.12111,lng:35.63352},{id:161,lat:45.12708,lng:35.60518},{id:162,lat:45.12941,lng:35.57616},{id:163,lat:45.12417,lng:35.52865},{id:164,lat:45.11519,lng:35.49899},{id:165,lat:45.10344,lng:35.46133},{id:166,lat:45.08903,lng:35.43449},{id:167,lat:45.07317,lng:35.41177},{id:168,lat:45.05944,lng:35.39569},{id:169,lat:45.04793,lng:35.38869},{id:170,lat:45.0346,lng:35.38494},{id:171,lat:45.03055,lng:35.38907},{id:172,lat:45.03171,lng:35.39914},{id:173,lat:45.02523,lng:35.40063},{id:174,lat:45.02445,lng:35.41336},{id:175,lat:45.0146,lng:35.42647},{id:176,lat:45.00992,lng:35.42475},{id:177,lat:45.00443,lng:35.40787},{id:178,lat:44.9978,lng:35.38992},{id:179,lat:44.99277,lng:35.36596},{id:180,lat:44.98521,lng:35.3582},{id:181,lat:44.97599,lng:35.35511},{id:182,lat:44.97357,lng:35.3606},{id:183,lat:44.96149,lng:35.37041},{id:184,lat:44.95599,lng:35.37601},{id:185,lat:44.95815,lng:35.39242},{id:186,lat:44.94973,lng:35.3899},{id:187,lat:44.94484,lng:35.38378},{id:188,lat:44.95635,lng:35.35259},{id:189,lat:44.9621,lng:35.3521},{id:190,lat:44.96594,lng:35.33812},{id:191,lat:44.96299,lng:35.32723},{id:192,lat:44.96791,lng:35.32203},{id:193,lat:44.96846,lng:35.3103},{id:194,lat:44.9654,lng:35.29944},{id:195,lat:44.95928,lng:35.29596},{id:196,lat:44.96483,lng:35.28852},{id:197,lat:44.96698,lng:35.27216},{id:198,lat:44.96113,lng:35.25722},{id:199,lat:44.95321,lng:35.24983},{id:200,lat:44.93745,lng:35.25581},{id:201,lat:44.92008,lng:35.24454},{id:202,lat:44.91224,lng:35.23145},{id:203,lat:44.90865,lng:35.19638},{id:204,lat:44.90578,lng:35.18558},{id:205,lat:44.90072,lng:35.17823},{id:206,lat:44.89793,lng:35.16643},{id:207,lat:44.89173,lng:35.15842},{id:208,lat:44.87834,lng:35.14974},{id:209,lat:44.86117,lng:35.14089},{id:210,lat:44.83964,lng:35.13356},{id:211,lat:44.82273,lng:35.1326},{id:212,lat:44.81665,lng:35.1175},{id:213,lat:44.80715,lng:35.11168},{id:214,lat:44.80192,lng:35.0947},{id:215,lat:44.79084,lng:35.08133},{id:216,lat:44.79761,lng:35.06341},{id:217,lat:44.79986,lng:35.04464},{id:218,lat:44.8156,lng:35.04932},{id:219,lat:44.82487,lng:35.03323},{id:220,lat:44.83097,lng:35.0192},{id:221,lat:44.83152,lng:35.00227},{id:222,lat:44.82834,lng:34.98668},{id:223,lat:44.83514,lng:34.98453},{id:224,lat:44.83913,lng:34.97018},{id:225,lat:44.83544,lng:34.95094},{id:226,lat:44.83212,lng:34.9417},{id:227,lat:44.82967,lng:34.9288},{id:228,lat:44.82795,lng:34.91986},{id:229,lat:44.82191,lng:34.9222},{id:230,lat:44.8183,lng:34.90512},{id:231,lat:44.81539,lng:34.89802},{id:232,lat:44.81516,lng:34.88921},{id:233,lat:44.82102,lng:34.87989},{id:234,lat:44.82035,lng:34.86501},{id:235,lat:44.81859,lng:34.85924},{id:236,lat:44.81415,lng:34.84502},{id:237,lat:44.81767,lng:34.82634},{id:238,lat:44.81887,lng:34.81054},{id:239,lat:44.8169,lng:34.7896},{id:240,lat:44.81789,lng:34.77729},{id:241,lat:44.81499,lng:34.75913},{id:242,lat:44.80966,lng:34.74909},{id:243,lat:44.81099,lng:34.73536},{id:244,lat:44.80963,lng:34.72438},{id:245,lat:44.79614,lng:34.69093},{id:246,lat:44.78793,lng:34.67456},{id:247,lat:44.78411,lng:34.64514},{id:248,lat:44.77472,lng:34.62342},{id:249,lat:44.7719,lng:34.60445},{id:250,lat:44.75851,lng:34.58702},{id:251,lat:44.75186,lng:34.55358},{id:252,lat:44.73839,lng:34.53595},{id:253,lat:44.73103,lng:34.50635},{id:254,lat:44.72579,lng:34.49114},{id:255,lat:44.71933,lng:34.47903},{id:256,lat:44.71125,lng:34.46132},{id:257,lat:44.70308,lng:34.45114},{id:258,lat:44.68854,lng:34.4369},{id:259,lat:44.67914,lng:34.42604},{id:260,lat:44.6734,lng:34.41722},{id:261,lat:44.66127,lng:34.41262},{id:262,lat:44.65136,lng:34.40483},{id:263,lat:44.63975,lng:34.40133},{id:264,lat:44.62759,lng:34.3877},{id:265,lat:44.61772,lng:34.38296},{id:266,lat:44.61281,lng:34.37765},{id:267,lat:44.60741,lng:34.37749},{id:268,lat:44.60348,lng:34.37374},{id:269,lat:44.5899,lng:34.37272},{id:270,lat:44.5906,lng:34.36242},{id:271,lat:44.58617,lng:34.35384},{id:272,lat:44.57257,lng:34.34904},{id:273,lat:44.55786,lng:34.34905},{id:274,lat:44.54738,lng:34.34876},{id:275,lat:44.54612,lng:34.33908},{id:276,lat:44.54792,lng:34.33027},{id:277,lat:44.55135,lng:34.3187},{id:278,lat:44.55306,lng:34.30919},{id:279,lat:44.54896,lng:34.30131},{id:280,lat:44.54535,lng:34.29755},{id:281,lat:44.5439,lng:34.29064},{id:282,lat:44.54195,lng:34.28682},{id:283,lat:44.5403,lng:34.27982},{id:284,lat:44.53718,lng:34.27728},{id:285,lat:44.52822,lng:34.27443},{id:286,lat:44.52027,lng:34.27023},{id:287,lat:44.51483,lng:34.26406},{id:288,lat:44.50841,lng:34.2553},{id:289,lat:44.50554,lng:34.24979},{id:290,lat:44.50316,lng:34.23108},{id:291,lat:44.50135,lng:34.21163},{id:292,lat:44.49756,lng:34.20683},{id:293,lat:44.49653,lng:34.20048},{id:294,lat:44.49907,lng:34.18959},{id:295,lat:44.49561,lng:34.17594},{id:296,lat:44.49083,lng:34.1706},{id:297,lat:44.488,lng:34.16321},{id:298,lat:44.47832,lng:34.159},{id:299,lat:44.4706,lng:34.15307},{id:300,lat:44.46239,lng:34.15018},{id:301,lat:44.4532,lng:34.143},{id:302,lat:44.44232,lng:34.13579},{id:303,lat:44.4282,lng:34.12809},{id:304,lat:44.42641,lng:34.11737},{id:305,lat:44.42772,lng:34.10927},{id:306,lat:44.4256,lng:34.1022},{id:307,lat:44.42778,lng:34.09503},{id:308,lat:44.42408,lng:34.08442},{id:309,lat:44.42111,lng:34.07338},{id:310,lat:44.42037,lng:34.06322},{id:311,lat:44.41349,lng:34.04499},{id:312,lat:44.40838,lng:34.03985},{id:313,lat:44.40426,lng:34.03145},{id:314,lat:44.40676,lng:34.01817},{id:315,lat:44.40011,lng:34.00309},{id:316,lat:44.39837,lng:33.98355},{id:317,lat:44.39394,lng:33.98031},{id:318,lat:44.39146,lng:33.97227},{id:319,lat:44.3903,lng:33.95226},{id:320,lat:44.39322,lng:33.93136},{id:321,lat:44.39834,lng:33.91251},{id:322,lat:44.40338,lng:33.87678},{id:323,lat:44.4037,lng:33.84759},{id:324,lat:44.40367,lng:33.84033},{id:325,lat:44.4002,lng:33.83514},{id:326,lat:44.39931,lng:33.82687},{id:327,lat:44.39498,lng:33.82049},{id:328,lat:44.39617,lng:33.81242},{id:329,lat:44.39245,lng:33.80504},{id:330,lat:44.39386,lng:33.80043},{id:331,lat:44.38913,lng:33.79342},{id:332,lat:44.38533,lng:33.77613},{id:333,lat:44.38975,lng:33.75852},{id:334,lat:44.38656,lng:33.73781},{id:335,lat:44.39281,lng:33.72525},{id:336,lat:44.40603,lng:33.71829},{id:337,lat:44.41282,lng:33.71035},{id:338,lat:44.42047,lng:33.70481},{id:339,lat:44.41579,lng:33.68346},{id:340,lat:44.41811,lng:33.66533},{id:341,lat:44.42673,lng:33.64711},{id:342,lat:44.44158,lng:33.64126},{id:343,lat:44.45533,lng:33.64038},{id:344,lat:44.47141,lng:33.63351},{id:345,lat:44.48024,lng:33.62635},{id:346,lat:44.48717,lng:33.61375},{id:347,lat:44.49017,lng:33.60493},{id:348,lat:44.49293,lng:33.59568},{id:349,lat:44.4892,lng:33.58438},{id:350,lat:44.48979,lng:33.56984},{id:351,lat:44.48668,lng:33.55211},{id:352,lat:44.4929,lng:33.53639},{id:353,lat:44.49838,lng:33.52307},{id:354,lat:44.50079,lng:33.49951},{id:355,lat:44.49599,lng:33.48835},{id:356,lat:44.5105,lng:33.4762},{id:357,lat:44.52255,lng:33.46197},{id:358,lat:44.53167,lng:33.4486},{id:359,lat:44.53908,lng:33.43489},{id:360,lat:44.55278,lng:33.40778},{id:361,lat:44.55962,lng:33.39921},{id:362,lat:44.5743,lng:33.38754},{id:363,lat:44.58015,lng:33.38055},{id:364,lat:44.58429,lng:33.37689},{id:365,lat:44.58896,lng:33.39081},{id:366,lat:44.59412,lng:33.40354},{id:367,lat:44.57902,lng:33.40644},{id:368,lat:44.57968,lng:33.41137},{id:369,lat:44.5931,lng:33.4147},{id:370,lat:44.59797,lng:33.4234},{id:371,lat:44.60529,lng:33.43588},{id:372,lat:44.60597,lng:33.4412},{id:373,lat:44.59945,lng:33.44257},{id:374,lat:44.60017,lng:33.44782},{id:375,lat:44.60883,lng:33.44586},{id:376,lat:44.61335,lng:33.4688},{id:377,lat:44.60683,lng:33.46891},{id:378,lat:44.60653,lng:33.47211},{id:379,lat:44.61279,lng:33.47305},{id:380,lat:44.61112,lng:33.48312},{id:381,lat:44.61579,lng:33.49663},{id:382,lat:44.61059,lng:33.49842},{id:383,lat:44.61264,lng:33.5015},{id:384,lat:44.61737,lng:33.50081},{id:385,lat:44.62146,lng:33.50731},{id:386,lat:44.61891,lng:33.50929},{id:387,lat:44.61855,lng:33.5298},{id:388,lat:44.61857,lng:33.55263},{id:389,lat:44.61558,lng:33.57065},{id:390,lat:44.6148,lng:33.58627},{id:391,lat:44.61877,lng:33.57622},{id:392,lat:44.62054,lng:33.56343},{id:393,lat:44.62353,lng:33.54996},{id:394,lat:44.6231,lng:33.53545},{id:395,lat:44.62745,lng:33.51573},{id:396,lat:44.62398,lng:33.50871},{id:397,lat:44.63142,lng:33.50901},{id:398,lat:44.63885,lng:33.51566},{id:399,lat:44.64007,lng:33.52702},{id:400,lat:44.65673,lng:33.54043},{id:401,lat:44.6712,lng:33.54543},{id:402,lat:44.6828,lng:33.54608},{id:403,lat:44.69855,lng:33.54714},{id:404,lat:44.71234,lng:33.54586},{id:405,lat:44.72302,lng:33.54707},{id:406,lat:44.73346,lng:33.54416},{id:407,lat:44.7455,lng:33.5397},{id:408,lat:44.75985,lng:33.5409},{id:409,lat:44.77886,lng:33.53596},{id:410,lat:44.79216,lng:33.53343},{id:411,lat:44.80266,lng:33.53893},{id:412,lat:44.80789,lng:33.54501},{id:413,lat:44.81653,lng:33.54903},{id:414,lat:44.83603,lng:33.54828},{id:415,lat:44.84072,lng:33.55133},{id:416,lat:44.84288,lng:33.56204},{id:417,lat:44.83858,lng:33.56846},{id:418,lat:44.84299,lng:33.58149},{id:419,lat:44.84726,lng:33.58766},{id:420,lat:44.84581,lng:33.59246},{id:421,lat:44.8573,lng:33.59998},{id:422,lat:44.87292,lng:33.60733},{id:423,lat:44.89226,lng:33.60868},{id:424,lat:44.91276,lng:33.61249},{id:425,lat:44.93352,lng:33.60933},{id:426,lat:44.97568,lng:33.59774},{id:427,lat:44.97973,lng:33.60254},{id:428,lat:44.98803,lng:33.60339},{id:429,lat:44.99338,lng:33.60278},{id:430,lat:45.02001,lng:33.59413},{id:431,lat:45.03305,lng:33.5878},{id:432,lat:45.05356,lng:33.57974},{id:433,lat:45.07326,lng:33.56821},{id:434,lat:45.0926,lng:33.55134},{id:435,lat:45.11604,lng:33.53041},{id:436,lat:45.1426,lng:33.49941},{id:437,lat:45.16394,lng:33.46737},{id:438,lat:45.1804,lng:33.43868},{id:439,lat:45.1931,lng:33.41068},{id:440,lat:45.19653,lng:33.38292},{id:441,lat:45.19143,lng:33.37744},{id:442,lat:45.1844,lng:33.38157},{id:443,lat:45.18066,lng:33.36439},{id:444,lat:45.17304,lng:33.35064},{id:445,lat:45.17183,lng:33.3314},{id:446,lat:45.17427,lng:33.31402},{id:447,lat:45.17006,lng:33.30181},{id:448,lat:45.15447,lng:33.29338},{id:449,lat:45.14692,lng:33.28353},{id:450,lat:45.14471,lng:33.26591},{id:451,lat:45.1488,lng:33.25343},{id:452,lat:45.16365,lng:33.23683},{id:453,lat:45.17491,lng:33.22395},{id:454,lat:45.18151,lng:33.20426},{id:455,lat:45.18264,lng:33.1848},{id:456,lat:45.18913,lng:33.17422},{id:457,lat:45.19321,lng:33.16397},{id:458,lat:45.19901,lng:33.15559},{id:459,lat:45.20434,lng:33.14376},{id:460,lat:45.21711,lng:33.13748},{id:461,lat:45.23169,lng:33.10853},{id:462,lat:45.24811,lng:33.0935},{id:463,lat:45.25786,lng:33.08193},{id:464,lat:45.26865,lng:33.07055},{id:465,lat:45.27703,lng:33.05989},{id:466,lat:45.28162,lng:33.05176},{id:467,lat:45.30345,lng:33.0154},{id:468,lat:45.31769,lng:32.99788},{id:469,lat:45.33048,lng:32.97725},{id:470,lat:45.3472,lng:32.94058},{id:471,lat:45.35578,lng:32.92053},{id:472,lat:45.36121,lng:32.8984},{id:473,lat:45.36647,lng:32.85842},{id:474,lat:45.36568,lng:32.82256},{id:475,lat:45.36476,lng:32.77503},{id:476,lat:45.36334,lng:32.75015},{id:477,lat:45.35345,lng:32.73384},{id:478,lat:45.33867,lng:32.70467},{id:479,lat:45.33269,lng:32.68571},{id:480,lat:45.32526,lng:32.68066},{id:481,lat:45.32071,lng:32.67324},{id:482,lat:45.31373,lng:32.65279},{id:483,lat:45.31875,lng:32.62213},{id:484,lat:45.32487,lng:32.60997},{id:485,lat:45.32713,lng:32.59404},{id:486,lat:45.32842,lng:32.57737},{id:487,lat:45.3337,lng:32.56411},{id:488,lat:45.33488,lng:32.54501},{id:489,lat:45.33952,lng:32.52876},{id:490,lat:45.34112,lng:32.50887},{id:491,lat:45.34634,lng:32.49139},{id:492,lat:45.35854,lng:32.50588},{id:493,lat:45.37194,lng:32.51351},{id:494,lat:45.38234,lng:32.50637},{id:495,lat:45.38319,lng:32.49113},{id:496,lat:45.38959,lng:32.47794},{id:497,lat:45.39966,lng:32.47857},{id:498,lat:45.40535,lng:32.48214},{id:499,lat:45.40924,lng:32.48761},{id:500,lat:45.42545,lng:32.50166},{id:501,lat:45.43145,lng:32.51272},{id:502,lat:45.43865,lng:32.52207},{id:503,lat:45.45014,lng:32.537},{id:504,lat:45.4556,lng:32.53888},{id:505,lat:45.4699,lng:32.56211},{id:506,lat:45.48275,lng:32.58775},{id:507,lat:45.50077,lng:32.63264},{id:508,lat:45.51794,lng:32.67377},{id:509,lat:45.52509,lng:32.69553},{id:510,lat:45.51714,lng:32.6995},{id:511,lat:45.51575,lng:32.70504},{id:512,lat:45.51749,lng:32.71092},{id:513,lat:45.52698,lng:32.70672},{id:514,lat:45.53311,lng:32.72355},{id:515,lat:45.53913,lng:32.73033},{id:516,lat:45.54814,lng:32.74827},{id:517,lat:45.56465,lng:32.79301},{id:518,lat:45.55459,lng:32.80618},{id:519,lat:45.55905,lng:32.81396},{id:520,lat:45.55975,lng:32.82075},{id:521,lat:45.55613,lng:32.82754},{id:522,lat:45.56232,lng:32.83808},{id:523,lat:45.5738,lng:32.84382},{id:524,lat:45.58193,lng:32.84015},{id:525,lat:45.58313,lng:32.81885},{id:526,lat:45.58872,lng:32.82258},{id:527,lat:45.59336,lng:32.82871},{id:528,lat:45.60161,lng:32.84239},{id:529,lat:45.6159,lng:32.86744},{id:530,lat:45.64255,lng:32.91314},{id:531,lat:45.65588,lng:32.94312},{id:532,lat:45.68126,lng:32.9986},{id:533,lat:45.69491,lng:33.03875},{id:534,lat:45.71071,lng:33.07857},{id:535,lat:45.71702,lng:33.09524},{id:536,lat:45.7135,lng:33.11433},{id:537,lat:45.72591,lng:33.14299},{id:538,lat:45.74214,lng:33.15311},{id:539,lat:45.75231,lng:33.15971},{id:540,lat:45.76322,lng:33.162},{id:541,lat:45.77878,lng:33.16064},{id:542,lat:45.79583,lng:33.16955},{id:543,lat:45.81001,lng:33.16816},{id:544,lat:45.81164,lng:33.18847},{id:545,lat:45.79283,lng:33.17733},{id:546,lat:45.78024,lng:33.17856},{id:547,lat:45.76678,lng:33.19173},{id:548,lat:45.75403,lng:33.23048},{id:549,lat:45.75463,lng:33.25273},{id:550,lat:45.76097,lng:33.2695},{id:551,lat:45.77018,lng:33.30827},{id:552,lat:45.78298,lng:33.34397},{id:553,lat:45.79962,lng:33.37633},{id:554,lat:45.81692,lng:33.39921},{id:555,lat:45.8266,lng:33.41},{id:556,lat:45.83978,lng:33.43114},{id:557,lat:45.85007,lng:33.46695},{id:558,lat:45.85446,lng:33.48218},{id:559,lat:45.86072,lng:33.49431},{id:560,lat:45.8644,lng:33.50836},{id:561,lat:45.88671,lng:33.5444},{id:562,lat:45.87507,lng:33.55695},{id:563,lat:45.87151,lng:33.56857},{id:564,lat:45.87076,lng:33.58009},{id:565,lat:45.88766,lng:33.59417},{id:566,lat:45.89269,lng:33.61604},{id:567,lat:45.88611,lng:33.63017},{id:568,lat:45.87833,lng:33.64857},{id:569,lat:45.87293,lng:33.6598},{id:570,lat:45.86489,lng:33.66344},{id:571,lat:45.85685,lng:33.67806},{id:572,lat:45.85976,lng:33.68341},{id:573,lat:45.8797,lng:33.67629},{id:574,lat:45.90983,lng:33.67528},{id:575,lat:45.91449,lng:33.69351},{id:576,lat:45.91092,lng:33.69919},{id:577,lat:45.92263,lng:33.7138},{id:578,lat:45.92852,lng:33.72443},{id:579,lat:45.93155,lng:33.73643},{id:580,lat:45.92987,lng:33.75263},{id:581,lat:45.93584,lng:33.75615},{id:582,lat:45.9399,lng:33.75349},{id:583,lat:45.94696,lng:33.75118},{id:584,lat:45.9514,lng:33.72414},{id:585,lat:45.95313,lng:33.69301},{id:586,lat:45.94984,lng:33.68143},{id:587,lat:45.95428,lng:33.65963},{id:588,lat:45.94687,lng:33.64825},{id:589,lat:45.93945,lng:33.64107},{id:590,lat:45.94037,lng:33.62657},{id:591,lat:45.94392,lng:33.61551},{id:592,lat:45.95218,lng:33.61919},{id:593,lat:45.95964,lng:33.6271},{id:594,lat:45.97064,lng:33.62931},{id:595,lat:45.99065,lng:33.62536},{id:596,lat:45.99973,lng:33.61862},{id:597,lat:45.99421,lng:33.58965},{id:598,lat:45.99879,lng:33.54611},{id:599,lat:46.03609,lng:33.57015},{id:600,lat:46.07543,lng:33.59703},{id:601,lat:46.0895,lng:33.59145},{id:602,lat:46.11312,lng:33.59316},{id:603,lat:46.13062,lng:33.60476},{id:604,lat:46.13631,lng:33.6204},{id:605,lat:46.14107,lng:33.63688},{id:606,lat:46.22617,lng:33.61404},{id:607,lat:46.22925,lng:33.64632},{id:608,lat:46.22094,lng:33.66486},{id:609,lat:46.2055,lng:33.68717},{id:610,lat:46.20288,lng:33.70056},{id:611,lat:46.18435,lng:33.73936},{id:612,lat:46.191,lng:33.75618},{id:613,lat:46.20003,lng:33.77832},{id:614,lat:46.20288,lng:33.80287},{id:615,lat:46.20312,lng:33.83068},{id:616,lat:46.19884,lng:33.84991},{id:617,lat:46.18981,lng:33.87119},{id:618,lat:46.17448,lng:33.89231},{id:619,lat:46.16057,lng:33.91273},{id:620,lat:46.13298,lng:33.98827},{id:621,lat:46.11133,lng:34.02706},{id:622,lat:46.10871,lng:34.05384},{id:623,lat:46.11799,lng:34.07204},{id:624,lat:46.11585,lng:34.09126},{id:625,lat:46.10466,lng:34.12594},{id:626,lat:46.08657,lng:34.14516},{id:627,lat:46.07752,lng:34.15976},{id:628,lat:46.07133,lng:34.17503},{id:629,lat:46.06621,lng:34.18414},{id:630,lat:46.06341,lng:34.211},{id:631,lat:46.05653,lng:34.23061},{id:632,lat:46.05298,lng:34.24885},{id:633,lat:46.06001,lng:34.29726},{id:634,lat:46.06084,lng:34.33056},{id:635,lat:46.0475,lng:34.36386},{id:636,lat:46.03284,lng:34.38583},{id:637,lat:46.01955,lng:34.39905},{id:638,lat:46.00579,lng:34.40884},{id:639,lat:45.98933,lng:34.41313},{id:640,lat:45.97573,lng:34.42514},{id:641,lat:45.96249,lng:34.44197},{id:642,lat:45.94638,lng:34.46634},{id:643,lat:45.94262,lng:34.48196},{id:644,lat:45.9422,lng:34.49553},{id:645,lat:45.94673,lng:34.5096},{id:646,lat:45.95533,lng:34.52299},{id:647,lat:45.97907,lng:34.5472},{id:648,lat:45.98766,lng:34.55286},{id:649,lat:45.99159,lng:34.55681},{id:650,lat:45.99398,lng:34.56333},{id:651,lat:45.99571,lng:34.57449},{id:652,lat:45.99553,lng:34.58771},{id:653,lat:45.9941,lng:34.60367},{id:654,lat:45.98468,lng:34.63371},{id:655,lat:45.97633,lng:34.65345},{id:656,lat:45.96535,lng:34.67422},{id:657,lat:45.95461,lng:34.68899},{id:658,lat:45.92835,lng:34.72572},{id:659,lat:45.91044,lng:34.75199},{id:660,lat:45.90231,lng:34.80125},{id:661,lat:45.80451,lng:34.79937},{id:662,lat:45.73614,lng:34.74237},{id:663,lat:45.7571,lng:34.89429},{id:664,lat:45.71865,lng:34.8852},{id:665,lat:45.68658,lng:34.92005},{id:666,lat:45.69095,lng:34.9645}],[{id:0,lat:45.24975,lng:36.57477},{id:1,lat:45.25114,lng:36.57014},{id:2,lat:45.25296,lng:36.56774},{id:3,lat:45.25398,lng:36.56344},{id:4,lat:45.25725,lng:36.55701},{id:5,lat:45.2616,lng:36.54971},{id:6,lat:45.26685,lng:36.54817},{id:7,lat:45.27259,lng:36.54053},{id:8,lat:45.27561,lng:36.53718},{id:9,lat:45.28032,lng:36.53495},{id:10,lat:45.28491,lng:36.52611},{id:11,lat:45.2895,lng:36.51907},{id:12,lat:45.29155,lng:36.51684},{id:13,lat:45.29125,lng:36.52276},{id:14,lat:45.28902,lng:36.52628},{id:15,lat:45.28564,lng:36.53057},{id:16,lat:45.28207,lng:36.53993},{id:17,lat:45.27543,lng:36.54799},{id:18,lat:45.26854,lng:36.55563},{id:19,lat:45.26196,lng:36.56344},{id:20,lat:45.24903,lng:36.57915},{id:21,lat:45.24909,lng:36.5758}]],type_id:6,strokeweight:"2.00",strokeopacity:"0.80",strokecolor:"#aa1111",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#aa0000",fillopacity:"0.25",lang:"en"},{id:21191152,time:651024e3,name:"Abhazia",ttl:1767318400,resource:4,points:[[{id:0,lat:43.19767,lng:42.07145},{id:1,lat:43.18665,lng:42.04262},{id:2,lat:43.20217,lng:42.03164},{id:3,lat:43.21769,lng:42.01378},{id:4,lat:43.21469,lng:41.98494},{id:5,lat:43.20367,lng:41.95747},{id:6,lat:43.22545,lng:41.94271},{id:7,lat:43.22482,lng:41.92091},{id:8,lat:43.2312,lng:41.90048},{id:9,lat:43.2527,lng:41.88606},{id:10,lat:43.2432,lng:41.86684},{id:11,lat:43.21318,lng:41.84898},{id:12,lat:43.21518,lng:41.82975},{id:13,lat:43.20118,lng:41.80573},{id:14,lat:43.22069,lng:41.78444},{id:15,lat:43.21719,lng:41.77517},{id:16,lat:43.2437,lng:41.72744},{id:17,lat:43.22319,lng:41.70684},{id:18,lat:43.21769,lng:41.68488},{id:19,lat:43.23996,lng:41.65879},{id:20,lat:43.22132,lng:41.6375},{id:21,lat:43.22068,lng:41.61759},{id:22,lat:43.22932,lng:41.60437},{id:23,lat:43.23494,lng:41.58704},{id:24,lat:43.2522,lng:41.57707},{id:25,lat:43.25021,lng:41.56162},{id:26,lat:43.27121,lng:41.54548},{id:27,lat:43.28271,lng:41.49778},{id:28,lat:43.3097,lng:41.45984},{id:29,lat:43.3037,lng:41.44523},{id:30,lat:43.31718,lng:41.41708},{id:31,lat:43.35514,lng:41.41022},{id:32,lat:43.36712,lng:41.38412},{id:33,lat:43.37112,lng:41.36696},{id:34,lat:43.35464,lng:41.34808},{id:35,lat:43.34316,lng:41.32645},{id:36,lat:43.33666,lng:41.28799},{id:37,lat:43.35838,lng:41.27838},{id:38,lat:43.36313,lng:41.25778},{id:39,lat:43.35814,lng:41.24354},{id:40,lat:43.37012,lng:41.23478},{id:41,lat:43.3801,lng:41.21178},{id:42,lat:43.38584,lng:41.185},{id:43,lat:43.38459,lng:41.1692},{id:44,lat:43.38883,lng:41.15513},{id:45,lat:43.40306,lng:41.15342},{id:46,lat:43.39932,lng:41.12595},{id:47,lat:43.40256,lng:41.10398},{id:48,lat:43.38559,lng:41.09779},{id:49,lat:43.39258,lng:41.06072},{id:50,lat:43.4073,lng:41.03292},{id:51,lat:43.43298,lng:41.00647},{id:52,lat:43.42899,lng:40.98793},{id:53,lat:43.42151,lng:40.95738},{id:54,lat:43.426,lng:40.93506},{id:55,lat:43.43497,lng:40.92613},{id:56,lat:43.44494,lng:40.92957},{id:57,lat:43.45791,lng:40.89386},{id:58,lat:43.47236,lng:40.89936},{id:59,lat:43.4888,lng:40.89249},{id:60,lat:43.48631,lng:40.85404},{id:61,lat:43.49278,lng:40.8149},{id:62,lat:43.51171,lng:40.76308},{id:63,lat:43.52565,lng:40.74059},{id:64,lat:43.53511,lng:40.69405},{id:65,lat:43.54631,lng:40.69096},{id:66,lat:43.56199,lng:40.66246},{id:67,lat:43.55241,lng:40.64409},{id:68,lat:43.54781,lng:40.61885},{id:69,lat:43.54202,lng:40.60349},{id:70,lat:43.53126,lng:40.59499},{id:71,lat:43.51818,lng:40.56564},{id:72,lat:43.52142,lng:40.52308},{id:73,lat:43.53001,lng:40.49905},{id:74,lat:43.54855,lng:40.4805},{id:75,lat:43.54606,lng:40.4654},{id:76,lat:43.5575,lng:40.4345},{id:77,lat:43.55279,lng:40.41459},{id:78,lat:43.55802,lng:40.37958},{id:79,lat:43.56797,lng:40.32739},{id:80,lat:43.57791,lng:40.31502},{id:81,lat:43.57232,lng:40.29459},{id:82,lat:43.58562,lng:40.26043},{id:83,lat:43.58425,lng:40.23657},{id:84,lat:43.57492,lng:40.21545},{id:85,lat:43.57667,lng:40.17288},{id:86,lat:43.56635,lng:40.13202},{id:87,lat:43.56497,lng:40.09804},{id:88,lat:43.54892,lng:40.09237},{id:89,lat:43.52988,lng:40.09494},{id:90,lat:43.50076,lng:40.06027},{id:91,lat:43.48033,lng:40.04722},{id:92,lat:43.4594,lng:40.04173},{id:93,lat:43.42974,lng:40.01598},{id:94,lat:43.42463,lng:40.01049},{id:95,lat:43.42082,lng:40.01581},{id:96,lat:43.40408,lng:40.00903},{id:97,lat:43.38634,lng:40.0074},{id:98,lat:43.37911,lng:40.04053},{id:99,lat:43.37511,lng:40.07675},{id:100,lat:43.35589,lng:40.12413},{id:101,lat:43.34228,lng:40.14576},{id:102,lat:43.324,lng:40.21444},{id:103,lat:43.31107,lng:40.2431},{id:104,lat:43.27637,lng:40.25882},{id:105,lat:43.1869,lng:40.27279},{id:106,lat:43.16725,lng:40.29837},{id:107,lat:43.15009,lng:40.32325},{id:108,lat:43.14183,lng:40.34489},{id:109,lat:43.16713,lng:40.37613},{id:110,lat:43.15335,lng:40.42728},{id:111,lat:43.13771,lng:40.46798},{id:112,lat:43.13757,lng:40.51689},{id:113,lat:43.11828,lng:40.54505},{id:114,lat:43.0867,lng:40.57594},{id:115,lat:43.09296,lng:40.62709},{id:116,lat:43.09847,lng:40.64306},{id:117,lat:43.08945,lng:40.66418},{id:118,lat:43.08293,lng:40.69525},{id:119,lat:43.08469,lng:40.75653},{id:120,lat:43.0798,lng:40.79172},{id:121,lat:43.07641,lng:40.83653},{id:122,lat:43.07039,lng:40.86726},{id:123,lat:43.05283,lng:40.88287},{id:124,lat:43.00691,lng:40.93335},{id:125,lat:42.99146,lng:40.94914},{id:126,lat:42.97753,lng:40.97385},{id:127,lat:42.99247,lng:40.99943},{id:128,lat:42.99316,lng:41.01634},{id:129,lat:42.99636,lng:41.03325},{id:130,lat:42.98154,lng:41.05179},{id:131,lat:42.94385,lng:41.0772},{id:132,lat:42.9054,lng:41.08887},{id:133,lat:42.84274,lng:41.1002},{id:134,lat:42.8017,lng:41.14483},{id:135,lat:42.79339,lng:41.15685},{id:136,lat:42.78709,lng:41.17366},{id:137,lat:42.79968,lng:41.21658},{id:138,lat:42.78356,lng:41.28353},{id:139,lat:42.76304,lng:41.33728},{id:140,lat:42.76158,lng:41.37479},{id:141,lat:42.74323,lng:41.40782},{id:142,lat:42.72444,lng:41.44336},{id:143,lat:42.69505,lng:41.46275},{id:144,lat:42.64002,lng:41.48987},{id:145,lat:42.61197,lng:41.49708},{id:146,lat:42.58114,lng:41.50943},{id:147,lat:42.51134,lng:41.52455},{id:148,lat:42.41155,lng:41.54755},{id:149,lat:42.4208,lng:41.5714},{id:150,lat:42.43588,lng:41.5932},{id:151,lat:42.43207,lng:41.65604},{id:152,lat:42.45208,lng:41.6526},{id:153,lat:42.46335,lng:41.65638},{id:154,lat:42.47665,lng:41.64093},{id:155,lat:42.48286,lng:41.65226},{id:156,lat:42.48704,lng:41.68282},{id:157,lat:42.51817,lng:41.74462},{id:158,lat:42.54626,lng:41.81051},{id:159,lat:42.56825,lng:41.83937},{id:160,lat:42.60591,lng:41.87987},{id:161,lat:42.62335,lng:41.90667},{id:162,lat:42.62992,lng:41.92434},{id:163,lat:42.6284,lng:41.94065},{id:164,lat:42.64154,lng:41.95404},{id:165,lat:42.66527,lng:41.93894},{id:166,lat:42.68698,lng:41.94031},{id:167,lat:42.69468,lng:41.93585},{id:168,lat:42.69733,lng:41.92315},{id:169,lat:42.73542,lng:41.90323},{id:170,lat:42.7455,lng:41.95198},{id:171,lat:42.76239,lng:41.95679},{id:172,lat:42.77826,lng:41.94786},{id:173,lat:42.77222,lng:41.90529},{id:174,lat:42.79891,lng:41.90084},{id:175,lat:42.84526,lng:41.87645},{id:176,lat:42.86766,lng:41.8912},{id:177,lat:42.87709,lng:41.92536},{id:178,lat:42.88753,lng:41.94854},{id:179,lat:42.89684,lng:41.93481},{id:180,lat:42.90615,lng:41.9046},{id:181,lat:42.94738,lng:41.89225},{id:182,lat:42.96195,lng:41.90529},{id:183,lat:42.97074,lng:41.8974},{id:184,lat:42.98255,lng:41.87164},{id:185,lat:42.9936,lng:41.86753},{id:186,lat:43.02312,lng:41.88986},{id:187,lat:43.02524,lng:41.93756},{id:188,lat:43.04681,lng:41.99112},{id:189,lat:43.05584,lng:42.04193},{id:190,lat:43.08493,lng:42.0584},{id:191,lat:43.109,lng:42.08863},{id:192,lat:43.14158,lng:42.11472},{id:193,lat:43.15936,lng:42.12364},{id:194,lat:43.17314,lng:42.14768},{id:195,lat:43.18865,lng:42.14905},{id:196,lat:43.21569,lng:42.13875},{id:197,lat:43.21018,lng:42.12639},{id:198,lat:43.20856,lng:42.10854},{id:199,lat:43.21193,lng:42.0948},{id:200,lat:43.20443,lng:42.07867}]],type_id:6,strokeweight:"2.00",strokeopacity:"0.80",strokecolor:"#FF0000",symbolpath:"FORWARD_CLOSED_ARROW",fillcolor:"#FF0000",fillopacity:"0.25",lang:"en"}],zT=[],DT=1650108328,LT="16",RT="04",FT="\u041A\u0432\u0456\u0442\u0435\u043D\u044C",BT="2022",OT=20,UT=20,NT=[0],VT=[{type:"mobile",lat:48.063396,lng:31.97021,zoom:5,align:"center"}],jT=24,$T=!0;var GT={success:kT,key:CT,last:IT,venues:PT,fields:MT,kmls:zT,datats:DT,datac:LT,datamn:RT,datam:FT,datay:BT,amount:OT,count:UT,res:NT,center:VT,freerequests:jT,isGood:$T},k7=[{id:"ddcyxMEenhD5I3OzO9yQ",verifiedAt:1650106004,deletedAt:0,maxGuests:8,stayDurationFew:!0,author:"ccnUSrHFIQbtAUuynoikaIo7u6o2",stayDurationWar:!0,verified:!0,updatedAt:1650106004,description:"\u0411\u0443\u0434\u0438\u043D\u043E\u043A, \u0437\u0440\u0443\u0447\u043D\u043E\u0441\u0442\u0456 \u0432 \u0431\u0443\u0434\u0438\u043D\u043A\u0443. ",deleted:!1,regionCode:"UA59000000000057109",stayDurationOne:!0,createdAt:1650106004,countryCode:"UA",phone:"+380992624782",stayDurationAny:!0,deletedPermanently:!1,city:"\u041C\u0430\u043B\u0430 \u041F\u0430\u0432\u043B\u0456\u0432\u043A\u0430",guestTypes:[100]},{id:"G6U1QZE81CQ46Tx94Lc2",verifiedAt:1650105588,city:"\u041A\u0438\u0457\u0432",stayDurationAny:!1,deletedPermanently:!1,regionCode:"UA32000000000030281",phone:"+380980035372",author:"3PQpOKKeLdWWlNYn4V4vk0Yyh5v1",updatedAt:1650105588,countryCode:"UA",verified:!0,description:"\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430, \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u043D\u044F \u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u044F\u043C\u0438. ",stayDurationFew:!0,guestTypes:[400,500],maxGuests:2,stayDurationOne:!0,deletedAt:0,createdAt:1650105588,deleted:!1,stayDurationWar:!0},{id:"z7wixBxSsqsOeN9CpoOP",author:"Sbhruu2ZJzXbUixZ0yYdLlTNrMr2",stayDurationFew:!0,deletedPermanently:!1,deleted:!1,verified:!1,updatedAt:1650104822,stayDurationAny:!0,countryCode:"UA",verifiedAt:0,regionCode:"UA56000000000066151",street:"\u0411\u0443\u0434\u0456\u0432\u0435\u043B\u044C\u043D\u0438\u043A\u0456\u0432",deletedAt:0,createdAt:1649316807,stayDurationOne:!0,stayDurationWar:!0,city:"\u0412\u0430\u0440\u0430\u0448",maxGuests:5,deletedDueCode:"",description:"\u0411\u0415\u0417\u041A\u041E\u0428\u0422\u041E\u0412\u041D\u041E \u0412\u0406\u0417\u042C\u041C\u0423 \u0414\u041E \u0421\u0415\u0411\u0415 \u041D\u0410 \u041A\u0412\u0410\u0420\u0422\u0418\u0420\u0423 (\u041F\u0420\u041E\u0416\u0418\u0412\u0410\u041D\u041D\u042F \u0417 \u0412\u041B\u0410\u0421\u041D\u0418\u041A\u041E\u041C, \u0414\u0412\u041E\u0425\u041A\u0406\u041C\u041D\u0410\u0422\u041D\u0410, \u0404 \u0412\u0406\u041B\u042C\u041D\u0410 \u0421\u041F\u0410\u041B\u042C\u041D\u042F. \u0412\u0421\u0406 \u0423\u041C\u041E\u0412\u0418) \u0416\u0406\u041D\u041A\u0423 \u0410\u0411\u041E \u0421\u0406\u041C'\u042E (\u0414\u041E\u0420\u041E\u0421\u041B\u0418\u0425 \u041D\u0415 \u0411\u0406\u041B\u042C\u0428\u0415 2 - \u0425) \u0422\u0406\u041B\u042C\u041A\u0418 \u0417 \u0414\u0406\u0422\u041A\u0410\u041C\u0418. \u0416\u0418\u0422\u041B\u041E \u0412 \u0420\u0406\u0412\u041D\u0415\u041D\u0421\u042C\u041A\u0406\u0419 \u041E\u0411\u041B. \u041C. \u0412\u0410\u0420\u0410\u0428. \u0414\u0406\u0422\u041A\u0418 \u041D\u0415 \u0421\u0422\u0410\u0420\u0428\u0415 14 \u0420\u041E\u041A\u0406\u0412. \u0422\u0406\u041B\u042C\u041A\u0418 \u0414\u041B\u042F \u0411\u0406\u0416\u0415\u041D\u0426\u0406\u0412, \u042F\u041A\u0406 \u0414\u0406\u0419\u0421\u041D\u041E \u041F\u041E\u0422\u0420\u0415\u0411\u0423\u042E\u0422\u042C \u0416\u0418\u0422\u041B\u041E. \u0422\u0415\u041B: 0977196558.",deletedDueForHosts:"",deletedDue:"",guestTypes:[200,500,800],restoredAt:1649923898,phone:"+380977196558"},{id:"zkfgVudYTV5PycqEpxlA",author:"avZiQv3t2Gew8oOMqxVAyCYuyk53",city:"\u041B\u044C\u0432\u0456\u0432",verifiedAt:1650104286,updatedAt:1650104286,guestTypes:[400,500,600,800],stayDurationFew:!0,stayDurationOne:!0,deleted:!1,deletedAt:0,stayDurationWar:!1,stayDurationAny:!1,description:`\u041A\u0440\u0435\u0434\u043E\u041F\u0440\u0438\u0445\u0438\u0441\u0442\u043E\u043A \u0440\u043E\u0437\u0442\u0430\u0448\u043E\u0432\u0430\u043D\u0438\u0439 \u0437\u0430 \u0430\u0434\u0440\u0435\u0441\u043E\u044E \u0432\u0443\u043B.\u0413\u043E\u0440\u043E\u0434\u043E\u0446\u044C\u043A\u0430, 128\u0410. \u0417 \u0440\u0430\u0434\u0456\u0441\u0442\u044E \u0434\u043E\u043F\u043E\u043C\u043E\u0436\u0435\u043C\u043E \u0443 \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u043D\u0456 \u0436\u0456\u043D\u043A\u0430\u043C, \u0434\u0456\u0442\u044F\u043C, \u0447\u043E\u043B\u043E\u0432\u0456\u043A\u0430\u043C, \u0441\u0442\u0430\u0440\u0448\u0435 60 \u0440\u043E\u043A\u0456\u0432 \u0442\u0430 \u043D\u0435\u0432\u0435\u043B\u0438\u043A\u0438\u043C \u0442\u0432\u0430\u0440\u0438\u043D\u043A\u0430\u043C. \u041D\u0430 \u043E\u0434\u043D\u0443 \u043D\u0456\u0447 \u0437\u0430\u0441\u0435\u043B\u044F\u0454\u043C\u043E \u0447\u043E\u043B\u043E\u0432\u0456\u043A\u0456\u0432, \u044F\u043A\u0456 \u0441\u0443\u043F\u0440\u043E\u0432\u043E\u0434\u0436\u0443\u044E\u0442\u044C \u0441\u0456\u043C'\u044E. 
\u0422\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C \u043F\u0435\u0440\u0435\u0431\u0443\u0432\u0430\u043D\u043D\u044F \u0443 \u043F\u0440\u0438\u0445\u0438\u0441\u0442\u043A\u0443 - \u0434\u043E 7 \u0434\u043D\u0456\u0432. \u0417\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0443\u0454\u043C\u043E \u043B\u0456\u0436\u043A\u0430\u043C\u0438, \u043F\u043E\u0441\u0442\u0456\u043B\u044C\u043D\u043E\u044E \u0431\u0456\u043B\u0438\u0437\u043D\u043E\u044E, \u0434\u0443\u0448\u043E\u0432\u043E\u044E \u043A\u0456\u043C\u043D\u0430\u0442\u043E\u044E, \u0434\u0438\u0442\u044F\u0447\u043E\u044E \u043A\u0456\u043C\u043D\u0430\u0442\u043E\u044E, \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0430\u043C\u0438 \u0445\u0430\u0440\u0447\u0443\u0432\u0430\u043D\u043D\u044F, \u0433\u043E\u0442\u043E\u0432\u0438\u043C\u0438 \u043E\u0431\u0456\u0434\u0430\u043C\u0438. \u041F\u0440\u0438\u0439\u043C\u0430\u0454\u043C\u043E \u0437 08:00 \u0434\u043E 21:00 \u0433\u043E\u0434. \u041E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u043E\u044E \u0443\u043C\u043E\u0432\u043E\u044E \u0454 \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0456\u0432.`,phone:"+380676964603",street:"\u0413\u043E\u0440\u043E\u0434\u043E\u0446\u044C\u043A\u0430 128\u0410",createdAt:1650102649,regionCode:"UA46000000000026241",deletedPermanently:!1,maxGuests:50,verified:!0,countryCode:"UA"},{id:"JT3h5utBsx851T9IPkbO",stayDurationFew:!0,street:"\u0432\u0443\u043B\u0438\u0446\u044F \u041E\u043B\u0435\u043A\u0441\u0430\u043D\u0434\u0440\u0430 \u0411\u043B\u0438\u0441\u0442\u0430",verifiedAt:0,deletedDueCode:"",updatedAt:1650102329,city:"\u0423\u0436\u0433\u043E\u0440\u043E\u0434",createdAt:1648798873,maxGuests:1,deletedDue:"",phone:"+380501606969",guestTypes:[400,500,600],deletedPermanently:!1,stayDurationOne:!0,deletedDueForHosts:"",deletedAt:0,deleted:!1,regionCode:"UA21000000000011690",countryCode:"UA",stayDurationAny:!0,description:`\u041A\u0456\u043C\u043D\u0430\u0442\u0430 \u043D\u0430 \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u043F\u043E\u0432\u0435\u0440\u0441\u0456  \u0432 \u0430\u0434\u043C\u0456\u043D. \u043F\u0440\u0438\u043C\u0456\u0449\u0435\u043D\u043D\u0456 \u0446\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0440\u0438\u043D\u043A\u0443 \u043C\u0456\u0441\u0442\u0430 \u0423\u0436\u0433\u043E\u0440\u043E\u0434 "\u0440\u0438\u043D\u043E\u043A \u041A\u0440\u0430\u0441\u043D\u043E\u0434\u043E\u043D\u0446\u0456\u0432" \u041A\u0456\u043C\u043D\u0430\u0442\u0430 \u0440\u043E\u0437\u0440\u0430\u0445\u043E\u0432\u0430\u043D\u0430 \u043D\u0430 \u043F"\u044F\u0442\u044C \u043B\u044E\u0434\u0435\u0439  \u0412 \u043A\u0456\u043C\u043D\u0430\u0442\u0456 \u0454 5 \u0443\u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u043E\u0432\u0430\u043D\u0438\u0445 \u043B\u0456\u0436\u043A\u043E\u043C\u0456\u0441\u0442\u044C.                \u0412 \u043A\u0456\u043C\u043D\u0430\u0442\u0456 \u0454 \u043A\u043E\u043D\u0434\u0438\u0446\u0456\u043E\u043D\u0435\u0440, \u043F\u0440\u0430\u043B\u044C\u043D\u0430 \u043C\u0430\u0448\u0438\u043D\u0430 , \u0443\u043C\u0438\u0432\u0430\u043B\u044C\u043D\u0438\u043A ,\u0441\u0442\u0456\u043B, \u0441\u0442\u0456\u043B\u044C\u0446\u0456, \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u0431\u0456\u0433\u0440\u0456\u0432\u0430\u0447, \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043F\u043B\u0438\u0442\u043A\u0430 . \u041D\u0430 \u043F\u0435\u0440\u0448\u043E\u043C\u0443 \u043F\u043E\u0432\u0435\u0440\u0441\u0456 \u0454 \u0442\u0443\u0430\u043B\u0435\u0442 \u0442\u0430 \u0434\u0443\u0448\u043E\u0432\u0430 \u043A\u0456\u043C\u043D\u0430\u0442\u0430. \u0422\u0430\u043A\u043E\u0436 \u043D\u0430 \u043F\u0435\u0440\u0448\u043E\u043C\u0443 \u043F\u043E\u0432\u0435\u0440\u0441\u0456 \u0437\u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C\u0441\u044F \u043A\u0430\u0444\u0435 \u0417\u0430\u0442\u0438\u0448\u043E\u043A \u0434\u0435 \u043C\u043E\u0436\u043D\u0430 \u0441\u043C\u0430\u0447\u043D\u043E \u0442\u0430 \u043D\u0435 \u0434\u043E\u0440\u043E\u0433\u043E \u0445\u0430\u0440\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044C. \u041D\u0430\u0448 \u0440\u0438\u043D\u043E\u043A \u043F\u0440\u043E\u043C\u0438\u0441\u043B\u043E\u0432\u043E \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432\u0438\u0439 -\u043F\u043E\u0441\u0442\u0456\u0439\u043D\u043E \u0434\u0456\u044E\u0447\u0438\u0439 \u0456 \u0442\u0443\u0442 \u043C\u043E\u0436\u043D\u0430 \u043F\u0440\u0438\u0434\u0431\u0430\u0442\u0438 \u0432\u0441\u0435 \u043D\u0435\u043E\u0431\u0445\u0456\u0434\u043D\u0435 \u043D\u0435 \u0432\u0438\u0445\u043E\u0434\u044F\u0447\u0438 \u0437\u0430 \u043C\u0435\u0436\u0456 \u0440\u0438\u043D\u043A\u0443. \u041F\u0440\u0438 \u043F\u043E\u0442\u0440\u0435\u0431\u0456 \u0437\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0443\u0454\u043C\u043E \u043F\u0430\u0440\u043A\u043E \u043C\u0456\u0441\u0446\u0435 \u043D\u0430 \u043F\u0430\u0440\u043A\u043E\u0432\u0446\u0456 \u0437 \u043E\u0445\u043E\u0440\u043E\u043D\u043E\u044E. \u041F\u043E\u0440\u0443\u0447 \u0437 \u0430\u0434\u043C\u0456\u043D\u0431\u0443\u0434\u0438\u043D\u043A\u043E\u043C \u0430\u0432\u0442\u043E\u0431\u0443\u0441\u043D\u0430 \u0437\u0443\u043F\u0438\u043D\u043A\u0430, \u0430\u0432\u0442\u043E\u0431\u0443\u0441\u0438 \u043A\u0443\u0440\u0441\u0443\u044E\u0442\u044C \u0432 \u0431\u0443\u0434\u044C \u044F\u043A\u0443 \u0442\u043E\u0447\u043A\u0443 \u043C\u0456\u0441\u0442\u0430. \u0421\u043F\u0456\u043B\u043A\u0443\u0432\u0430\u043D\u043D\u044F(\u043A\u043E\u043C\u0443\u043D\u0456\u043A\u0430\u0446\u0456\u044F) \u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u043E\u044E \u043C\u043E\u0432\u043E\u044E. \u0422\u0435\u0442\u044F\u043D\u0430 \u042E\u0440\u0456\u0457\u0432\u043D\u0430.
 `,author:"sD9qOGb1FddxJjQzC8r46lk0shf1",restoredAt:1650004087,stayDurationWar:!0,verified:!1},{id:"IRBgSJbvU8UJKIRQTUBH",stayDurationAny:!1,city:"\u041A\u0440\u0438\u0432\u0438\u0439 \u0420\u0456\u0433 ",deleted:!1,countryCode:"UA",updatedAt:1650099539,regionCode:"UA12000000000090473",deletedPermanently:!1,verified:!0,deletedAt:0,description:"\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430, 1 \u043A\u0456\u043C\u043D\u0430\u0442\u043D\u0430, \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u0435\u043C, \u0432\u0441\u0456 \u0443\u043C\u043E\u0432\u0438 \u043F\u0440\u0438\u0441\u0443\u0442\u043D\u0456. \u041F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0432\u0456\u0434 \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u043E\u0445 \u0434\u043D\u0456\u0432 \u0434\u043E 1 -2 \u0442\u0438\u0436\u043D\u0456\u0432, \u041F\u0440\u0438\u0439\u043C\u0443 \u0436\u0456\u043D\u043E\u043A, \u0447\u043E\u043B\u043E\u0432\u0456\u043A\u0456\u0432 \u0430\u0431\u043E \u043F\u0430\u0440\u0443 \u0431\u0435\u0437 \u0434\u0456\u0442\u0435\u0439. \u0411\u0435\u0437 \u0442\u0432\u0430\u0440\u0438\u043D. ",verifiedAt:1650099539,phone:"+380661276949",stayDurationFew:!0,stayDurationWar:!1,stayDurationOne:!0,createdAt:1650099539,maxGuests:2,guestTypes:[700,400,300],author:"8RD7Q2CszBOVqnVOp0JKbGpWjAN2"},{id:"HgslVGRk5PdLXX6K4P4R",deletedAt:0,deleted:!1,stayDurationWar:!0,stayDurationOne:!0,maxGuests:3,verified:!0,description:"\u041A\u0432\u0430\u0440\u0442\u0438\u0440\u0430 2-\u043A\u0456\u043C\u043D\u0430\u0442\u043D\u0430, \u043D\u0430\u0434\u0430\u044E 1 \u043A\u0456\u043C\u043D\u0430\u0442\u0443 , \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u0435\u043C, \u0434\u043B\u044F \u0436\u0456\u043D\u043A\u0438 \u0437 1 \u0447\u0438 2 \u0434\u0456\u0442\u044C\u043C\u0438. \u0412 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0456 \u0454 \u043F\u0430\u043F\u0443\u0433\u0430. \u0423\u0441\u0456 \u0443\u043C\u043E\u0432\u0438 \u0432 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0456 \u043F\u0440\u0438\u0441\u0443\u0442\u043D\u0456. \u041C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u0436\u0456\u043D\u043A\u0430 \u0437 \u0441\u0435\u043B\u0430, \u044F\u043A\u0430 \u043D\u0435 \u0431\u043E\u0457\u0442\u044C\u0441\u044F \u0440\u043E\u0431\u043E\u0442\u0438, \u0442\u043E\u043C\u0443 \u0449\u043E \u043C\u0430\u044E \u0434\u0430\u0447\u0443 \u0456 \u0432\u043E\u043D\u0430 \u043C\u043E\u0436\u0435 \u0442\u0430\u043C \u0437\u0430\u0439\u043C\u0430\u0442\u0438\u0441\u044C \u0433\u043E\u0440\u043E\u0434\u043E\u043C. \u0411\u0430\u0436\u0430\u043D\u043E \u0442\u0440\u0438\u0432\u0430\u043B\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D,\u0430\u043B\u0435 \u0454 \u043C\u043E\u0436\u043B\u0438\u0432\u0456\u0441\u0442\u044C \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0434\u043D\u0456\u0432. ",author:"ES13is5dxWWoMmgZISkXIf5xky02",phone:"+380666919980",stayDurationAny:!0,verifiedAt:1650098557,regionCode:"UA74000000000025378",updatedAt:1650098557,stayDurationFew:!0,guestTypes:[500,400],createdAt:1650098557,deletedPermanently:!1,countryCode:"UA",city:"\u043C. \u041F\u0440\u0438\u043B\u0443\u043A\u0438"},{id:"PzVDpH0iis5iYZSVFZbU",stayDurationOne:!0,stayDurationAny:!1,author:"EWIzG23iG0hlKtw6lAGyO8tykiw2",createdAt:1650098068,deletedAt:0,city:"\u0441. \u041A\u0440\u0430\u0441\u0438\u043B\u0456\u0432\u043A\u0430",verified:!0,maxGuests:4,countryCode:"UA",deletedPermanently:!1,verifiedAt:1650098068,stayDurationFew:!0,regionCode:"UA32000000000030281",description:"\u0411\u0443\u0434\u0438\u043D\u043E\u043A,  \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0431\u0435\u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u044F. \u0412\u0441\u0435 \u0432 \u0431\u0443\u0434\u0438\u043D\u043A\u0443 \u0454, \u0443\u043C\u043E\u0432\u0438 \u0432\u0441\u0456 \u0432 \u0431\u0443\u0434\u0438\u043D\u043A\u0443. \u0404 3 \u043A\u043E\u0442\u0438,2 \u0441\u043E\u0431\u0430\u043A\u0438, \u0442\u043E\u043C\u0443 \u0442\u0438\u043C, \u0445\u0442\u043E \u0433\u043E\u0442\u043E\u0432\u0438\u0439 \u0434\u043E\u0433\u043B\u044F\u0434\u0430\u0442\u0438 \u0437\u0430 \u0442\u0432\u0430\u0440\u0438\u043D\u0430\u043C\u0438. \u041B\u0438\u0448\u0435 \u0442\u0440\u0438\u0432\u0430\u043B\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D. \u041E\u043F\u043B\u0430\u0442\u0430 \u043B\u0438\u0448\u0435 \u0437\u0430 \u043A\u043E\u043C\u0443\u043D\u0430\u043B\u044C\u043D\u0456 \u043F\u043B\u0430\u0442\u0435\u0436\u0456. \u0417\u043C\u0456\u043D\u043D\u0456 \u0444\u0456\u043B\u044C\u0442\u0440\u0438 \u043D\u0430 \u0432\u043E\u0434\u0443, \u0442\u043E\u043C\u0443 \u043F\u043E\u0442\u0440\u0456\u0431\u043D\u0430 \u0432 \u043C\u0430\u0439\u0431\u0443\u0442\u043D\u044C\u043E\u043C\u0443 \u0437\u0430\u043C\u0456\u043D\u0430. \u041B\u0438\u0448\u0435 \u0434\u043B\u044F \u0441\u0456\u043C'\u0457 \u0437 \u0434\u0456\u0442\u044C\u043C\u0438, \u0430\u0431\u043E \u043C\u0430\u0442\u0435\u0440\u0456 \u0456\u0437 \u0434\u0456\u0442\u044C\u043C\u0438, \u0430\u0431\u043E \u0431\u0430\u0431\u0443\u0441\u044F\\\u0434\u0456\u0434\u0443\u0441\u044C, \u0434\u0456\u0442\u0438 \u0437 \u0432\u043D\u0443\u043A\u043E\u043C. \u0421\u0430\u043C\u0438\u0445 \u0447\u043E\u043B\u043E\u0432\u0456\u043A\u0456\u0432 \u043D\u0435 \u0442\u0443\u0440\u0431\u0443\u0432\u0430\u0442\u0438! \u041F\u0440\u0438\u0439\u043C\u0443 \u043B\u044E\u0434\u0435\u0439, \u043A\u043E\u043C\u0443 \u0434\u0456\u0439\u0441\u043D\u043E \u043F\u043E\u0442\u0440\u0456\u0431\u043D\u0435 \u0436\u0438\u0442\u043B\u043E, \u043D\u0435 \u0434\u043B\u044F \u043B\u044E\u0434\u0435\u0439 \u0456\u0437 \u041A\u0438\u0454\u0432\u0430. ",phone:"+380637987587",guestTypes:[200,400,500,600],stayDurationWar:!0,deleted:!1,updatedAt:1650098068},{id:"zs58Mwkt1AOk2GQNxs9t",maxGuests:3,deletedAt:0,verifiedAt:1650094274,verified:!0,phone:"+380955475099",author:"ag9R88jG4eYbfHj9EdyadQIXBmb2",updatedAt:1650094274,countryCode:"UA",stayDurationFew:!0,deleted:!1,regionCode:"UA46000000000026241",guestTypes:[100,200,800],stayDurationAny:!0,city:"\u042F\u0432\u043E\u0440\u0456\u0432\u0441\u044C\u043A\u0438\u0439 \u0440\u0430\u0439\u043E\u043D, \u0441\u043C\u0442 \u041D\u0435\u043C\u0438\u0440\u0456\u0432",createdAt:1650094274,stayDurationWar:!0,deletedPermanently:!1,description:"\u041A\u0456\u043C\u043D\u0430\u0442\u0430 \u0432 \u043F\u0440\u0438\u0432\u0430\u0442\u043D\u043E\u043C\u0443 \u0431\u0443\u0434\u0438\u043D\u0443, \u0437\u0430 \u043E\u043F\u043B\u0430\u0442\u0443 \u043A\u043E\u043C\u0443\u043D\u0430\u043B\u044C\u043D\u0438\u0445 \u043F\u043E\u0441\u043B\u0443\u0433",stayDurationOne:!0},{id:"goDTuNfcy5aSZAOs1d8s",deleted:!1,stayDurationAny:!1,verified:!1,city:"\u0427\u0435\u0440\u043D\u0456\u0433\u0456\u0432 ",countryCode:"UA",stayDurationWar:!0,createdAt:1650079294,phone:"+380679729365",deletedAt:0,street:"\u0422\u0440\u0443\u0434\u043E\u0432\u0430 ",verifiedAt:0,author:"EdUFEMMIyLfFKvvUyjp5CaRqScc2",updatedAt:1650079294,regionCode:"UA74000000000025378",stayDurationFew:!0,stayDurationOne:!0,guestTypes:[100],maxGuests:3,description:"\u0411\u0443\u0434\u0438\u043D\u043E\u043A, \u0433\u0430\u0437 \u0432\u043E\u0434\u0430 \u0441\u0432\u0456\u0442\u043B\u043E ",deletedPermanently:!1},{id:"OsX5VPQrgP6viKFQoJQe",verified:!1,regionCode:"UA71000000000010357",description:"\u041F\u0440\u0438\u0432\u0430\u0442\u043D\u0438\u0439 \u0441\u0435\u043A\u0442\u043E\u0440, \u043E\u0434\u043D\u0430 \u043A\u0456\u043C\u043D\u0430\u0442\u0430 \u0437 \u0443\u0441\u0456\u043C\u0430 \u0437\u0440\u0443\u0447\u043D\u043E\u0441\u0442\u044F\u043C\u0438, \u0454  \u043E\u0434\u043D\u0435 \u0434\u0432\u043E\u0445\u0441\u043F\u0430\u043B\u044C\u043D\u0435 \u043B\u0456\u0436\u043A\u043E \u0456 1 \u043E\u0434\u043D\u043E\u0441\u043F\u0430\u043B\u044C\u043D\u0435",maxGuests:3,stayDurationAny:!1,guestTypes:[200],phone:"+380963175576",author:"EknkmtE6vkZfl9pwxVAbRH0stnU2",verifiedAt:0,street:"\u041C\u0430\u043A\u0430\u0440\u043E\u0432\u0430",createdAt:1650055471,countryCode:"UA",deletedAt:0,stayDurationFew:!0,stayDurationWar:!0,deletedPermanently:!1,deleted:!1,stayDurationOne:!0,updatedAt:1650055471,city:"\u0427\u0435\u0440\u043A\u0430\u0441\u0438"},{id:"S8dhufj7jmKnkrvC4n2B",street:" \u0423\u0433\u043E\u0440\u0441\u044C\u043A\u0430",regionCode:"UA46000000000026241",city:"Lviv",verified:!0,deleted:!1,countryCode:"UA",createdAt:1649505469,deletedPermanently:!1,deletedAt:0,stayDurationOne:!0,verifiedAt:1649525004,stayDurationFew:!0,stayDurationAny:!1,stayDurationWar:!1,author:"cba4c1nRE7X2cEbNWIhmIGyc6it1",description:"\u0412\u0456\u043B\u044C\u043D\u0430 1 \u043E\u043A\u0440\u0435\u043C\u0430 \u043A\u0456\u043C\u043D\u0430\u0442\u0430 \u0443 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0456. \u0404 \u043F\u043E\u0431\u0443\u0442\u043E\u0432\u0430 \u0442\u0435\u0445\u043D\u0456\u043A\u0430 \u0442\u0430 \u043C\u0435\u0431\u043B\u0456. \u0417\u0430\u0457\u0436\u0434\u0436\u0430\u0442\u0438 \u043C\u043E\u0436\u043D\u0430 \u0449\u043E\u0434\u043D\u044F \u0437 9 \u0434\u043E 23. \u041F\u0440\u043E\u0445\u0430\u043D\u043D\u044F \u043C\u0430\u0442\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442 \u0432\u0430\u043A\u0446\u0438\u043D\u0430\u0446\u0456\u0457 \u0432 \u0414\u0456\u0457.",maxGuests:2,updatedAt:1650052705,guestTypes:[400,500],phone:"+380505708576"},{id:"kKP8nf1q3By2SEqVKoq4",updatedAt:1650051273,createdAt:1650051273,street:"\u041D\u043E\u0432\u0430",author:"v1NcGb2J8WTZ9F1wMipZf0T2KBE3",verifiedAt:0,maxGuests:1,verified:!1,countryCode:"UA",city:"\u0417\u0430\u0431\u0430\u0440\u0438",deleted:!1,stayDurationFew:!0,deletedPermanently:!1,stayDurationAny:!1,regionCode:"UA51000000000030770",stayDurationWar:!0,deletedAt:0,description:"\u041A\u0456\u043C\u043D\u0430\u0442\u0443 \u0432 \u0431\u0443\u0434\u0438\u043D\u043A\u0443  \u0432 \u0441\u0435\u043B\u0456 \u0417\u0430\u0431\u0430\u0440\u0438 \u041E\u0434\u0435\u0441\u044C\u043A\u0430 \u043E\u0431\u043B\u0430\u0441\u0442\u044C \u0421\u0430\u0440\u0430\u0442\u0441\u044C\u043A\u0438\u0439 \u0440\u0430\u0439\u043E\u043D. \u041F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0437 \u0432\u043B\u0430\u0441\u043D\u0438\u043A\u043E\u043C. \u041E\u043F\u0430\u043B\u0435\u043D\u043D\u044F \u043F\u0456\u0447\u043D\u0435. \u0412\u043E\u0434\u0430, \u0442\u0443\u0430\u043B\u0435\u0442 \u043D\u0430 \u0432\u0443\u043B\u0438\u0446\u0456.  \u0423\u043C\u043E\u0432\u0438  \u0437\u0430\u0434\u043E\u0432\u0456\u043B\u044C\u043D\u0456. \u041C\u0456\u0441\u0446\u0435 \u0441\u043F\u043E\u043A\u0456\u0439\u043D\u0435. \u041F\u0440\u0438 \u043D\u0435\u043E\u0431\u0445\u0456\u0434\u043D\u043E\u0441\u0442\u0456 \u043C\u043E\u0436\u0443 \u0437\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0438\u0442\u0438 \u0441\u0456\u043B\u044C\u0441\u044C\u043A\u0438\u043C \u0437\u0430\u0440\u043E\u0431\u0456\u0442\u043A\u043E\u043C. \u0414\u0435\u0442\u0430\u043B\u0456 \u043F\u043E \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443!  \u042F\u043A\u0449\u043E \u043D\u0435 \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u044E, \u043F\u0438\u0448\u0456\u0442\u044C \u0443 \u0432\u0430\u0439\u0431\u0435\u0440. ",stayDurationOne:!0,guestTypes:[700],phone:"+380681788374"},{id:"Jh7jT07ynSna3zCTvJc5",stayDurationFew:!0,stayDurationOne:!0,maxGuests:50,deletedAt:0,countryCode:"UA",description:"\u0420\u043E\u0437\u043C\u0456\u0449\u0443\u0454\u043C\u043E \u0432 \u0441\u0430\u0434\u043E\u0447\u043A\u0430\u0445. \u0404 \u0432\u0441\u0456 \u0443\u043C\u043E\u0432\u0438 (\u0442\u0435\u043F\u043B\u043E, \u0433\u0430\u0440\u044F\u0447\u0438\u0439 \u0434\u0443\u0448, \u043B\u0456\u0436\u043A\u043E\u043C\u0456\u0441\u0446\u044F). \u041D\u0430 \u0442\u0440\u0438\u0432\u0430\u043B\u0438\u0439 \u043F\u0435\u0440\u0456\u043E\u0434",verifiedAt:1650047369,phone:"+380977704461",deleted:!1,createdAt:1650047369,guestTypes:[100],verified:!0,stayDurationWar:!0,city:"\u0441\u043C\u0442 \u041A\u0440\u0438\u0436\u043E\u043F\u0456\u043B\u044C\u0441\u044C\u043A\u0430 ",deletedPermanently:!1,stayDurationAny:!1,regionCode:"UA05000000000010236",updatedAt:1650047369,author:"hMTCXQX2gLgEfWabtLIJLNAe8Cl2"},{id:"0UKre7Q04jN9B5Bb8C63",stayDurationOne:!0,description:"\u041F\u0440\u0438\u0439\u043C\u0430\u0454\u043C\u043E \u0432 \u0441\u0430\u0434\u043E\u0447\u043A\u0430\u0445 \u0456 \u0448\u043A\u043E\u043B\u0430\u0445 \u043D\u0430 \u0434\u043E\u0432\u0448\u0438\u0439 \u043F\u0435\u0440\u0456\u043E\u0434. \u0423\u043C\u043E\u0432\u0438 \u0434\u043B\u044F \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0454",stayDurationFew:!0,updatedAt:1650047048,countryCode:"UA",deleted:!1,verifiedAt:1650047048,verified:!0,stayDurationAny:!1,guestTypes:[100],stayDurationWar:!0,phone:"+380962395085",createdAt:1650047048,regionCode:"UA05000000000010236",maxGuests:300,deletedAt:0,city:"\u0441\u043C\u0442. \u041F\u0456\u0449\u0430\u043D\u0441\u044C\u043A\u0430",deletedPermanently:!1,author:"rpN4k5HaTfOBmWHaLv1bmtHDmJ02"},{id:"khkkkAhLIXiAXisGNeA0",verifiedAt:1650046830,city:"\u0441\u0435\u043B\u043E \u0421\u0442\u0443\u0434\u0435\u043D\u0430",author:"5IxruzMnoqS7b6y5Jz6DxcT8wNx1",maxGuests:25,stayDurationOne:!0,stayDurationAny:!0,deletedAt:0,updatedAt:1650046830,deletedPermanently:!1,regionCode:"UA05000000000010236",deleted:!1,guestTypes:[100,200],verified:!0,description:`\u042F\u043A\u0449\u043E \u043D\u0430 \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0434\u043D\u0456\u0432 \u0448\u0443\u043A\u0430\u0454\u0442\u0435 \u043F\u0440\u0438\u043C\u0456\u0449\u0435\u043D\u043D\u044F \u043C\u043E\u0436\u0435\u043C\u043E \u0440\u043E\u0437\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0432 \u043F\u0440\u0438\u043C\u0456\u0449\u0435\u043D\u043D\u044F\u0445 \u0448\u043A\u0456\u043B, \u0441\u0430\u0434\u043E\u0447\u043A\u0456\u0432. 
\u042F\u043A\u0449\u043E \u043D\u0430 \u0434\u043E\u0432\u0448\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D - \u043C\u0430\u0454\u043C\u043E \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0441\u0456\u043B\u044C\u0441\u044C\u043A\u0438\u0445 \u0445\u0430\u0442, \u0434\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0440\u043E\u0437\u043C\u0456\u0441\u0442\u0438\u0442\u0438\u0441\u044F 5 \u0441\u0456\u043C\u0435\u0439. \u041E\u043F\u0430\u043B\u0435\u043D\u043D\u044F \u043F\u0456\u0447\u043D\u0435, \u0432\u043E\u0434\u0430 \u0442\u0430 \u0442\u0443\u0430\u043B\u0435\u0442 \u043D\u0430 \u0432\u0443\u043B\u0438\u0446\u0456`,countryCode:"UA",createdAt:1650046830,stayDurationWar:!0,phone:"+380989624784",stayDurationFew:!0},{id:"N7UcNJq7sDTyV7etK7n3",verified:!0,verifiedAt:1650046197,stayDurationAny:!1,deletedAt:0,guestTypes:[200,700,400,500],author:"ojU3RaThqOcenh51mnhez3rDtnD3",stayDurationOne:!0,phone:"+380991555599",updatedAt:1650046304,stayDurationWar:!0,deletedPermanently:!1,description:"\u041E\u043A\u0440\u0435\u043C\u0430 \u043A\u0456\u043C\u043D\u0430\u0442\u0430 \u0432 \u0433\u0443\u0440\u0442\u043E\u0436\u0438\u0442\u043A\u0443, 5 \u043F\u043E\u0432\u0435\u0440\u0445 \u0437 5 , \u0431\u0435\u0437 \u043B\u0456\u0444\u0442\u0430.  \u041A\u0443\u0445\u043D\u044F , \u0442\u0443\u0430\u043B\u0435\u0442, \u0432\u0430\u043D\u043D\u0430 \u0437\u0430\u0433\u0430\u043B\u044C\u043D\u0456, \u0431\u0435\u0437 \u043F\u0440\u0430\u043B\u044C\u043D\u043E\u0457 \u043C\u0430\u0448\u0438\u043D\u0438, \u0441\u0442\u0430\u043D 4\\5, \u0454\u0432\u0440\u043E\u0440\u0435\u043C\u043E\u043D\u0442\\\u0454\u0432\u0440\u043E\u0432\u0456\u043A\u043D\u043E.  \u0414\u043B\u044F \u0441\u0456\u043C'\u0457 \u0437 \u0434\u0456\u0442\u044C\u043C\u0438!",maxGuests:3,regionCode:"UA61000000000060328",stayDurationFew:!0,createdAt:1650046197,countryCode:"UA",deleted:!1,city:"\u0422\u0435\u0440\u043D\u043E\u043F\u0456\u043B\u044C"},{id:"6RUm1kM5Fs2wuydtdM9t",updatedAt:1650043173,description:"\u0415\u0441\u0442\u044C \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u044B\u0435 \u043A\u043E\u043C\u043D\u0430\u0442\u044B \u043D\u0430 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u044F\u0442\u0438\u0438, \u0433\u043E\u0442\u043E\u0432 \u043F\u0440\u0438\u043D\u044F\u0442\u044C \u043B\u044E\u0434\u0435\u0439 \u043D\u0430 1-2 \u043C\u0435\u0441\u044F\u0446\u0430. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043D\u0435\u0431\u043E\u043B\u044C\u0448\u043E\u0439 \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u043E\u043A.",stayDurationOne:!0,stayDurationWar:!0,street:"\u041F\u043E\u043B\u044C\u043E\u0432\u0430",countryCode:"UA",phone:"+380938105376",deletedAt:0,verified:!1,stayDurationAny:!1,deleted:!1,guestTypes:[300,400],city:"\u0412\u0435\u043B\u0438\u043A\u0430 \u0421\u0430\u043B\u0442\u0430\u043D\u0456\u0432\u043A\u0430",deletedPermanently:!1,createdAt:1650043173,stayDurationFew:!0,verifiedAt:0,regionCode:"UA32000000000030281",maxGuests:4,author:"VtLi55tGIlWMRB9vld8sprNhECR2"},{id:"sXwfWk1rBlALTyrF4RZ3",createdAt:1650039352,description:"\u0413\u043E\u0441\u0442\u0435\u0432\u043E\u0439 \u0434\u043E\u043C, \u0435\u0441\u0442\u044C \u0432\u0441\u0451 \u0434\u043B\u044F \u043A\u043E\u043C\u0444\u043E\u0440\u0442\u043D\u043E\u0439 \u0436\u0438\u0437\u043D\u0438, \u043F\u0438\u0442\u043E\u043C\u0446\u044B \u0442\u043E\u0436\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C, \u043F\u0440\u0438\u0443\u0441\u0430\u0434\u0435\u0431\u043D\u044B\u0439 \u0443\u0447\u0430\u0441\u0442\u043E\u043A. \u0411\u0435\u0437 \u043E\u043F\u043B\u0430\u0442\u044B! \u041C\u0430\u0440\u0438\u0443\u043F\u043E\u043B\u044C, \u0425\u0430\u0440\u044C\u043A\u043E\u0432, \u043A\u0442\u043E \u043E\u0441\u0442\u0430\u043B\u0441\u044F \u0431\u0435\u0437 \u0436\u0438\u043B\u044C\u044F. \u0415\u0441\u0442\u044C \u0433\u0434\u0435 \u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C.  \u041C\u043E\u0436\u0435\u043C \u0437\u0430\u0431\u0440\u0430\u0442\u044C \u0441 \u0432\u043E\u043A\u0437\u0430\u043B\u0430. ",stayDurationWar:!0,deletedAt:0,street:"\u041A\u0443\u0442\u0443\u0437\u043E\u0432\u0430",city:"\u0411\u0440\u043E\u0432\u0430\u0440\u0441\u043A\u0438\u0439 \u0440\u0430\u0439\u043E\u043D \u0441. \u041A\u043D\u044F\u0436\u0438\u0447\u0456",maxGuests:4,deleted:!1,stayDurationFew:!0,stayDurationAny:!1,stayDurationOne:!0,verified:!1,deletedPermanently:!1,countryCode:"UA",verifiedAt:0,author:"HnDX9Jos03WegQpMfGzryuJ6hhX2",phone:"+380502319951",regionCode:"UA32000000000030281",updatedAt:1650042021,guestTypes:[400,500,800]},{id:"SuvQ7FZYSFMUZR5aZIRg",stayDurationAny:!1,deletedAt:0,deleted:!1,description:"\u043A\u0456\u043C\u043D\u0430\u0442\u0430, \u0437\u0440\u0443\u0447\u043D\u043E\u0441\u0442\u0456 \u043D\u0430 \u0432\u0443\u043B\u0438\u0446\u0456",phone:"+380950062535",countryCode:"UA",city:"\u0417\u043D\u0430\u043C\u044F\u043D\u043A\u0430",deletedPermanently:!1,stayDurationFew:!0,verifiedAt:1650041760,author:"6sGYakJoGOOB6CTwctDoPSbgGP82",stayDurationOne:!0,maxGuests:1,stayDurationWar:!0,verified:!0,updatedAt:1650041760,createdAt:1650041760,regionCode:"UA35000000000016081",guestTypes:[100]},{id:"lqPCEzsvaZ4NZBNR1SI8",verified:!0,maxGuests:1,countryCode:"UA",phone:"+380974536790",deletedAt:0,stayDurationWar:!0,stayDurationFew:!0,verifiedAt:1650028304,city:"\u041A\u0438\u0457\u0432 (\u0420\u0430\u0439\u043E\u043D \u0411\u043E\u0440\u0449\u0438\u0433\u0456\u0432\u043A\u0430)",description:"2-\u043E\u0445 \u043A\u0456\u043C\u043D\u0430\u0442\u043D\u0430 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430, \u0436\u0438\u0442\u043B\u043E \u0411\u0435\u0437\u043F\u043B\u0430\u0442\u043D\u043E, \u043E\u043F\u043B\u0430\u0442\u0430 \u043A\u043E\u043C\u0443\u043D\u0430\u043B\u044C\u043D\u0456 \u043F\u043E\u0441\u043B\u0443\u0433,  \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440 \u043F\u043E\u0445\u0438\u043B\u043E\u0433\u043E \u0432\u0456\u043A\u0443, ( \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0438 \u0437\u0456 \u0441\u043B\u0443\u0445\u043E\u043C) \u043C\u043E\u0436\u0435 \u043F\u043E\u0442\u0440\u0435\u0431\u0443\u0432\u0430\u0442\u0438 \u044F\u043A\u043E\u0457\u0441\u044C \u0434\u043E\u043F\u043E\u043C\u043E\u0433\u0438 \u0437\u0456 \u0441\u0442\u043E\u0440\u043E\u043D\u0438 \u043F\u043E\u0441\u0435\u043B\u0435\u043D\u0446\u044F(\u0456\u0432). \u041D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434, \u0449\u043E\u0441\u044C \u043A\u0443\u043F\u0438\u0442\u0438 \u0432 \u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0456, \u0442\u043E\u0449\u043E.",street:"\u0421\u0435\u043C\u0438\u0440\u0435\u043D\u043A\u043E ",createdAt:1650028304,stayDurationAny:!1,deletedPermanently:!1,author:"ag9R88jG4eYbfHj9EdyadQIXBmb2",stayDurationOne:!0,updatedAt:1650037544,guestTypes:[400],deleted:!1,regionCode:"UA32000000000030281"},{id:"G3gMgI8GwCAdH5WKKPe8",stayDurationFew:!0,deletedAt:0,author:"vTif0wQnvUbfBJcIN5eIU0PZ0rG3",stayDurationWar:!1,verifiedAt:1650037467,city:"\u0425\u043C\u0435\u043B\u044C\u043D\u0438\u0446\u044C\u043A\u0438\u0439",maxGuests:20,regionCode:"UA68000000000099709",guestTypes:[100,800],street:" \u0432\u0443\u043B. \u041F\u0430\u043D\u0430\u0441\u0430 \u041C\u0438\u0440\u043D\u043E\u0433\u043E 4/1\u0430",verified:!0,updatedAt:1650037467,deleted:!1,stayDurationOne:!0,stayDurationAny:!1,createdAt:1650037467,phone:"+380687709276",countryCode:"UA",description:'\u0446\u0435\u0440\u043A\u0432\u0430 "\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0442\u044C \u0425\u0440\u0438\u0441\u0442\u0430" (\u041E\u0437\u0435\u0440\u043D\u0430) , \u043F\u0440\u0438\u043C\u0456\u0449\u0435\u043D\u043D\u044F \u0446\u0435\u0440\u043A\u043E\u0432\u043D\u0435 \u0432\u0435\u043B\u0438\u043A\u0430 \u0437\u0430\u043B\u0430 \u0437 \u043B\u0456\u0436\u043A\u0430\u043C\u0438 \u0456 \u043C\u0430\u0442\u0440\u0430\u0441\u0430\u043C\u0438, \u0434\u0443\u0448 \u0454, \u0432\u0435\u0447\u0435\u0440\u044F \u0442\u0430 \u043D\u0430\u043F\u043E\u0457 \u0431\u0435\u0437\u043A\u043E\u0448\u0442\u043E\u0432\u043D\u043E.\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u043E\u0440  \u041C\u0438\u0440\u043E\u0441\u043B\u0430\u0432. \u0422\u0432\u0430\u0440\u0438\u043D\u0438 \u044F\u043A\u0449\u043E \u0432 \u043F\u0435\u0440\u0435\u043D\u043E\u0441\u043A\u0430\u0445 \u0442\u0430 \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0456 \u0442\u0435\u0436 \u043C\u043E\u0436\u043D\u0430',deletedPermanently:!1},{id:"I62Kr9wFME2JMYwgkuUT",deleted:!1,verified:!0,phone:"+380968395940",countryCode:"UA",stayDurationOne:!0,deletedAt:0,verifiedAt:1650036612,stayDurationFew:!0,regionCode:"UA68000000000099709",street:"\u0428\u0435\u0432\u0447\u0435\u043D\u043A\u0430 15",stayDurationAny:!1,maxGuests:60,guestTypes:[100,800,700,600],deletedPermanently:!1,stayDurationWar:!0,author:"kCJC57laanZPS1qGEvIl1gwHSya2",city:"\u041D\u0435\u0442\u0456\u0448\u0438\u043D",createdAt:1650036612,description:"\u0416\u0438\u0442\u043B\u043E \u043D\u0430 \u0431\u0430\u0437\u0456 \u043F\u0440\u043E\u0442\u0435\u0441\u0442\u0430\u043D\u0441\u044C\u043A\u043E\u0457 \u0446\u0435\u0440\u043A\u0432\u0438 .\u0411\u0443\u0434\u0456\u0432\u043B\u044F 4 \u043F\u043E\u0432\u0435\u0440\u0445\u043E\u0432\u0430, \u043D\u0430 4 \u043F\u043E\u0432\u0435\u0440\u0441\u0456 \u043A\u0456\u043C\u043D\u0430\u0442\u0438 \u0433\u043E\u0442\u0435\u043B\u044C\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0443, \u0432\u0456\u0434 4 \u0434\u043E 8 \u043B\u0456\u0436\u043E\u043A, \u0434\u0443\u0448 \u0454, \u0456 3 \u0440\u0430\u0437\u043E\u0432\u0435 \u0445\u0430\u0440\u0447\u0443\u0432\u0430\u043D\u043D\u044F \u0431\u0435\u0437\u043A\u043E\u0448\u0442\u043E\u0432\u043D\u043E. \u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u043E\u0440 \u0422\u0430\u043C\u0430\u0440\u0430.",updatedAt:1650036612},{id:"ZINSqmKa4jHuBXCCVuUu",verified:!1,createdAt:1650035855,description:"\u0411\u0443\u0434\u0438\u043D\u043E\u043A \u0432 \u0421\u0435\u043B\u0456 \u044F\u043A\u0449\u043E \u043A\u043E\u043C\u0443\u0441\u044C \u0456\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u043E \u0434\u0437\u0432\u043E\u043D\u0456\u0442\u044C",stayDurationOne:!0,city:"\u0441.\u0412\u043E\u043B\u043E\u0441\u044F\u043D\u043A\u0430",deletedPermanently:!1,stayDurationAny:!0,stayDurationFew:!0,maxGuests:2,guestTypes:[100],phone:"+380665198694",author:"mSh7WnJngrheC6W7jr8GJ732WIm1",stayDurationWar:!0,deleted:!1,countryCode:"UA",street:"\u0426\u0435\u043D\u0442\u0440\u0430\u043B\u044C\u043D\u0430",deletedAt:0,updatedAt:1650035855,verifiedAt:0,regionCode:"UA21000000000011690"},{id:"TnyfJ9x8WdI9jV3Ii6Tt",regionCode:"UA32000000000030281",updatedAt:1650033534,description:"\u0411\u0443\u0434\u0438\u043D\u043E\u043A, \u0437 \u0443\u0441\u0456\u043C\u0430 \u0443\u043C\u043E\u0432\u0430\u043C\u0438, \u043D\u0430\u0434\u0430\u044E 2 \u043A\u0456\u043C\u043D\u0430\u0442\u0438, \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u043A\u043E\u044E \u043F\u0435\u043D\u0441\u0456\u0439\u043D\u043E\u0433\u043E \u0432\u0456\u043A\u0443. \u041F\u0440\u0438\u0439\u043C\u0443 \u043F\u043E\u0434\u0440\u0443\u0436\u043D\u044E \u043F\u0430\u0440\u0443 \u043F\u043E\u0445\u0438\u043B\u043E\u0433\u043E \u0432\u0456\u043A\u0443, \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u0437 \u0432\u043D\u0443\u043A\u043E\u043C\\\u0432\u043D\u0443\u0447\u043A\u043E\u044E \u0447\u0438 \u0434\u043E\u0447\u043A\u043E\u044E\\\u0441\u0438\u043D\u043E\u043C. \u041E\u0433\u043E\u043B\u043E\u0448\u0435\u043D\u043D\u044F \u043D\u0435 \u0434\u043B\u044F \u043B\u0438\u0448\u0435 \u0447\u043E\u043B\u043E\u0432\u0456\u043A\u0456\u0432! \u0411\u0435\u0437\u043A\u043E\u0448\u0442\u043E\u0432\u043D\u043E, \u043D\u0430 \u0442\u0440\u0438\u0432\u0430\u043B\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D. \u041F\u0440\u0438\u0439\u043C\u0443 \u043B\u044E\u0434\u0435\u0439 \u0456\u0437 \u0425\u0430\u0440\u043A\u043E\u0432\u0430,\u0417\u0430\u043F\u043E\u0440\u0456\u0436\u0436\u044F, \u041C\u0435\u043B\u0456\u0442\u043E\u043F\u043E\u043B\u044F. ",maxGuests:3,author:"ag9R88jG4eYbfHj9EdyadQIXBmb2",guestTypes:[600,400,700,500,800],city:"\u0441. \u0421\u0435\u043D\u0442\u0456\u0432\u043A\u0430. \u0411\u043E\u0440\u0438\u0441\u043F\u0456\u043B\u044C\u0441\u044C\u043A\u0438\u0439 \u0440\u0430\u0439\u043E\u043D",stayDurationOne:!0,deletedPermanently:!1,createdAt:1650033534,deletedAt:0,verifiedAt:1650033534,verified:!0,phone:"+380970077640",countryCode:"UA",stayDurationFew:!0,stayDurationWar:!0,deleted:!1,stayDurationAny:!1},{id:"Dp7slgxtczbDV7XH634s",city:"\u041Di\u043A\u043E\u043F\u043E\u043B\u044C",deletedAt:0,updatedAt:1650032459,createdAt:1650030678,stayDurationFew:!0,stayDurationWar:!0,stayDurationOne:!0,regionCode:"UA12000000000090473",maxGuests:6,phone:"+380959100825",author:"PJj4vRiaVcUUHjRAG3W1fzZAr8c2",verified:!1,verifiedAt:0,stayDurationAny:!1,countryCode:"UA",deleted:!1,deletedPermanently:!1,description:`\u0414\u0432\u0435 \u043A\u043E\u043C\u043D\u0430\u0442\u044B,\u043D\u0430 2\u043C \u044D\u0442\u0430\u0436\u0435,\u0447\u0430\u0441\u0442\u043D\u043E\u0433\u043E \u0434\u043E\u043C\u0430...
13 \u0438 19 \u043C.
\u0421\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u043E\u0435 \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u0435...
\u0416\u0435\u043B\u0430\u0442\u0435\u043B\u044C\u043D\u043E,\u0411\u043E\u043B\u044C\u0448\u0430\u044F \u0441\u0435\u043C\u044C\u044F,6 \u0447\u0435\u043B\u043E\u0432\u0435\u043A...\u0440\u043E\u0434\u0438\u0442\u0435\u043B\u0438,\u0434\u0435\u0442\u0438,\u0432\u043D\u0443\u043A\u0438...
\u0416\u0438\u0432\u043E\u0442\u043D\u044B\u0435,\u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044F!
\u0412 \u0434\u043E\u043C\u0435, 3 \u0441\u043E\u0431\u0430\u0447\u043A\u0438...\u043F\u0440\u0438\u0443\u0441\u0430\u0434\u0435\u0431\u043D\u044B\u0439 \u0443\u0447\u0430\u0441\u0442\u043E\u043A 8 \u0441\u043E\u0442\u043E\u043A.
\u0411\u0435\u0437 \u043E\u043F\u043B\u0430\u0442\u044B!
\u0421 \u043F\u043E\u043D\u0438\u043C\u0430\u043D\u0438\u0435\u043C,\u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0432 \u0441\u0442\u0440\u0430\u043D\u0435.. 
\u041C\u0430\u0440\u0438\u0443\u043F\u043E\u043B\u044C,\u0425\u0430\u0440\u044C\u043A\u043E\u0432...\u043A\u0442\u043E \u043E\u0441\u0442\u0430\u043B\u0441\u044F,\u0431\u0435\u0437 \u0436\u0438\u043B\u044C\u044F... \u0432 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u0438...
\u0411\u0435\u0437 \u043E\u0431\u0438\u0434....
\u0412\u043E\u0437\u043B\u0435 \u0434\u043E\u043C\u0430,\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u0430 \u043F\u0430\u0440\u043A\u043E\u0432\u043A\u0430...
\u0415\u0441\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C,\u0437\u0430\u0431\u0440\u0430\u0442\u044C \u0441 \u0432\u043E\u043A\u0437\u0430\u043B\u0430, \u0430\u0432\u0442\u043E,\u0436/\u0434....`,street:"\u043C\u0430\u044F\u043A\u043E\u0432\u0441\u044C\u043A\u043E\u0433\u043E",guestTypes:[400,600,800,200,500]},{id:"UvnhRnjmeAG78ajqctn0",deletedAt:0,deletedPermanently:!1,deletedDueCode:"",phone:"+380665330153",deletedDue:"",deleted:!1,stayDurationAny:!0,verified:!1,regionCode:"UA12000000000090473",stayDurationOne:!0,countryCode:"UA",maxGuests:4,deletedDueForHosts:"",stayDurationWar:!0,author:"TXQvV5J1W4UUJgKAwqw7hG2kML83",stayDurationFew:!0,city:"\u0416\u043E\u0432\u0442\u0456 \u0412\u043E\u0434\u0438 ",updatedAt:1650032135,createdAt:1649675934,restoredAt:1650032135,description:`\u041E\u0434\u043D\u043E\u043A\u0456\u043C\u043D\u0430\u0442\u043D\u0430 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430, \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0431\u0435\u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u044F. 
0959038054 (\u0449\u0435 \u043E\u0434\u0438\u043D \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u0438\u0439 \u043D\u043E\u043C\u0435\u0440)`,verifiedAt:0,guestTypes:[100,800]},{id:"GehfAr1BVoomnLkJy7IK",countryCode:"UA",author:"TXQvV5J1W4UUJgKAwqw7hG2kML83",stayDurationAny:!0,maxGuests:1,deleted:!1,stayDurationWar:!0,regionCode:"UA12000000000090473",street:"\u041A\u043E\u0437\u0430\u0434\u0441\u043A\u043E\u0439 \u0441\u043B\u0430\u0432\u044B",phone:"+380665330153",createdAt:1650031724,updatedAt:1650032012,verifiedAt:0,description:"\u0414\u0432\u0443\u0445\u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430 \u0436\u0438\u0432\u0443 \u0437 \u0434\u0438\u0442\u0438\u043D\u043E\u044E \u0435\u0441\u0442\u044C \u0432\u043E\u0434\u0430 \u0441\u0432\u0435\u0442 \u0433\u0430\u0437",verified:!1,stayDurationFew:!0,guestTypes:[400,800],stayDurationOne:!0,deletedPermanently:!1,deletedAt:0,city:"\u0416\u0451\u043B\u0442\u044B\u0435 \u0432\u043E\u0434\u044B"},{id:"VXQZqYHbAguTGhmXkda8",countryCode:"UA",deleted:!1,stayDurationFew:!0,stayDurationOne:!0,maxGuests:4,guestTypes:[400,500,600,800],deletedAt:0,city:"\u0441. \u041C\u0438\u0445\u0430\u0439\u043B\u0456\u0432\u043A\u0430",description:"\u0411\u0443\u0434\u0438\u043D\u043E\u043A, 2 \u043A\u0456\u043C\u043D\u0430\u0442\u0438, \u0432\u0435\u0440\u0430\u043D\u0434\u0430, \u043A\u0443\u0445\u043D\u044F, \u043A\u043E\u043C\u043E\u0440\u043A\u0430. \u041F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0431\u0435\u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u0456\u0432. \u0412 \u0431\u0443\u0434\u0438\u043D\u043A\u0443 \u0454 \u043C\u0435\u0431\u043B\u0456 \u0442\u0430 \u0442\u0435\u0445\u043D\u0456\u043A\u0430, \u043D\u0435\u043E\u0431\u0445\u0456\u0434\u043D\u0430 \u0434\u043B\u044F \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F. \u0412\u043E\u0434\u0430 \u0432 \u043A\u0440\u0438\u043D\u0438\u0446\u0456, \u0442\u0443\u0430\u043B\u0435\u0442 \u043D\u0430 \u0432\u0443\u043B\u0438\u0446\u0456. \u041D\u0430\u0434\u0430\u043C\u043E \u043F\u0440\u0438\u0445\u0438\u0441\u0442\u043E\u043A \u043C\u0430\u0442\u0435\u0440\u0456 \u0456\u0437 \u0434\u0456\u0442\u044C\u043C\u0438 , \u0430\u0431\u043E \u043C\u0430\u0442\u0435\u0440\u0456, \u0434\u043E\u0447\u0446\u0456 \u0442\u0430 \u0432\u043D\u0443\u043A\u0430\u043C. \u0411\u0435\u0437 \u0447\u043E\u043B\u043E\u0432\u0456\u043A\u0456\u0432. \u041C\u043E\u0436\u043D\u0430 \u0437 \u0442\u0432\u0430\u0440\u0438\u043D\u043A\u0430\u043C\u0438. \u0422\u0440\u0438\u0432\u0430\u043B\u0438\u0439 \u0442\u0435\u0440\u043C\u0456\u043D (\u043D\u0430\u0432\u0456\u0442\u044C \u0434\u043E 3-\u044C\u043E\u0445 \u0440\u043E\u043A\u0456\u0432).",verifiedAt:1650027181,stayDurationWar:!0,createdAt:1650027181,regionCode:"UA71000000000010357",phone:"+380961769539",updatedAt:1650027181,deletedPermanently:!1,verified:!0,author:"ag9R88jG4eYbfHj9EdyadQIXBmb2",stayDurationAny:!1},{id:"M4XNUB72VI7jU5gXIsFT",deleted:!1,deletedPermanently:!1,verifiedAt:1650025446,countryCode:"UA",city:"\u0414\u043D\u0456\u043F\u0440\u043E",createdAt:1650025446,author:"fjd58WxEMpPIUjcisSnpNjyI3D23",stayDurationAny:!1,description:"\u041C\u0456\u0441\u0446\u0435 \u0432 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0456, \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u0435\u043C, \u043D\u0430 \u0434\u0430\u043D\u0438\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u0454 \u0432\u0436\u0435 2 \u043E\u0441\u043E\u0431\u0438. \u041B\u0438\u0448\u0435 \u043D\u0430 \u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0447\u0438 \u043D\u043E\u0447\u043B\u0456\u0433. \u0423\u043C\u043E\u0432\u0438 \u0432\u0441\u0456 \u043F\u0440\u0438\u0441\u0443\u0442\u043D\u0456 \u0432 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0456. \u041F\u0440\u0438 \u043C\u043E\u0436\u043B\u0438\u0432\u043E\u0441\u0442\u0456 - \u043E\u043F\u043B\u0430\u0442\u0430 \u0437\u0430 \u043A\u043E\u043C\u0443\u043D\u0430\u043B\u044C\u043D\u0456 \u043F\u043E\u0441\u043B\u0443\u0433\u0438.",stayDurationOne:!0,phone:"+380989544909",stayDurationFew:!0,deletedAt:0,stayDurationWar:!1,guestTypes:[400,500],verified:!0,maxGuests:2,updatedAt:1650025446,regionCode:"UA12000000000090473"},{id:"xfZCpHaSemM3LSY9bEiB",maxGuests:4,regionCode:"UA61000000000060328",stayDurationOne:!0,createdAt:1649843024,author:"Y4L7O2t5G1c0N5c20CoBFv0B9Az1",countryCode:"UA",phone:"+380975464024",verified:!0,verifiedAt:1650023712,guestTypes:[800,100],stayDurationFew:!1,description:"\u041A\u0456\u043C\u043D\u0430\u0442\u0430 \u0432 \u043F\u0440\u0438\u0432\u0430\u0442\u043D\u043E\u043C\u0443 \u0431\u0443\u0434\u0438\u043D\u043A\u0443. \u0404 \u0432\u0441\u0456 \u0443\u043C\u043E\u0432\u0438.",deletedPermanently:!1,city:"\u041F\u0456\u0434\u0432\u043E\u043B\u043E\u0447\u0438\u0441\u044C\u043A",street:"\u0411\u043E\u0433\u0434\u0430\u043D\u0430 \u0425\u043C\u0435\u043B\u044C\u043D\u0438\u0446\u044C\u043A\u043E\u0433\u043E 24",deleted:!1,deletedAt:0,stayDurationWar:!1,updatedAt:1650023712,stayDurationAny:!1},{id:"3Eyz89VsU7D9XbpZSSYn",restoredAt:1649840871,maxGuests:2,stayDurationWar:!1,deletedDueForHosts:"",verified:!0,createdAt:1649318208,deletedDue:"",verifiedAt:1650023609,phone:"+380677109930",stayDurationOne:!0,updatedAt:1650023609,stayDurationAny:!1,city:"\u041B\u044C\u0432\u0456\u0432",stayDurationFew:!1,deletedDueCode:"",deletedAt:0,guestTypes:[400,500],regionCode:"UA46000000000026241",deletedPermanently:!1,author:"5WMj923QZ1dkiTLb13Ytva8v2OY2",description:"\u0412 3-\u0445 \u043A\u0456\u043C\u043D\u0430\u0442\u043D\u0456\u0439 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0456 \u043D\u0430\u0434\u0430\u044E \u043E\u0434\u043D\u0443 \u043A\u0456\u043C\u043D\u0430\u0442\u0443 \u0434\u043B\u044F \u043D\u043E\u0447\u0456\u0432\u043B\u0456 \u043D\u0430 1\u043D\u0456\u0447",deleted:!1,countryCode:"UA",street:"\u0412\u0443\u043B.\u0421\u0438\u0445\u0456\u0432\u043C\u044C\u043A\u0430"},{id:"Ux5mjDiqiUlHpeClXHRX",author:"F5S6g9esOnfsKGtGoqyRXUVmLPo2",countryCode:"UA",phone:"+380684009465",guestTypes:[400,500],restoredAt:1649834538,description:"\u041A\u043E\u043C\u043D\u0430\u0442\u0430 \u0432 \u0434\u0432\u0443\u0445 \u043A\u043E\u043C\u043D\u0430\u0442\u043D\u043E\u0439 \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0435. \u041F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u0435 \u0441 \u0445\u043E\u0437\u044F\u0438\u043D\u043E\u043C. \u041C\u0430\u043C\u0435 \u0441 \u0440\u0435\u0431\u0451\u043D\u043A\u043E\u043C. ",verified:!0,stayDurationWar:!0,deleted:!1,deletedAt:0,deletedDueForHosts:"",deletedDueCode:"",street:"\u0411\u043E\u0439\u043A\u0430",deletedPermanently:!1,verifiedAt:1650023474,updatedAt:1650023474,stayDurationOne:!0,maxGuests:2,createdAt:1648797555,stayDurationFew:!0,stayDurationAny:!0,city:"\u0421\u0432\u0456\u0442\u043B\u043E\u0432\u043E\u0434\u0441\u044C\u043A",regionCode:"UA35000000000016081",deletedDue:""},{id:"eeyiViOyCbrnskjxejSC",maxGuests:1,phone:"+380937935115",guestTypes:[400,500,800],regionCode:"UA51000000000030770",stayDurationWar:!0,countryCode:"UA",author:"Ij2l2XJusFdIUsFgpStuZvM4RQu2",street:"\u041A\u0430\u043F\u0438\u0442\u0430\u043D\u0430 \u041A\u0443\u0437\u043D\u0435\u0446\u043E\u0432\u0430",deleted:!1,stayDurationAny:!0,updatedAt:1650022059,deletedPermanently:!1,city:"\u041E\u0434\u0435\u0441\u0441\u0430",stayDurationOne:!0,createdAt:1647326310,description:"3-\u0445 \u043A\u043E\u043C\u043D\u0430\u0442\u043D\u0430\u044F \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430, \u043E\u0434\u043D\u0430 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u0430\u044F (\u043F\u0440\u043E\u0445\u043E\u0434\u043D\u0430\u044F). \u0423\u0436\u0435 \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u0454 1 \u0434\u0456\u0432\u0447\u0438\u043D\u0430, \u043C\u043E\u0436\u0443 \u043F\u0440\u0438\u0439\u043D\u044F\u0442\u0438 \u0449\u0435 1 \u0434\u0456\u0432\u0447\u0438\u043D\u0443.",deletedAt:0,stayDurationFew:!0},{id:"gTuDLg9URDZ2QCpolCqM",updatedAt:1650021737,verified:!0,description:`\u041F\u043E\u043C\u043E\u0449\u044C \u0431\u0435\u0436\u0435\u043D\u0446\u0430\u043C \u043F\u0440\u043E\u0435\u0437\u0436\u0430\u044E\u0449\u0438\u043C \u0447\u0435\u0440\u0435\u0437 \u041E\u0434\u0435\u0441\u0441\u0443,  \u0438\u043C\u0435\u044E\u0449\u0438\u0445 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\u0441\u0442\u044C \u043D\u043E\u0447\u043B\u0435\u0433, \u0434\u0443\u0448, \u0441\u0442\u0438\u0440\u043A\u0430, \u0447\u0430\u0439 \u0438 \u0442.\u0434. Dream\u0425\u043E\u0441\u0442\u0435\u043B \u041E\u0434\u0435\u0441\u0441\u0430 \u0411\u0415\u0421\u041F\u041B\u0410\u0422\u041D\u041E! 

\u0417\u0432\u043E\u043D\u0438\u0442\u0435 \u043F\u043E \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443 
+38 067 57 98 777  \u0413\u0435\u043E\u0440\u0433\u0438\u0439 \u0411\u043B\u043E\u0449\u0438\u0446\u0430
\u0411\u0435\u0437 \u043F\u043E\u0441\u0440\u0435\u0434\u043D\u0438\u043A\u043E\u0432, \u0431\u0435\u0441\u043F\u043B\u0430\u0442\u043D\u043E!
 
\u0410\u0434\u0440\u0435\u0441 \u0421\u043E\u0431\u043E\u0440\u043D\u0430\u044F \u043F\u043B\u043E\u0449\u0430\u0434\u044C 12
\u0426\u0435\u043D\u0442\u0440 \u0433\u043E\u0440\u043E\u0434\u0430 \u041E\u0434\u0435\u0441\u0441\u0430. 

\u0416\u0435\u043B\u0435\u0437\u043D\u043E\u0434\u043E\u0440\u043E\u0436\u043D\u044B\u0439 \u0432\u043E\u043A\u0437\u0430\u043B \u043D\u0430 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0438, 29 \u043C\u0438\u043D\u0443\u0442 \u043F\u0435\u0448\u043A\u043E\u043C, 20 \u043C\u0438\u043D\u0443\u0442 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442 \u0438 7 \u043C\u0438\u043D\u0443\u0442 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C 

\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C \u0437\u0430\u0441\u0435\u043B\u0435\u043D\u0438\u044F 38 - 50 \u0447\u0435\u043B\u043E\u0432\u0435\u043A, \u043F\u043E \u043F\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0441\u043E\u0433\u043B\u0430\u0441\u043E\u0432\u0430\u043D\u0438\u044E.`,city:"\u041E\u0434\u0435\u0441\u0430",regionCode:"UA51000000000030770",phone:"+380675798777",countryCode:"UA",stayDurationOne:!0,maxGuests:38,stayDurationAny:!1,guestTypes:[600,500,400,200,800],deletedAt:0,deleted:!1,stayDurationWar:!1,createdAt:1647587399,verifiedAt:1647621394,author:"3phVOGYlHDSibN3fkaUl0LwTsXf2",stayDurationFew:!0,street:"\u0421\u043E\u0431\u043E\u0440\u043D\u0430 \u043F\u043B\u043E\u0449\u0430 12",deletedPermanently:!1},{id:"KTfomVTMVodvwU6dMaBJ",stayDurationAny:!1,verifiedAt:1650021569,description:`\u041F\u0440\u0438\u043C\u0456\u0449\u0435\u043D\u043D\u044F \u0437\u0430\u043A\u043B\u0430\u0434\u0443 \u0433\u0440\u043E\u043C\u0430\u0434\u0441\u044C\u043A\u043E\u0433\u043E \u0445\u0430\u0440\u0447\u0443\u0432\u0430\u043D\u043D\u044F, \u043D\u0430\u0434\u0430\u0454\u043C\u043E \u043F\u0440\u0438\u0445\u0438\u0441\u0442\u043E\u043A (\u043D\u043E\u0447\u0456\u0432\u043B\u044F) \u0434\u043B\u044F \u043F\u0435\u0440\u0435\u0441\u0435\u043B\u0435\u043D\u0446\u0456\u0432.
\u0417\u043D\u0430\u0445\u043E\u0434\u0438\u043C\u043E\u0441\u044C \u0443 \u043F\u0456\u0434\u0432\u0430\u043B\u044C\u043D\u043E\u043C\u0443 \u043F\u0440\u0438\u043C\u0456\u0449\u0435\u043D\u043D\u0456, \u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u0456 \u044F\u043A \u0443\u043A\u0440\u0438\u0442\u0442\u044F \u043D\u0430 \u0447\u0430\u0441 \u043E\u0433\u043E\u043B\u043E\u0448\u0435\u043D\u043D\u044F '\u041F\u043E\u0432\u0456\u0442\u0440\u044F\u043D\u043E\u0457 \u0442\u0440\u0438\u0432\u043E\u0433\u0438'.
\u0422\u0443\u0430\u043B\u0435\u0442, \u0443\u043C\u0438\u0432\u0430\u043B\u044C\u043D\u0438\u043A, \u0433\u0430\u0440\u044F\u0447\u0430 \u0432\u043E\u0434\u0430, \u0433\u0430\u0440\u044F\u0447\u0456 \u043D\u0430\u043F\u043E\u0457 \u0442\u0430 \u043D\u0430\u0457\u0434\u043A\u0438 \u0431\u0435\u0437\u043A\u043E\u0448\u0442\u043E\u0432\u043D\u043E. \u0421\u043F\u0430\u043B\u044C\u043D\u0456 \u043C\u0456\u0441\u0446\u044F - \u0434\u0438\u0432\u0430\u043D\u0438, \u0447\u0430\u0441\u0442\u043A\u043E\u0432\u043E \u0437\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0443\u0454\u043C\u043E \u043A\u043E\u0432\u0434\u0440\u0430\u043C\u0438.
\u0426\u0456\u043B\u043E\u0434\u043E\u0431\u043E\u0432\u0435 \u0432\u0456\u0434\u0435\u043E\u0441\u043F\u043E\u0441\u0442\u0435\u0440\u0435\u0436\u0435\u043D\u043D\u044F, \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C \u0437 \u0431\u043E\u043A\u0443 \u043F\u0430\u0442\u0440\u0443\u043B\u044C\u043D\u043E\u0457 \u0441\u043B\u0443\u0436\u0431\u0438. \u0417\u0430 \u0431\u0430\u0436\u0430\u043D\u043D\u044F\u043C \u0433\u0430\u0440\u044F\u0447\u0435 \u0445\u0430\u0440\u0447\u0443\u0432\u0430\u043D\u043D\u044F \u0437\u0430 \u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0447\u043D\u0443 \u043E\u043F\u043B\u0430\u0442\u0443.
\u0413\u043E\u0442\u043E\u0432\u0456 \u043F\u0440\u0438\u0445\u0438\u0441\u0442\u0438\u0442\u0438 \u0432\u0436\u0435 \u0437\u0430\u0440\u0430\u0437! \u{1F1FA}\u{1F1E6}

\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0438\u0439 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443:
+380972991107`,verified:!0,phone:"+380985853448",createdAt:1649155636,deletedDue:"",countryCode:"UA",maxGuests:10,regionCode:"UA05000000000010236",guestTypes:[100],updatedAt:1650021569,stayDurationWar:!1,author:"uIsvyPjzVjdG3kLE1QAS3Q51XAe2",deletedDueCode:"",city:"\u0412\u0456\u043D\u043D\u0438\u0446\u044F",stayDurationFew:!0,deleted:!1,deletedPermanently:!1,restoredAt:1649998838,deletedAt:0,stayDurationOne:!0,street:"\u0432\u0443\u043B. \u0412\u0438\u0437\u0432\u043E\u043B\u0435\u043D\u043D\u044F",deletedDueForHosts:""},{id:"NENWrZGTGd2Opxblku39",stayDurationFew:!0,city:"\u0416\u043E\u0432\u043A\u0432\u0430 ",verifiedAt:1650021542,street:"\u0428\u043A\u0456\u043B\u044C\u043D\u0430 ",stayDurationOne:!0,phone:"+380673390727",description:"\u041C\u0430\u044E \u0432\u0456\u043B\u044C\u043D\u0456 \u043A\u0456\u043C\u043D\u0430\u0442\u0438 \u0456 \u043E\u043A\u0440\u0435\u043C\u0443 \u0432\u0430\u043D\u043D\u0443 \u0443 \u0441\u0435\u0431\u0435 \u0432 \u043E\u0441\u043E\u0431\u043D\u044F\u043A\u0443. \u041C\u043E\u0436\u0443 \u0440\u043E\u0437\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0434\u043E  5 \u043B\u044E\u0434\u0435\u0439. \u041A\u0443\u0445\u043D\u044F \u0441\u043F\u0456\u043B\u044C\u043D\u0430. ",stayDurationWar:!1,deletedAt:0,updatedAt:1650021542,maxGuests:5,deleted:!1,regionCode:"UA46000000000026241",countryCode:"UA",guestTypes:[400,500],verified:!0,createdAt:1649930240,author:"sOc9ul5vY8Yf0W3mO2RjlXDhKGB3",stayDurationAny:!1,deletedPermanently:!1},{id:"BgtPa1g1ElFFlkarlBmj",stayDurationWar:!0,countryCode:"UA",createdAt:1647262570,author:"ag9R88jG4eYbfHj9EdyadQIXBmb2",stayDurationOne:!0,street:"\u041B\u044C\u0432\u0456\u0432\u0441\u044C\u043A\u0430",maxGuests:4,regionCode:"UA07000000000024379",description:`2 \u043A\u043C \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0430:  \u043D\u0430\u0434\u0430\u044E 1 \u043A\u0456\u043C\u043D\u0430\u0442\u0443 - 2-\u0441\u043F\u0430\u043B\u044C\u043D\u0435 \u043B\u0456\u0436\u043A\u043E,  \u0440\u043E\u0437\u043A\u043B\u0430\u0434\u043D\u0438\u0439 \u0434\u0438\u0432\u0430\u043D, 1-\u0441\u043F\u0430\u043B\u044C\u043D\u0435 \u043B\u0456\u0436\u043A\u043E, \u0434\u0438\u0442\u044F\u0447\u0435 \u043B\u0456\u0436\u0435\u0447\u043A\u043E. \u041F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0440\u0430\u0437\u043E\u043C \u0456\u0437 \u0433\u043E\u0441\u043F\u043E\u0434\u0430\u0440\u0435\u043C.
\u041F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u043D\u044F \u0431\u0435\u0437\u043A\u043E\u0448\u0442\u043E\u0432\u043D\u0435, \u043C\u043E\u0436\u043B\u0438\u0432\u0435 \u043C\u0456\u043D\u0456\u043C\u0430\u043B\u044C\u043D\u0435 \u0445\u0430\u0440\u0447\u0443\u0432\u0430\u043D\u043D\u044F \u043D\u0430 \u043C\u0456\u0441\u044F\u0446\u044C. `,deletedAt:0,city:"\u041B\u0443\u0446\u044C\u043A",deletedPermanently:!1,stayDurationAny:!0,deleted:!1,stayDurationFew:!0,guestTypes:[100],updatedAt:1650020664,phone:"+380500887941"},{id:"14FJOKd3jyI8FnHm7Bf3",description:"\u041F\u0440\u0438\u0432\u0430\u0442\u043D\u0438\u0439 \u0431\u0443\u0434\u0438\u043D\u043E\u043A, \u0434\u0435 \u0454 3 \u043A\u0456\u043C\u043D\u0430\u0442\u0438. \u0413\u043E\u0442\u043E\u0432\u0438\u0439 \u043F\u0440\u0438\u0439\u043C\u0430\u0442\u0438 \u0441\u0456\u043C'\u044E (50-60 \u0440\u043E\u043A\u0456\u0432), \u0430\u043B\u0435 \u043D\u0435 \u043C\u043E\u043B\u043E\u0434\u044C. \u0404 \u0432\u0441\u0456 \u0443\u043C\u043E\u0432\u0438, \u0442\u0443\u0430\u043B\u0435\u0442 \u0432\u0441\u0435\u0440\u0435\u0434\u0438\u043D\u0456 \u0456 \u043D\u0430 \u0432\u0443\u043B\u0438\u0446\u0456, \u0432\u0430\u043D\u043D\u0430. \u0412\u0435\u043B\u0438\u043A\u0430 \u043A\u0456\u043C\u043D\u0430\u0442\u0430-\u0437\u0430\u043B\u0430 \u0456 \u0441\u043F\u0430\u043B\u044C\u043D\u044F. ",stayDurationOne:!0,updatedAt:1650000661,regionCode:"UA71000000000010357",phone:"+380660104289",stayDurationWar:!0,createdAt:1649315821,deletedAt:0,verified:!0,guestTypes:[400,500,700,300,600],maxGuests:6,deletedPermanently:!1,countryCode:"UA",stayDurationAny:!1,verifiedAt:1649315821,city:"\u0441\u0435\u043B\u043E \u0412\u0430\u0441\u0438\u043B\u044C\u043A\u0456\u0432",deleted:!1,author:"ag9R88jG4eYbfHj9EdyadQIXBmb2",stayDurationFew:!0},{id:"Rna6h2NVbHuvXXBLsKuL",description:"\u0412\u0456\u043B\u044C\u043D\u0430 \u043A\u0456\u043C\u043D\u0430\u0442\u0430 \u0432 \u043D\u0430\u0448\u043E\u043C\u0443 \u0431\u0443\u0434\u0438\u043D\u043A\u0443,\u0454 \u043B\u0456\u0436\u0435\u0447\u043A\u043E \u0434\u043B\u044F \u043D\u0435\u043C\u043E\u0432\u043B\u044F\u0442\u0438.\u0432 \u0431\u0443\u0434\u0438\u043D\u043A\u0443 \u0432\u0441\u0456 \u0437\u0440\u0443\u0447\u043D\u043E\u0441\u0442\u0456.\u0432 \u0434\u043E\u043C\u0456 \u0454 \u043A\u0456\u0448\u043A\u0430,\u0443 \u0434\u0432\u043E\u0440\u0456 \u0441\u043E\u0431\u0430\u043A\u0430,\u0442\u043E\u043C\u0443 \u0432\u0440\u0430\u0445\u043E\u0432\u0443\u0439\u0442\u0435,\u044F\u043A\u0449\u043E \u0454 \u0430\u043B\u0435\u0440\u0433\u0456\u044F",author:"JEApU1B1ZtXU12f57Mx7tiMfQxI2",city:"\u041E\u043B\u0435\u043A\u0441\u0430\u043D\u0434\u0440\u0456\u044F",updatedAt:1649994795,maxGuests:3,stayDurationFew:!0,deletedPermanently:!1,stayDurationAny:!1,regionCode:"UA35000000000016081",phone:"+380979203019",street:"\u041C\u0438\u0440\u0443",countryCode:"UA",stayDurationOne:!0,createdAt:1649994795,deleted:!1,verified:!1,deletedAt:0,stayDurationWar:!1,verifiedAt:0,guestTypes:[100]}];k7.forEach(t=>{t.lat=48.383022+(Math.random()-Math.random())*4+1.5,t.lng=31.1828699+(Math.random()-Math.random())*9});const qT={offers:k7,livemap:GT,options:{initialFilterValues:{persons:1}}},ZT=t=>{console.log(t)},WT=(t,r)=>{console.log(t)};Ms.render(Ae.createElement(AT,{data:qT,onFilter:ZT,onMarkerClick:WT}),document.getElementById("app"))});export default HT();
