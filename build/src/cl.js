!function(t){var e="1.0.11";e!=="{{Package.Json.Version}}".toLowerCase()&&console.log("%c ˖•● ChartLibrary v."+e+" ●•˖ ","background: #44A; color: #FFF"),t.cl={version:"1.0.11"}}(window),function(t,e){"use strict";function o(){e.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}()}o.prototype.extend=function(t,e){var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=e.prototype},o.prototype.merge=function(t,e,o){if(!e)return t;if(e.constructor===Array){t=[];for(var r=0;r<e.length;r++)"object"==typeof e[r]?t[r]=this.merge({},e[r]):t[r]=e[r];return t}for(var s in e)if(e.hasOwnProperty(s))if(null!==e[s])if(void 0!==e[s]){if(!o||-1===o.indexOf(s))try{e[s].constructor==Object?t[s]=this.merge(t[s]||{},e[s]):e[s].constructor==Array?t[s]=this.merge(void 0,e[s],o):t[s]=e[s]}catch(i){console.warn("Something go wrong during object merge",t,"to",e,". Property",s),t[s]=e[s]}}else t[s]=void 0;else t[s]=null;return t},o.prototype.colorLuminance=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var o,r,s="#";for(r=0;3>r;r++)o=parseInt(t.substr(2*r,2),16),o=Math.round(Math.min(Math.max(0,o+o*e),255)).toString(16),s+=("00"+o).substr(o.length);return s},o.prototype.distSq=function(t,e,o,r){return(t-o)*(t-o)+(e-r)*(e-r)},o.prototype.distToSegmentSquared=function(t,e,o,r,s,i){var n=this.distSq(o,r,s,i);if(0===n)return this.distSq(t,e,o,r);var p=((t-o)*(s-o)+(e-r)*(i-r))/n;return 0>p?this.distSq(t,e,o,r):p>1?this.distSq(t,e,s,i):this.distSq(t,e,o+p*(s-o),r+p*(i-r))},o.prototype.lineRectIntersect=function(t,e,o,r,s,i,n,p){var a=s,l=n;if(s>n&&(a=n,l=s),l>o&&(l=o),t>a&&(a=t),a>l)return!1;var c=i,h=p,d=n-s;if(Math.abs(d)>1e-7){var u=(p-i)/d,f=i-u*s;c=u*a+f,h=u*l+f}if(c>h){var g=h;h=c,c=g}return h>r&&(h=r),e>c&&(c=e),h>=c},o.prototype.pointInPoly=function(t,e,o){var r,s,i=o,n=i[0],p=i[0],a=i[1],l=i[1];for(r=1;r<i.length;r+=2)n=Math.min(i[r],n),p=Math.max(i[r],p),a=Math.min(i[r+1],a),l=Math.max(i[r+1],l);if(n>t||t>p||a>e||e>l)return!1;var c=!1;for(r=0,s=i.length/2-1;r<i.length/2;s=r++)i[2*r+1]>e!=i[2*s+1]>e&&t<(i[2*s]-i[2*r])*(e-i[2*r+1])/(i[2*s+1]-i[2*r+1])+i[2*r]&&(c=!c);return c},t.Utils=new o}(cl,window),function(t){"use strict";function e(){}var o="en";e.prototype.get=function(t,e){if(!this.strings[o]||!this.strings[o][t])return t;var r=this.strings[o][t]||t;if(e instanceof Array)for(var s=0;s<e.length;s++)r=r.replace("%"+(s+1).toString(),e[s]);else r=r.replace("%1",e);return r},e.prototype.strings={en:{errNoElements:"No element specified in options",errAxisHaveNoChart:"Trying to access axis with no parent chart",errDelBaseAxis:"Can not delete base '%1' axis",errShapeNoParam:"Can not create shape without '%1' parameter",errUnknownEvent:"Unknown event '%1'",errNoShapeClass:"Shape class is not specified",errShapeType:"Can not add shape, because same shape with different type already exists"}},t.Lang=new e}(cl),function(t){"use strict";var e={COLOR_BLACK:"#000000",COLOR_WHITE:"#FFFFFF",COLOR_GRAY:"#AAAAAA",COLOR_RED:"#FF0000",COLOR_GREEN:"#00FF00",COLOR_BLUE:"#0000FF",COLOR_LIGHTBLUE:"#AAAAFF",FONT_SIZE:14,FONT_NAME:"Arial",TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,RAD_TO_DEG:Math.PI/180};t.Consts=e}(cl),function(t){"use strict";function e(){var t=this;t._colors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},t._defs=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.?\d*)\)$/,example:["rgba(123, 234, 45, 255)","rgba(255,234,245,255)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w)(\w)(\w)$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}]}e.prototype.fromString=function(t){var e=this;return e._colors[t]?"#"+e._colors[t]:t},e.prototype.toHex=function(t,e,o){var r,s,i;return r=t.toString(16),s=e.toString(16),i=o.toString(16),1==r.length&&(r="0"+r),1==s.length&&(s="0"+s),1==i.length&&(i="0"+i),"#"+r+s+i},e.prototype.toRGB=function(t){var e=this;"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,"").toLowerCase(),e._colors[t]&&(t=e._colors[t]);for(var o,r,s,i=0;i<e._defs.length;i++){var n=e._defs[i].re,p=e._defs[i].process,a=n.exec(t);if(a){var l=p(a);o=l[0],r=l[1],s=l[2]}}return o=0>o||isNaN(o)?0:o>255?255:o,r=0>r||isNaN(r)?0:r>255?255:r,s=0>s||isNaN(s)?0:s>255?255:s,{r:o,g:r,b:s}},t.Color=new e}(cl),function(t){"use strict";function e(t){var o=this;o._easing=e.EASING_LINEAR,o._startTime=0,o._objectFrom=cl.Utils.merge({},t),o._objectTo=null,o._updateFunc=null,o._completeFunc=null,o.object=t}!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-t}}}(),e.prototype.object=null,e.prototype.duration=0,e.prototype.delay=0,e.prototype.active=!1,e.prototype.easing=function(t){return this._easing=t,this},e.prototype.to=function(t,e){return this._objectTo=cl.Utils.merge({},t),this.duration=e,this},e.prototype.delay=function(t){return this.delay=t,this},e.prototype.onUpdate=function(t){return this._updateFunc=t,this},e.prototype.onComplete=function(t){return this._completeFunc=t,this},e.prototype.start=function(){var t=this;return t.active=!0,t._startTime=void 0,-1===e.items.indexOf(this)&&e.items.push(this),t},e.prototype.stop=function(){var t=this;return t.active=!1,t.object=void 0,t._startTime=void 0,t._objectFrom=void 0,t._objectTo=void 0,t},e.prototype._process=function(t){var e=this;void 0===e._startTime&&(e._startTime=t);var o=t-e._startTime-e.delay;if(!(0>o)){if(e.duration<=0)return e._calcProps(1),e._updateFunc&&e._updateFunc(1),void e.stop();o>e.duration&&(o=e.duration),e._calcProps(o/e.duration),e._updateFunc&&e._updateFunc.call(e.object,o/e.duration),o===e.duration&&(e._completeFunc&&e._completeFunc.call(e.object),e.stop())}},e.prototype._calcProps=function(t){var e=this;t=e._easing(t);for(var o in e._objectTo)if(e._objectTo.hasOwnProperty(o)&&"number"==typeof e._objectTo[o]){var r=parseFloat(e._objectFrom[o]||0);e.object[o]=r+(e._objectTo[o]-r)*t}},e.items=[],e.update=function(t){var o,r;for(t=void 0!==t?t:window.performance.now(),o=0,r=e.items.length;r>o;o++)e.items[o].active&&e.items[o]._process(t);for(o=0;o<e.items.length;)e.items[o].active?o++:e.items.splice(o,1)},e.EASING_LINEAR=function(t){return t},e.EASING_QUADRATIC_IN=function(t){return t*t},e.EASING_QUADRATIC_OUT=function(t){return t*(2-t)},e.EASING_QUADRATIC_IN_OUT=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},e.EASING_ELASTIC_IN=function(t){var e,o=.1,r=.4;return 0===t?0:1===t?1:(!o||1>o?(o=1,e=r/4):e=r*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},e.EASING_ELASTIC_OUT=function(t){var e,o=.1,r=.4;return 0===t?0:1===t?1:(!o||1>o?(o=1,e=r/4):e=r*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},e.EASING_ELASTIC_BACK_IN=function(t){var e=1.70158;return t*t*((e+1)*t-e)},e.EASING_ELASTIC_BACK_OUT=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},e.EASING_BOUNCE_IN=function(t){return 1-e.EASING_ELASTIC_BACK_OUT(1-t)},e.EASING_BOUNCE_OUT=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.Tween=e}(cl),function(t){"use strict";function e(){}e.prototype.x=null,e.prototype.y=null,e.prototype.target=null,e.prototype.originalEvent=null,e.prototype.type=null;var o={click:"click",doubleClick:"dblclick",mouseMove:"mousemove",mouseDown:"mousedown",mouseUp:"mouseup",shapeOver:"shapeover",shapeOut:"shapeout",select:"select",deselect:"deselect",dragStart:"dragstart",dragEnd:"dragend"};cl.Utils.merge(e,o),t.Event=e}(cl),function(t){"use strict";function e(t){var e=this;e._event=new cl.Event,e._listeners={},e._hoveredShape=null,e._pressedShape=null,e._prevClickTime=null,e._clickTimeout=null,e._onMouseMoveListener=e._onMouseMove.bind(e),e._onMouseDownListener=e._onMouseDown.bind(e),e._onMouseUpListener=e._onMouseUp.bind(e),e.chart=t;for(var o in cl.Event)cl.Event.hasOwnProperty(o)&&(e._listeners[cl.Event[o]]=[]);e._bindBaseEventListeners()}e.prototype.chart=null,e.prototype.mouseX=0,e.prototype.mouseY=0,e.prototype.mouseDown=!1,e.prototype._onMouseDown=function(t){var e=this;e.mouseDown=!0,e._callListeners(cl.Event.mouseDown,t),e._fillMouseCoords(t),(e.hasListener(cl.Event.click)||e.hasListener(cl.Event.doubleClick))&&(e._pressedShape=e.chart.selector.shapeFromPoint(e.mouseX,e.mouseY))},e.prototype._onMouseUp=function(t){var e=this;if(e._fillMouseCoords(t),(e.mouseDown||t.currentTarget!==document)&&(e.mouseDown=!1,e._callListeners(cl.Event.mouseUp,t),t.stopPropagation(),e.hasListener(cl.Event.click)||e.hasListener(cl.Event.doubleClick))){var o=e.chart.selector.shapeFromPoint(e.mouseX,e.mouseY);e._pressedShape===o&&e._requestClick(t,e._pressedShape)}},e.prototype._fillMouseCoords=function(t){var e=this,o=t.target||t.srcElement,r=o.getBoundingClientRect(),s=t.clientX-r.left,i=t.clientY-r.top;e.mouseX=s,e.mouseY=i},e.prototype._onMouseMove=function(t){var e=this;if(e._fillMouseCoords(t),e.hasListener(cl.Event.shapeOver)||e.hasListener(cl.Event.shapeOut)){var o=e.chart.selector.shapeFromPoint(e.mouseX,e.mouseY);o?e._hoveredShape!==o&&e._callListeners(cl.Event.shapeOver,t,o):e._hoveredShape&&e._callListeners(cl.Event.shapeOut,t,e._hoveredShape),e._hoveredShape=o}e._callListeners(cl.Event.mouseMove,t)},e.prototype._requestClick=function(t,o){var r=this,s=Date.now();r._prevClickTime&&s-r._prevClickTime<e.DOUBLE_CLICK_DELAY?(r._clickTimeout&&clearTimeout(r._clickTimeout),r._callListeners(cl.Event.doubleClick,t,o)):(r._clickTimeout&&clearTimeout(r._clickTimeout),r._clickTimeout=setTimeout(function(){r._clickTimeout=null,r._callListeners(cl.Event.click,t,o)},e.DOUBLE_CLICK_DELAY)),r._prevClickTime=s},e.prototype.addEventListener=function(t,e){var o=this;if(!o._listeners[t])throw new Error(cl.Lang.get("errUnknownEvent",t));-1===o._listeners[t].indexOf(e)&&o._listeners[t].push(e)},e.prototype.removeEventListener=function(t,e){var o=this;if(!o._listeners[t])throw new Error(cl.Lang.get("errUnknownEvent",t));var r=o._listeners[t].indexOf(e);-1!==r&&o._listeners[t].splice(r,1)},e.prototype._callListeners=function(t,e,o,r,s){var i=this;if(i.hasListener(t)){var n,p,a,l,c=0,h=0;e&&(a=e.target||e.srcElement,l=a.getBoundingClientRect(),c=e.clientX-l.left,h=e.clientY-l.top),n=void 0===r?i.chart.xAxis.toAxis(c):r,p=void 0===s?i.chart.yAxis.toAxis(h):s,i._event.x=n,i._event.y=p,i._event.target=o,i._event.originalEvent=e;for(var d=0,u=i._listeners[t].length;u>d;d++)i._listeners[t][d](i._event)}},e.prototype.hasListener=function(t){return 0!==this._listeners[t].length},e.prototype._bindBaseEventListeners=function(){var t=this,e=t.chart.screen.el;e.addEventListener(cl.Event.mouseMove,t._onMouseMoveListener),e.addEventListener(cl.Event.mouseDown,t._onMouseDownListener),e.addEventListener(cl.Event.mouseUp,t._onMouseUpListener),document.addEventListener(cl.Event.mouseUp,t._onMouseUpListener)},e.prototype._unbindBaseEventListeners=function(){var t=this,e=this.chart.screen.el;e.removeEventListener(cl.Event.mouseMove,t._onMouseMoveListener),e.removeEventListener(cl.Event.mouseDown,t._onMouseDownListener),e.removeEventListener(cl.Event.mouseUp,t._onMouseUpListener),document.removeEventListener(cl.Event.mouseUp,t._onMouseUpListener)},e.prototype.destroy=function(){var t=this;t.chart=null,t._event=null,t._listeners=null,t._unbindBaseEventListeners()},e.DOUBLE_CLICK_DELAY=300,t.EventManager=e}(cl),function(t){"use strict";function e(t){var e=this;e.chart=t,e.options={visible:!0},e.surface=new cl.Canvas(t.width,t.height),e.dirtyFlagName=""}e.prototype.chart=null,e.prototype.surface=null,e.prototype.dirtyFlagName="",e.prototype.show=function(){return this.options&&(this.options.visible=!0),this},e.prototype.hide=function(){return this.options&&(this.options.visible=!1),this},e.prototype.apply=function(){this.chart&&(this.chart._setDirtyFlag(this.dirtyFlagName),this.chart.redraw())},e.prototype._render=function(){},e.prototype.resize=function(t,e){return this.surface.resize(t,e),this},e.prototype.destroy=function(){this.chart=null,this.surface.destroy(),this.surface=null},t.Layer=e}(cl),function(t){"use strict";function e(t,e){var o=this;o.parent=t,o.chart=t.chart,o.options={name:"",type:"x",min:0,max:100,offset:0,ticks:{big:{interval:10,size:8,align:"center",color:cl.Consts.COLOR_GRAY,opacity:.8,type:"line",first:!0,last:!0},small:{interval:5,size:4,align:"bottom",color:cl.Consts.COLOR_GRAY,opacity:.8,type:"line",first:!0,last:!0}},margin:{start:20,end:20},style:{lineWidth:2,color:cl.Consts.COLOR_GRAY,arrowSize:12,lineDash:[]},title:{size:14,align:"center",font:cl.Consts.FONT_NAME,color:cl.Consts.COLOR_BLACK,style:"",offset:0},labels:{big:{size:10,align:"bottom",font:cl.Consts.FONT_NAME,color:cl.Consts.COLOR_GRAY,style:"",opacity:1,before:"",after:"",margin:0},small:{size:8,align:"bottom",font:cl.Consts.FONT_NAME,color:cl.Consts.COLOR_GRAY,style:"",opacity:1,before:"",after:"",margin:0}},grid:{big:{width:1,dash:[3,3],color:"#BEBEBE",opacity:.5},small:{width4:1,dash:[10,10],color:"#EFEFEF",opacity:.5}},visible:!0},cl.Utils.merge(o.options,e||{}),e&&(e.min||e.max)&&(e.ticks&&e.ticks.big&&e.ticks.big.interval||(o.options.ticks.big.interval=parseFloat(((o.options.max-o.options.min)/10).toFixed(4))),e.ticks&&e.ticks.small&&e.ticks.small.interval||(o.options.ticks.small.interval=parseFloat(((o.options.max-o.options.min)/20).toFixed(4))))}e.prototype.parent=null,e.prototype.options=null,e.prototype.getTickInterval=function(){return this.options.ticks.big.interval},e.prototype.setTickInterval=function(t){var e=this;return e.options.ticks.big.interval=t,e},e.prototype.getTickIntervalSmall=function(){return this.options.ticks.small.interval},e.prototype.setTickIntervalSmall=function(t){var e=this;return e.options.ticks.small.interval=t,e},e.prototype.hide=function(){var t=this;return t.options.visible=!1,t},e.prototype.show=function(){var t=this;return t.options.visible=!0,t},e.prototype.getTitleStyle=function(){return this.options.title.style},e.prototype.setTitleStyle=function(t){var e=this;return e.options.title.style=t,e},e.prototype.getTitleColor=function(){return this.options.title.color},e.prototype.setTitleColor=function(t){var e=this;return e.options.title.color=t,e},e.prototype.getTitleFont=function(){return this.options.title.font},e.prototype.setTitleFont=function(t){var e=this;return e.options.title.font=t,e},e.prototype.getTitleSize=function(){return this.options.title.size},e.prototype.setTitleSize=function(t){var e=this;return e.options.title.size=t,e},e.prototype.getTitleAlign=function(){return this.options.title.align},e.prototype.setTitleAlign=function(t){var e=this;return e.options.title.align=t,e},e.prototype.setColor=function(t){var e=this;return e.options.style.color=t,e},e.prototype.getColor=function(){return this.options.style.color},e.prototype.getMargins=function(){var t=this;return{start:t.options.margin.start,end:t.options.margin.end}},e.prototype.setMargins=function(t,e){var o=this;return o.options.margin.start=t,o.options.margin.end=e,o},e.prototype.setOffset=function(t){var e=this;return e.options.offset=t,e},e.prototype.getOffset=function(){return this.options.offset},e.prototype.getMax=function(){return this.options.max},e.prototype.getMin=function(){return this.options.min},e.prototype.setMax=function(t){var e=this;return e.options.max=t,e},e.prototype.setMin=function(t){var e=this;return e.options.min=t,e},e.prototype.setName=function(t){var e=this;return e.options.name=t,e},e.prototype.getName=function(){return this.options.name},e.prototype._render=function(t){var e=this;if(e.options&&e.options.visible){var o,r,s,i=e.options,n="y"==e.options.type,p=i.ticks.small.interval.toString(),a=p.indexOf("."),l=0;-1!==a&&(l=p.length-a-1),t.resetTransform(),t.setLineStyle(i.style.lineWidth,i.style.color),t.setFillColor(i.style.color),n?(s=e.options.offset,t.ctx.translate(e.chart.xAxis.toScreen(s),0),t.ctx.rotate(cl.Consts.HALF_PI)):(s=e.options.offset,t.ctx.translate(0,e.chart.yAxis.toScreen(s))),t.save(),0!==i.style.lineDash.length&&t.setLineDash(i.style.lineDash),t.drawLine(e.toScreen(i.min),0,e.toScreen(i.max),0),t.restore(),0!==i.style.arrowSize&&t.drawArrow(e.toScreen(i.max),0,n?Math.PI:0,i.style.arrowSize);var c=0,h=0,d=!1;switch(i.ticks.big.align){case"right":case"top":c=-i.ticks.big.size;break;case"center":case"middle":c=-i.ticks.big.size/2;break;case"left":case"bottom":c=0}switch(i.ticks.small.align){case"right":case"top":h=-i.ticks.small.size;break;case"center":case"middle":h=-i.ticks.small.size/2;break;case"left":case"bottom":h=0}var u,f,g;for("x"===i.type?(u=e.chart.yAxis.toScreen(e.chart.yAxis.getMin()),f=e.chart.yAxis.toScreen(e.chart.yAxis.getMax()),g=e.chart.yAxis.toScreen(s)):(u=-e.chart.xAxis.toScreen(e.chart.xAxis.getMin()),f=-e.chart.xAxis.toScreen(e.chart.xAxis.getMax()),g=-e.chart.xAxis.toScreen(s)),o=i.min;o<=i.max;)r=Math.floor(e.toScreen(o)),d=o/i.ticks.big.interval===parseInt((o/i.ticks.big.interval).toFixed(0)),d?(o+i.ticks.big.interval<=i.max||i.ticks.big.last)&&(o!=i.min||i.ticks.big.first)&&(0!==i.grid.big.width&&(t.setLineStyle(i.grid.big.width,i.grid.big.color),t.setAlpha(i.grid.big.opacity),0!==i.grid.big.dash.length&&t.setLineDash(i.grid.big.dash),t.drawLine(r,u-g,r,f-g)),0!==i.ticks.big.size&&(t.setLineStyle(i.style.lineWidth,i.ticks.big.color),t.setAlpha(i.ticks.big.opacity),t.setLineDash([]),"dot"===i.ticks.big.type?(t.setFillColor(i.ticks.big.color),t.ctx.beginPath(),t.ctx.arc(r,c+i.ticks.big.size/2,i.ticks.big.size,0,2*Math.PI,!1),t.ctx.fill()):t.drawLine(r,c,r,c+i.ticks.big.size))):(o+i.ticks.big.interval<=i.max||i.ticks.small.last)&&(o!=i.min+i.ticks.small.interval||i.ticks.small.first)&&(0!==i.grid.small.width&&(t.setLineStyle(i.grid.small.width,i.grid.small.color),t.setAlpha(i.grid.small.opacity),0!==i.grid.small.dash.length&&t.setLineDash(i.grid.small.dash),t.drawLine(r,u-g,r,f-g)),0!==i.ticks.small.size&&(t.setLineStyle(i.style.lineWidth,i.ticks.small.color),t.setAlpha(i.ticks.small.opacity),t.setLineDash([]),"dot"===i.ticks.small.type?(t.setFillColor(i.ticks.small.color),t.ctx.beginPath(),t.ctx.arc(r,h+i.ticks.small.size/2,i.ticks.small.size,0,2*Math.PI,!1),t.ctx.fill()):t.drawLine(r,h,r,h+i.ticks.small.size))),o+=i.ticks.small.interval,o=parseFloat(o.toFixed(l));if(t.ctx.globalAlpha=1,t.setLineDash([]),0!==i.title.size){var y=i.title.align;switch("bottom"===y&&(y="left"),"top"===y&&(y="right"),y){case"left":r=Math.floor(e.toScreen(i.min));break;case"right":r=Math.floor(e.toScreen(i.max));break;case"center":r=Math.floor(e.toScreen(i.min+(i.max-i.min)/2));break;default:r=0}"y"===i.type&&(t.ctx.translate(r,i.title.size+2*(i.title.offset+i.ticks.big.size+i.labels.big.size)),t.ctx.rotate(Math.PI)),t.setFillColor(i.title.color),t.drawText(i.name,"y"===i.type?0:r,i.title.offset+i.ticks.big.size+i.labels.big.size,i.title.size,y,"top",i.title.font,i.title.style),"y"===i.type&&(t.ctx.rotate(-Math.PI),t.ctx.translate(-r,-(i.title.size+2*(i.title.offset+i.ticks.big.size+i.labels.big.size))))}var m=i.labels.big.align,v=i.labels.small.align;if("y"===i.type){switch("bottom"===m?m="right":"top"===m?m="left":"middle"===m&&(m="center"),"bottom"===v?v="right":"top"===v?v="left":"middle"===v&&(v="center"),m){case"center":case"middle":c=0;break;case"right":c=i.ticks.big.size;break;case"left":c=-i.ticks.big.size}switch(v){case"center":case"middle":h=0;break;case"right":h=i.ticks.small.size;break;case"left":h=-i.ticks.small.size}}else{switch("bottom"===m?m="top":"top"===m&&(m="bottom"),"left"===m?m="right":"right"===m&&(m="left"),"bottom"===v?v="top":"top"===v&&(v="bottom"),"left"===v?v="right":"right"===v&&(v="left"),m){case"center":case"middle":c=0;break;case"top":case"left":c=i.ticks.big.size}switch(v){case"center":case"middle":h=0;break;case"top":case"left":h=i.ticks.small.size}}for(o=i.min;o<=i.max;)r=Math.floor(e.toScreen(o)),o/i.ticks.big.interval===parseInt((o/i.ticks.big.interval).toFixed(0))?0!==i.labels.big.size&&(o+i.ticks.big.interval<=i.max||i.ticks.big.last)&&(o!=i.min||i.ticks.big.first)&&(r+=("y"===i.type?-1:1)*i.labels.big.margin,t.setFillColor(i.labels.big.color),t.setAlpha(i.labels.big.opacity),"y"===i.type?(t.ctx.translate(r,c),t.ctx.rotate(-cl.Consts.HALF_PI),t.drawText(i.labels.big.before+o.toFixed(l)+i.labels.big.after,0,0,i.labels.big.size,m,"center",i.labels.big.font,i.labels.big.style),t.ctx.rotate(cl.Consts.HALF_PI),t.ctx.translate(-r,-c)):t.drawText(i.labels.big.before+o.toFixed(l)+i.labels.big.after,r,c,i.labels.big.size,"center",m,i.labels.big.font,i.labels.big.style)):0!==i.labels.small.size&&(o+i.ticks.big.interval<=i.max||i.ticks.small.last)&&(o!=i.min+i.ticks.small.interval||i.ticks.small.first)&&(r+=("y"===i.type?-1:1)*i.labels.small.margin,t.setFillColor(i.labels.small.color),t.setAlpha(i.labels.small.opacity),"y"===i.type?(t.ctx.translate(r,h),t.ctx.rotate(-cl.Consts.HALF_PI),t.drawText(i.labels.small.before+o.toFixed(l)+i.labels.small.after,0,0,i.labels.small.size,v,"center",i.labels.small.font,i.labels.small.style),t.ctx.rotate(cl.Consts.HALF_PI),t.ctx.translate(-r,-h)):t.drawText(i.labels.small.before+o.toFixed(l)+i.labels.small.after,r,h,i.labels.small.size,"center",v,i.labels.small.font,i.labels.small.style)),o+=i.ticks.small.interval,o=parseFloat(o.toFixed(l));t.setAlpha(1),t.resetTransform()}},e.prototype.toAxis=function(t){var e=this;if(!e.chart)throw cl.Lang.get("errAxisHaveNoChart");var o=e.chart.width;return"x"===e.options.type?e.options.min+(t-e.options.margin.start)/(o-e.options.margin.start-e.options.margin.end)*(e.options.max-e.options.min):(o=e.chart.height,t=o-t,e.options.min+(t-e.options.margin.start)/(o-e.options.margin.start-e.options.margin.end)*(e.options.max-e.options.min))},e.prototype.toScreen=function(t){var e=this;if(!e.chart)throw cl.Lang.get("errAxisHaveNoChart");var o=e.chart.width;return"x"===e.options.type?e.options.margin.start+(t-e.options.min)/(e.options.max-e.options.min)*(o-e.options.margin.start-e.options.margin.end):(o=e.chart.height,e.chart.height-(e.options.margin.start+(t-e.options.min)/(e.options.max-e.options.min)*(o-e.options.margin.start-e.options.margin.end)))},e.prototype.apply=function(){var t=this;return t.parent.apply(),t},e.prototype.setLineWidth=function(t){var e=this;return e.options.style.lineWidth=t,e},e.prototype.getLineWidth=function(){return this.options.style.lineWidth},e.prototype.destroy=function(){var t=this;t.options=null,t.chart=null},t.Axis=e}(cl),function(t){"use strict";function e(t){var e=this;cl.Layer.call(e,t),e.items=[],e.chart=t,e.dirtyFlagName="axis",Object.defineProperties(e,{count:{get:function(){return e.items.length}}})}cl.Utils.extend(e,cl.Layer),e.prototype.chart=null,e.prototype.items=null,e.prototype._render=function(){var t,e,o=this;for(o.surface.resetTransform(),o.surface.clear(),t=0,e=o.items.length;e>t;t++)o.items[t]._render(o.surface);o.constructor.superclass._render.call(o,o.surface)},e.prototype.add=function(t){var e=this,o=new cl.Axis(e,t||{});return e.items.push(o),e.apply(),o},e.prototype.get=function(t){var e,o,r=this;if("string"!=typeof t)return r.items[t];for(e=0,o=r.items.length;o>e;e++)if(r.items[e].getName()===t)return r.items[e]},e.prototype.remove=function(t){var e=this;if(null!==t&&void 0!==t)switch(typeof t){case"object":e._removeAxis(t);break;default:e._removeAxis(e.get(t))}},e.prototype._removeAxis=function(t){var e=this;if(t){if(t===e.chart.xAxis||t===e.chart.yAxis)throw cl.Lang.get("errDelBaseAxis",t.options.type);var o=e.items.indexOf(t);-1!==o&&e.items[o]&&(e.items.splice(o,1),e.apply(),t.destroy())}},e.prototype.destroy=function(){var t,e,o=this;for(t=0,e=o.items.length;e>t;t++)o.items[t].destroy();o.items=null,o.constructor.superclass.destroy.call(o)},t.AxisManager=e}(cl),function(t){"use strict";function e(t,o){var r=this;r.constructor.superclass.constructor.call(r,t),r.dirtyFlagName="bg",cl.Utils.merge(r.options,{url:"",align:{x:"left",y:"bottom"},pos:{x:0,y:0},fit:e.FIT_ALL,fitToScreen:!1,visible:!0}),cl.Utils.merge(r.options,o||{}),r.options.url&&r.setImage(r.options.url)}cl.Utils.extend(e,cl.Layer),e.prototype.image=null,e.prototype.isLoaded=!1,e.prototype.options=null,e.prototype.setFit=function(t){var e=this;return e.options.fit=t,e},e.prototype._render=function(){var t=this;if(t.image&&t.options.visible){var o,r,s,i=t.options.align.x,n=t.options.align.y,p=t.chart.xAxis.toScreen(t.options.pos.x),a=t.chart.yAxis.toScreen(t.options.pos.y),l=t.chart.xAxis.getMargins(),c=t.chart.yAxis.getMargins();t.options.fitToScreen&&(p=0,a=t.chart.height,l.start=0,l.end=0,c.start=0,c.end=0);var h=t.image.width,d=t.image.height,u=t.chart.width-l.start-l.end,f=t.chart.height-c.start-c.end;switch(t.options.fit){case e.FIT_STRETCH:h=t.chart.width-l.start-l.end,d=t.chart.height-c.start-c.end;break;case e.FIT_ALL:o=u/h,r=f/d,s=Math.min(o,r),h*=s,d*=s,p=l.start+u/2,a=c.end+f/2,i="center",n="center";break;case e.FIT_FILL:o=u/h,r=f/d,s=Math.max(o,r),h*=s,d*=s,p=l.start+u/2,a=c.end+f/2,i="center",n="center"}switch(i){case"left":p-=0;break;case"right":p-=h;break;case"center":p-=h/2}switch(n){case"top":a-=0;break;case"bottom":a-=d;break;case"center":a-=d/2}t.options.fit===e.FIT_FILL&&(t.surface.save(),t.surface.ctx.rect(l.start,c.end,u,f),t.surface.ctx.clip()),t.surface.ctx.drawImage(t.image,Math.floor(p),Math.floor(a),h,d),t.options.fit===e.FIT_FILL&&t.surface.restore(),t.constructor.superclass._render.call(t)}},e.prototype.setImage=function(t){var e=this;e.image=new Image,e.isLoaded=!1,e.image.onload=function(){e.isLoaded=!0,e.apply()},e.image.src=t},e.prototype.destroy=function(){var t=this;t.image=null,t.constructor.superclass.destroy.call(t)},e.FIT_NONE=0,e.FIT_STRETCH=1,e.FIT_ALL=2,e.FIT_FILL=3,t.Background=e}(cl),function(t){"use strict";function e(t,e){var o=this;o._currentLineWidth=0,o._pixelOffset=0,o.el=document.createElement("canvas"),o.ctx=this.el.getContext("2d"),Object.defineProperties(o,{width:{get:function(){return o.el.width}},height:{get:function(){return o.el.height}}}),o.resize(t,e)}e.prototype.ctx=null,e.prototype.el=null,e.prototype.setLineDash=function(t){var e=this;e.ctx.setLineDash&&e.ctx.setLineDash(t)},e.prototype.restore=function(){this.ctx.restore()},e.prototype.save=function(){this.ctx.save()},e.prototype.setFillColor=function(t){this.ctx.fillStyle=t},e.prototype.restoreLineFix=function(){var t=this;t._currentLineWidth=null,0!==t._pixelOffset&&t.ctx.translate(-t._pixelOffset,-t._pixelOffset),t._pixelOffset=0},e.prototype.setLineStyle=function(t,e,o){var r=this,s=e||cl.Consts.COLOR_BLACK;if(r.ctx.lineWidth=t,r.ctx.strokeStyle=s,!o&&Math.abs(r._currentLineWidth-t)>.001){r._currentLineWidth=t;var i=t%2/2;Math.abs(r._pixelOffset-i)>.001&&(r.ctx.translate(-r._pixelOffset,-r._pixelOffset),r._pixelOffset=i,r.ctx.translate(r._pixelOffset,r._pixelOffset))}},e.prototype.drawText=function(t,e,o,r,s,i,n,p,a){var l=this,c=(r||cl.Consts.FONT_SIZE)+"px",h=n||cl.Consts.FONT_NAME,d=p||"",u=s||"left",f=i||"top";"center"===f&&(f="middle"),l.ctx.textBaseline=f,l.ctx.textAlign=u,l.ctx.font=d+" "+c+" "+h,void 0!==a?l.ctx.fillText(t,e,o,a):l.ctx.fillText(t,e,o)},e.prototype.drawArrow=function(t,e,o,r,s){var i,n,p,a=this;p=s||Math.PI/10,i=Math.cos(o+p),n=Math.sin(o+p),a.ctx.beginPath(),a.ctx.moveTo(t,e),a.ctx.lineTo(t-i*r,e-n*r),i=Math.cos(o-p),n=Math.sin(o-p),a.ctx.lineTo(t-i*r,e-n*r),a.ctx.lineTo(t,e+1),a.ctx.closePath(),a.ctx.fill()},e.prototype.drawRect=function(t,e,o,r,s,i,n){var p,a,l,c,h=this;n=n||0,p=Math.min(t,o)-n,a=Math.min(e,r)-n,l=Math.max(t,o)+n,c=Math.max(e,r)+n,s?(0>l-p-2*s&&(s=(l-p)/2),0>c-a-2*s&&(s=(c-a)/2),i||h.ctx.beginPath(),h.ctx.moveTo(p+s,a),h.ctx.lineTo(l-s,a),h.ctx.arc(l-s,a+s,s,270*cl.Consts.RAD_TO_DEG,360*cl.Consts.RAD_TO_DEG,!1),h.ctx.lineTo(l,c-s),h.ctx.arc(l-s,c-s,s,0,90*cl.Consts.RAD_TO_DEG,!1),h.ctx.lineTo(p+s,c),h.ctx.arc(p+s,c-s,s,90*cl.Consts.RAD_TO_DEG,180*cl.Consts.RAD_TO_DEG,!1),h.ctx.lineTo(p,a+s),h.ctx.arc(p+s,a+s,s,180*cl.Consts.RAD_TO_DEG,270*cl.Consts.RAD_TO_DEG,!1),i||h.ctx.closePath()):h.ctx.rect(p,a,l-p,c-a)},e.prototype.drawCircle=function(t,e,o){this.ctx.arc(t,e,o,0,cl.Consts.TWO_PI,!1)},e.prototype.drawLine=function(t,e,o,r,s){var i=this;s||i.ctx.beginPath(),i.ctx.moveTo(t,e),i.ctx.lineTo(o,r),s||i.ctx.stroke()},e.prototype.setAlpha=function(t){var e=this;e.ctx.globalAlpha=t},e.prototype.resetTransform=function(){this.ctx.setTransform(1,0,0,1,0,0)},e.prototype.draw=function(t,e,o){this.ctx.drawImage(t.el,e||0,o||0)},e.prototype.clear=function(){var t=this;0!==t._pixelOffset&&t.ctx.translate(-t._pixelOffset,-t._pixelOffset),t.ctx.clearRect(-1,-1,t.width+1,t.height+1),0!==t._pixelOffset&&t.ctx.translate(t._pixelOffset,t._pixelOffset)},e.prototype.resize=function(t,e){
var o=this;o.el.width=t,o.el.height=e},e.prototype.destroy=function(){var t=this;t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.ctx=null,t.el=null},t.Canvas=e}(cl),function(t){"use strict";function e(t,e){var o=this;cl.Layer.call(o,t),o.dirtyFlagName="sel",cl.Utils.merge(o.options,{draggable:!1,hover:{enabled:!0,width:2,color:cl.Consts.COLOR_RED,opacity:1,showHand:!0},selection:{enabled:!0,multiple:!1,shape:{width:1,color:cl.Consts.COLOR_BLUE,opacity:1},rect:{enabled:!0,width:1,color:cl.Consts.COLOR_LIGHTBLUE,opacity:.3}}}),cl.Utils.merge(o.options,e||{}),o._drag={active:!1,prepared:!1,items:[],bounds:null,sx:0,sy:0,lx:0,ly:0,layer:new cl.Canvas(o.chart.width,o.chart.height)},o._rect={active:!1,sx:0,sy:0,ex:0,ey:0},o._hovers=[],o._click={up:null,down:null},o.chart.addEventListener(cl.Event.shapeOver,o._onShapeOver.bind(o)),o.chart.addEventListener(cl.Event.shapeOut,o._onShapeOut.bind(o)),o.chart.addEventListener(cl.Event.mouseDown,o._onMouseDown.bind(o)),o.chart.addEventListener(cl.Event.mouseUp,o._onMouseUp.bind(o)),o.chart.addEventListener(cl.Event.mouseMove,o._onMouseMove.bind(o))}cl.Utils.extend(e,cl.Layer),e.prototype.options=null,e.prototype.selection=[],e.prototype.hover=null,e.prototype._onShapeOver=function(t){var e=this;e._drag.active||e._rect.active||(t.target&&t.target.props.cursor?e.chart.setCursor(t.target.props.cursor):e.options.hover.showHand&&e._showHand(),e.hover=t.target,e.apply())},e.prototype._onShapeOut=function(t){var e=this;e._drag.active||e._rect.active||(e.hover&&(t.target&&t.target.props.cursor||e.options.hover.showHand)&&e._resetCursor(),e.hover=null,e.apply())},e.prototype._onMouseMove=function(t){var o,r,s=this;if(s._drag.active){for(o=0,r=s._drag.items.length;r>o;o++)s._drag.items[o]._processDrag(t.x-s._drag.sx,t.y-s._drag.sy);s.apply(),s.chart.shapes.apply(),s._drag.sx=t.x,s._drag.sy=t.y}else s._drag.prepared&&s.chart.events.mouseDown&&(Math.abs(s._drag.sx-t.originalEvent.offsetX)>e.DRAG_THRESOLD||Math.abs(s._drag.sy-t.originalEvent.offsetY)>e.DRAG_THRESOLD)&&s._startDrag(t);s._rect.active&&(s._rect.ex=t.originalEvent.offsetX,s._rect.ey=t.originalEvent.offsetY,s.apply())},e.prototype._onMouseDown=function(t){var e=this;e._click.down=e.hover,!e._drag.active&&e.hover&&e.options.draggable?(e._drag.prepared=!0,e._drag.sx=t.originalEvent.offsetX,e._drag.sy=t.originalEvent.offsetY,e._drag.lx=e._drag.sx,e._drag.ly=e._drag.sy):e._drag.prepared=!1,e.hover&&e.options.draggable||!e.options.selection.enabled||!e.options.selection.rect.enabled||!e.options.selection.multiple||(e._rect.sx=t.originalEvent.offsetX,e._rect.sy=t.originalEvent.offsetY,e._rect.ex=e._rect.sx,e._rect.ey=e._rect.sy,e._rect.active=!0)},e.prototype._onMouseUp=function(t){var e,o,r,s=this;s._click.up=s.hover;var i=s._click.down&&s._click.up&&s._click.down===s._click.up;if(s._rect.active){var n=Math.abs(s._rect.ex-s._rect.sx)/2,p=Math.abs(s._rect.ey-s._rect.sy)/2,a=Math.max(s._rect.sx,s._rect.ex)-n,l=Math.max(s._rect.sy,s._rect.ey)-p;r=s.shapesFromRect(a,l,n,p),0===r.length?s.chart.events._callListeners(cl.Event.deselect,t.originalEvent,s.selection):s.chart.events._callListeners(cl.Event.select,t.originalEvent,r),s.selection=r,s._rect.active=!1,s.apply()}else if(s._drag.active){for(e=0,o=s._drag.items.length;o>e;e++)s._drag.items[e]._isDragged=!1,s._drag.items[e].tween||(s._drag.items[e].isAnimating=!1,s.chart.shapes.updateStatic(),s.chart.shapes.apply());s.chart.events._callListeners(cl.Event.dragEnd,t.originalEvent,s._drag.items),s._drag.items=null,s._drag.active=!1,s._drag.prepared=!1,s.apply()}else if(s.options.selection.enabled){if(s.options.selection.multiple&&s.hover){var c=s.selection.indexOf(s.hover);-1===c?s.selection.push(s.hover):s.selection.splice(c,1)}else s.hover&&i?1===s.selection.length&&s.selection[0]===s.hover?(s.chart.events._callListeners(cl.Event.deselect,t.originalEvent,s.selection),s.selection=[]):(s.selection=[s.hover],s.chart.events._callListeners(cl.Event.select,t.originalEvent,s.selection)):(s.chart.events._callListeners(cl.Event.deselect,t.originalEvent,s.selection),s.selection=[]);s.apply()}},e.prototype.deselect=function(){var t=this;0!==t.selection.length&&(t.chart.events._callListeners(cl.Event.deselect,null,t.selection),t.selection=[],t.apply())},e.prototype.getSelection=function(){return this.selection},e.prototype.enableMultiselect=function(){this.options.selection.enabled=!0,this.options.selection.rect.enabled=!0,this.options.selection.multiple=!0},e.prototype.disableMultiselect=function(){this.options.selection.multiple=!1},e.prototype.enableDrag=function(){this.options.draggable=!0},e.prototype.disableDrag=function(){this.options.draggable=!1},e.prototype._startDrag=function(t){var e=this;if(e.options.draggable){var o=e.shapeFromPoint(e.chart.events.mouseX,e.chart.events.mouseY);if(o&&(o&&-1===e.selection.indexOf(o)&&(e.selection=[o],e.chart.events._callListeners(cl.Event.select,t.originalEvent,e.selection)),0!==e.selection.length)){var r,s,i=e.selection;for(e._drag.items=[],e._drag.sx=e.chart.xAxis.toAxis(e._drag.sx),e._drag.sy=e.chart.yAxis.toAxis(e._drag.sy),e._drag.bounds=e.getBounds(i),e._drag.bounds.x=Math.floor(e._drag.bounds.x)-10,e._drag.bounds.y=Math.floor(e._drag.bounds.y)-10,e._drag.layer.resize(e._drag.bounds.w+20,e._drag.bounds.h+20),e._drag.layer.resetTransform(),e._drag.layer.clear(),e._drag.layer.ctx.translate(-e._drag.bounds.x,-e._drag.bounds.y),r=0,s=i.length;s>r;r++)i[r].props.draggable&&(e._drag.items.push(i[r]),i[r]._render(e._drag.layer),i[r].isAnimating||(e.chart.shapes.updateStatic(),e.chart.shapes.apply()),i[r].isAnimating=!0);for(e._renderSelection(e._drag.layer,e._drag.items),r=0,s=e._drag.items.length;s>r;r++)e._drag.items[r]._isDragged=!0;e._drag.active=!0,e.apply(),e.chart.events._callListeners(cl.Event.dragStart,t.originalEvent,e._drag.items)}}},e.prototype.getBounds=function(t){var e,o,r,s,i,n,p;for(e=Number.MAX_VALUE,o=Number.MAX_VALUE,r=Number.MIN_VALUE,s=Number.MIN_VALUE,i=0,n=t.length;n>i;i++)p=t[i].getBounds(),p.x<e&&(e=p.x),p.y<o&&(o=p.y),p.x+p.w>r&&(r=p.x+p.w),p.y+p.h>s&&(s=p.y+p.h);return{x:e,y:o,w:r-e,h:s-o}},e.prototype.shapesFromRect=function(t,e,o,r){var s,i,n=this,p=[];for(i=n.chart.shapes.count,s=0;i>s;s++)n.chart.shapes.items[s].hitTestRect(t,e,o,r)&&p.push(n.chart.shapes.items[s]);return p},e.prototype.shapesFromPoint=function(t,e){var o,r,s=this,i=[];for(r=s.chart.shapes.count,o=0;r>o;o++)s.chart.shapes.items[o].hitTest(t,e)&&i.push(s.chart.shapes.items[o]);return i},e.prototype.shapeFromPoint=function(t,e){var o=this,r=o.chart.selector.shapesFromPoint(t,e);if(0!==r.length){for(var s=Number.MAX_VALUE,i=0,n=0,p=r.length;p>n;n++){var a=r[n].getPixelArea();s>a&&(s=a,i=n)}return r[i]}},e.prototype._render=function(){var t=this;t.options.visible&&(t.surface.clear(),t._drag.active?t.surface.draw(t._drag.layer,t._drag.bounds.x-t._drag.lx+t.chart.events.mouseX,t._drag.bounds.y-t._drag.ly+t.chart.events.mouseY):(t._renderSelection(t.surface,t.selection),t.options.hover.enabled&&!t._rect.active&&(t.chart.shapes.isAnimating&&!t._drag.active&&(t.hover=t.shapeFromPoint(t.chart.events.mouseX,t.chart.events.mouseY)),!t.hover||t.hover.props.hover&&t.hover.props.hover.enabled===!1||(t.hover.props.lineDash&&0!==t.hover.props.lineDash.length&&t.surface.setLineDash(t.hover.props.lineDash),t.hover.props.hover?(t.surface.ctx.strokeStyle=void 0!==t.hover.props.hover.color?t.hover.props.hover.color:t.options.hover.color,t.surface.ctx.lineWidth=void 0!==t.hover.props.hover.border?t.hover.props.hover.border:t.options.hover.width,t.surface.ctx.globalAlpha=void 0!==t.hover.props.hover.opacity?t.hover.props.hover.opacity:t.options.hover.opacity):(t.surface.ctx.strokeStyle=t.options.hover.color,t.surface.ctx.lineWidth=t.options.hover.width,t.surface.ctx.globalAlpha=t.options.hover.opacity),t.surface.ctx.beginPath(),t.hover._renderHover(t.surface,-1+t.options.hover.width/2+(t.hover.props.hover?(t.hover.props.hover.border/2||0)+(t.hover.props.hover.offset||0):0)),t.surface.ctx.stroke(),t.surface.ctx.closePath(),t.hover.props.lineDash&&0!==t.hover.props.lineDash.length&&t.surface.setLineDash([]))),t._rect.active&&(t.surface.ctx.strokeStyle=cl.Utils.colorLuminance(t.options.selection.rect.color,-.2),t.surface.ctx.fillStyle=t.options.selection.rect.color,t.surface.ctx.lineWidth=t.options.selection.rect.width,t.surface.ctx.globalAlpha=t.options.selection.rect.opacity,t.surface.ctx.beginPath(),t.surface.ctx.rect(t._rect.sx+.5,t._rect.sy+.5,t._rect.ex-t._rect.sx,t._rect.ey-t._rect.sy),t.surface.ctx.fill(),t.surface.ctx.stroke(),t.surface.ctx.closePath())),t.constructor.superclass._render.call(t))},e.prototype._renderSelection=function(t,e){var o,r,s=this;if(s.options.selection.enabled&&0!==s.selection.length){for(t.ctx.strokeStyle=s.options.selection.shape.color,t.ctx.lineWidth=s.options.selection.shape.width,t.ctx.globalAlpha=s.options.selection.shape.opacity,t.ctx.beginPath(),o=0,r=e.length;r>o;o++)e[o]._renderHover(t);t.ctx.stroke(),t.ctx.closePath()}},e.prototype.destroy=function(){var t=this;t._drag.layer&&t._drag.layer.destroy(),t.hover=null,t.options=null,t._drag.layer=null,t.selection=[],t.constructor.superclass.destroy.call(t)},e.prototype._showHand=function(){this.chart.setCursor("pointer")},e.prototype._resetCursor=function(){this.chart.setCursor()},e.DRAG_THRESOLD=3,t.Selector=e}(cl),function(t){"use strict";function e(t,e){var o=this;if(!t)throw new Error(cl.Lang.get("errShapeNoParam","parent"));if(o.parent=t,o.animProps=null,o._isDragged=!1,o.tween=null,o.props={owner:o,id:void 0,x:0,y:0,color:cl.Consts.COLOR_RED,borderColor:null,border:1,opacity:.3,lineDash:null,links:[],draggable:!0,track:{enabled:!1,width:1,color:cl.Consts.COLOR_GREEN,opacity:.4,startSize:2,endSize:4},hover:null},cl.Utils.merge(o.props,e||{}),o.props.color&&(o.props.color=cl.Color.fromString(o.props.color)),o.props.borderColor?o.props.borderColor=cl.Color.fromString(o.props.borderColor):o.props.borderColor=cl.Utils.colorLuminance(o.props.color,-.2),void 0===o.props.id)throw new Error(cl.Lang.get("errShapeNoParam","id"))}e.prototype.parent=null,e.prototype.props=null,e.prototype.type="base",e.prototype.isAnimating=!1,e.prototype.setHoverStyle=function(t){cl.Utils.merge(this.props.hover,t)},e.prototype.getHoverStyle=function(){return cl.Utils.merge({},this.props.hover)},e.prototype.getPixelArea=function(){},e.prototype.getCenterX=function(){return this.props.x},e.prototype.getCenterY=function(){return this.props.y},e.prototype._processDrag=function(t,e){this.props.x+=t,this.props.y+=e},e.prototype.getBounds=function(){},e.prototype.hitTestRect=function(t,e,o,r){},e.prototype.hitTest=function(t,e){},e.prototype.link=function(t){var e,o,r,s=this,i=!1;for(e=0,o=t.length;o>e;e++)if(r=t[e],-1===s.props.links.indexOf(r)){var n=s.parent.get(r);if(!n||n.props.id===s.props.id)return;s.props.links.push(r),n.isAnimating||(i=!0)}i&&(s.parent.updateStatic(),s.parent.apply())},e.prototype.unlink=function(t){var e,o,r,s=this,i=s.props.links.length;for(e=0,o=t.length;o>e;e++){r=t[e];var n=s.props.links.indexOf(r);-1!==n&&s.props.links.splice(n,1)}i===s.props.links.length||s.isAnimating||(s.parent.updateStatic(),s.parent.apply())},e.prototype.onAnimationUpdate=function(t,e){},e.prototype.startAnimation=function(t){var e=this;if(this.animProps){this.isAnimating||(this.parent.animCount++,this.parent.updateStatic()),this.isAnimating=!0,this.tween&&(this.tween.stop(),this.tween=null);var o,r;this.animProps._color&&(o=cl.Color.toRGB(this.props.color),r=cl.Color.toRGB(this.animProps._color),this.props.color_r=o.r,this.props.color_g=o.g,this.props.color_b=o.b,this.animProps.color_r=r.r,this.animProps.color_g=r.g,this.animProps.color_b=r.b),this.animProps._color2&&(o=cl.Color.toRGB(this.props.color2||this.props.color),r=cl.Color.toRGB(this.animProps._color2),this.props.color2_r=o.r,this.props.color2_g=o.g,this.props.color2_b=o.b,this.animProps.color2_r=r.r,this.animProps.color2_g=r.g,this.animProps.color2_b=r.b),this.animProps._borderColor&&(o=cl.Color.toRGB(this.props.borderColor||this.props.color),r=cl.Color.toRGB(this.animProps._borderColor),this.props.borderColor_r=o.r,this.props.borderColor_g=o.g,this.props.borderColor_b=o.b,this.animProps.borderColor_r=r.r,this.animProps.borderColor_g=r.g,this.animProps.borderColor_b=r.b),this.tween=new cl.Tween(this.props).to(this.animProps,t||cl.ShapeManager.ANIMATION_DURATION).easing(cl.Tween.EASING_QUADRATIC_OUT).delay(cl.ShapeManager.ANIMATION_DELAY).onUpdate(function(t){e.onAnimationUpdate(this,t);var o,r,s;void 0!==this.color_r&&(o=Math.floor(this.color_r),r=Math.floor(this.color_g),s=Math.floor(this.color_b),0>o&&(o=0),0>r&&(r=0),0>s&&(s=0),o>255&&(o=255),r>255&&(r=255),s>255&&(s=255),this.color=cl.Color.toHex(o,r,s)),void 0!==this.color2_r&&(o=Math.floor(this.color2_r),r=Math.floor(this.color2_g),s=Math.floor(this.color2_b),0>o&&(o=0),0>r&&(r=0),0>s&&(s=0),o>255&&(o=255),r>255&&(r=255),s>255&&(s=255),this.color2=cl.Color.toHex(o,r,s)),void 0!==this.borderColor_r&&(o=Math.floor(this.borderColor_r),r=Math.floor(this.borderColor_g),s=Math.floor(this.borderColor_b),0>o&&(o=0),0>r&&(r=0),0>s&&(s=0),o>255&&(o=255),r>255&&(r=255),s>255&&(s=255),this.borderColor=cl.Color.toHex(o,r,s))}).onComplete(function(){this&&this.owner&&this.owner.props&&this.owner.stopAnimation(!0)}).start()}},e.prototype.getId=function(){return this.props.id},e.prototype.setProps=function(t,e,o){if(this._isDragged)return!1;var r=this.calcAnimProps(t);return r?(this.isAnimating||e&&this.parent.animCount>=cl.ShapeManager.MAX_ANIMATED_ITEMS&&(e=!1),e?this.startAnimation(o):(this.isAnimating&&this.stopAnimation(),cl.Utils.merge(this.props,this.animProps,["id","owner"]),this.parent.updateStatic()),this.parent.apply(),!0):!1},e.prototype.getProps=function(){return cl.Utils.merge({},this.props,["owner"])},e.prototype.calcAnimProps=function(t){return this.animProps={changed:!1},this.animProps.owner=this,this._isDragged?!1:(void 0!==t.x&&t.x!==this.props.x&&(this.animProps.x=t.x,this.animProps.changed=!0),void 0!==t.y&&t.y!==this.props.y&&(this.animProps.y=t.y,this.animProps.changed=!0),void 0!==t.color&&cl.Color.fromString(t.color)!==cl.Color.fromString(this.props.color)&&(this.animProps._color=t.color,this.animProps.changed=!0),void 0!==t.borderColor&&cl.Color.fromString(t.borderColor)!==cl.Color.fromString(this.props.borderColor)&&(this.animProps._borderColor=t.borderColor,this.animProps.changed=!0),void 0!==t.border&&t.border!==this.props.border&&(this.animProps.border=t.border,this.animProps.changed=!0),void 0!==t.opacity&&t.opacity!==this.props.opacity&&(this.animProps.opacity=t.opacity,this.animProps.changed=!0),this.animProps.changed)},e.prototype.apply=function(){this.parent.apply()},e.prototype._render=function(t){},e.prototype._renderHover=function(t,e){},e.prototype.stopAnimation=function(t){this.tween&&this.animProps&&(this.animProps._color&&(this.props.color=cl.Color.fromString(this.animProps._color)),this.animProps._color2&&(this.props.color2=cl.Color.fromString(this.animProps._color2)),this.animProps._borderColor&&(this.props.borderColor=cl.Color.fromString(this.animProps._borderColor)),cl.Utils.merge(this.props,this.animProps,["id","owner","_color","_color2","_borderColor","_pointColor","_pointColor2"])),this.tween&&!t&&this.tween.stop(),this.tween=null,this.animProps=null,this.isAnimating&&this.parent.animCount--},e.prototype.destroy=function(){this.stopAnimation(),this.props.owner=null,this.props=null,this.parent=null},t.Shape=e}(cl),function(t){"use strict";function e(t,e){var o=this;cl.Layer.call(o,t),o._shouldRedrawStatic=!1,o._animCount=0,o._hash=[],o.chart=t,o.items=[],o.dirtyFlagName="items",o["static"]=new cl.Canvas(t.width,t.height),o.options={zIndexUsage:!1,links:{width:1,color:cl.Consts.COLOR_BLACK,opacity:.5},centers:{visible:!1,width:1,size:3,opacity:.3,color:cl.Consts.COLOR_BLACK}},cl.Utils.merge(o.options,e||{}),Object.defineProperties(o,{animCount:{get:function(){return o._animCount},set:function(t){o._animCount=t,0===o._animCount&&o._endAnimation()}},isAnimating:{get:function(){return 0!==o._animCount}},count:{get:function(){return o.items.length}}})}function o(t,e){return t.props.zIndex<e.props.zIndex?-1:1}cl.Utils.extend(e,cl.Layer),e.prototype.chart=null,e.prototype.items=null,e.prototype.count=0,e.prototype.isAnimating=!0,e.prototype.animCount=0,e.prototype.options=null,e.prototype["static"]=null,e.prototype.getNewId=function(){for(var t=this,e=0,o=0;o<t.items.length;o++){var r=parseInt(t.items[o].props.id);isNaN(r)||r>e&&(e=r)}return e+1},e.prototype._render=function(){var t,e,r=this,s=r.items;if(r.options.zIndexUsage===!0&&(s=r.items.sort(o)),r._shouldRedrawStatic){for(r._shouldRedrawStatic=!1,r["static"].resetTransform(),r["static"].clear(),t=0,e=s.length;e>t;t++)s[t].isAnimating||s[t]._render(r["static"],r.chart);r._renderLinks(r["static"],!0),r._renderCenters(r["static"],!0)}for(r.surface.resetTransform(),r.surface.clear(),r.surface.setAlpha(1),r["static"].setAlpha(1),r.surface.draw(r["static"],0,0),t=0,e=s.length;e>t;t++)s[t].isAnimating&&s[t]._render(r.surface,r.chart);r._renderLinks(r.surface,!1),r._renderCenters(r.surface,!1),r._renderTracks(s)},e.prototype._renderTracks=function(t){var e,o,r=this;for(e=0,o=t.length;o>e;e++)if(t[e].isAnimating&&t[e].props.track.enabled&&t[e].animProps){var s,i,n,p;s=r.chart.xAxis.toScreen(t[e].props.x),i=r.chart.yAxis.toScreen(t[e].props.y),n=r.chart.xAxis.toScreen(t[e].animProps.x),p=r.chart.yAxis.toScreen(t[e].animProps.y),r.surface.ctx.strokeStyle=t[e].props.track.color,r.surface.ctx.lineWidth=t[e].props.track.width,r.surface.ctx.beginPath(),r.surface.ctx.moveTo(s,i),r.surface.ctx.lineTo(n,p),r.surface.ctx.stroke(),0!==t[e].props.track.startSize&&0!==t[e].props.track.endSize&&(r.surface.ctx.fillStyle=t[e].props.track.color,0!==t[e].props.track.startSize&&r.surface.ctx.arc(s,i,t[e].props.track.startSize,0,cl.Consts.TWO_PI,!1),0!==t[e].props.track.endSize&&r.surface.ctx.arc(n,p,t[e].props.track.endSize,0,cl.Consts.TWO_PI,!1),r.surface.ctx.fill())}},e.prototype._renderLinks=function(t,e){var o,r,s,i,n=this;for(t.ctx.lineWidth=n.options.links.width,t.ctx.strokeStyle=n.options.links.color,t.setAlpha(n.options.links.opacity),t.ctx.beginPath(),o=0,s=n.items.length;s>o;o++){var p=!n.items[o].isAnimating;if((p||!e)&&(i=n.items[o].props.links.length,0!==i)){var a=n.chart.toScreenX(n.items[o].getCenterX()),l=n.chart.toScreenY(n.items[o].getCenterY());for(r=0;i>r;r++)if(n.items[o].props.links[r]!=n.items[o].props.id){var c=n.get(n.items[o].props.links[r]);if(c&&(!c.isAnimating||!e)&&(e||!p||c.isAnimating)){var h=n.chart.toScreenX(c.getCenterX()),d=n.chart.toScreenY(c.getCenterY());t.ctx.moveTo(a,l),t.ctx.lineTo(h,d)}}}}t.ctx.stroke(),t.ctx.closePath()},e.prototype._renderCenters=function(t,e){var o,r,s,i,n=this;if(n.options.centers.visible){for(t.setAlpha(n.options.centers.opacity),t.setLineStyle(n.options.centers.width,n.options.centers.color),t.ctx.beginPath(),o=0,r=n.items.length;r>o;o++)e&&n.items[o].isAnimating||(e||n.items[o].isAnimating)&&(s=n.chart.toScreenX(n.items[o].getCenterX()),i=n.chart.toScreenY(n.items[o].getCenterY()),t.ctx.moveTo(s+n.options.centers.size,i),t.drawCircle(s,i,n.options.centers.size));t.ctx.stroke(),t.ctx.closePath()}},e.prototype.hideCenters=function(){var t=this;t.options.centers.visible=!1,t.updateStatic(),t.apply()},e.prototype.showCenters=function(){var t=this;t.options.centers.visible=!0,t.updateStatic(),t.apply()},e.prototype._endAnimation=function(){var t,e,o=!1,r=[],s=this;for(t=0,e=s.items.length;e>t;t++)s.items[t].isAnimating&&null===s.items[t].tween&&(s.items[t].isAnimating=!1,o=!0,r.push(s.items[t]));for(t=0,e=r.length;e>t;t++){var i=s.items.indexOf(r[t]);s.items.splice(i,1)}for(t=0,e=r.length;e>t;t++)s.items.push(r[t]);s.updateStatic(),s.apply()},e.prototype.get=function(t){var e=this;return e._hash[t]?e._hash[t]:void 0},e.prototype.clear=function(){var t=this;for(t.chart.selector.hover&&(t.chart.selector.hover=null,t.chart.selector.apply()),t.chart.events._hoveredShape&&(t.chart.events._hoveredShape=null);0!==t.count;)t.remove(t.items[0]);t.chart.selector.selection=[],t.chart.selector.apply(),t.updateStatic(),t.apply()},e.prototype.add=function(t,e,o,r){var s,i,n,p,a,l=this,c=o||!1;if(!e)throw new Error(cl.Lang.get("errNoShapeClass"));for(n=t instanceof Array?t:[t],s=0,i=n.length;i>s;s++){if(void 0===n[s].id)throw new Error(cl.Lang.get("errShapeNoParam","id"));if(p=l.get(n[s].id)){if(p.constructor!==e)throw new Error(cl.Lang.get("errShapeType"));var h=p.setProps(n[s],c,r);h&&!p.isAnimating&&l.updateStatic()}else a=new e(l,n[s]),l.items.push(a),l._hash[n[s].id]=a,l.updateStatic()}l.apply()},e.prototype._removeItem=function(t){var e=this;if(t){var o=e.items.indexOf(t);-1!==o&&e.items[o]&&(delete e._hash[t.props.id],e.items.splice(o,1),e.apply(),o=e.chart.selector.selection.indexOf(t),-1!==o&&(e.chart.selector.selection.splice(o,1),e.chart.selector.apply()),e.chart.selector.hover===t&&(e.chart.selector.hover=null,e.chart.selector.apply()),e.chart.events._hoveredShape===t&&(e.chart.events._hoveredShape=null),t.destroy())}},e.prototype.remove=function(t){var e=this;switch(typeof t){case"object":e._removeItem(t);break;default:e._removeItem(e.get(t))}},e.prototype.resize=function(t,e){var o=this;return o["static"].resize(t,e),o.updateStatic(),o.constructor.superclass.resize.call(o,t,e),o},e.prototype.updateStatic=function(){this._shouldRedrawStatic=!0},e.prototype.destroy=function(){var t=this;t.clear(),t.items=null,t["static"].destroy(),t._hash=null,t.constructor.superclass.destroy.call(t)},e.MAX_ANIMATED_ITEMS=500,e.ANIMATION_DELAY=100,e.ANIMATION_DURATION=400,t.ShapeManager=e}(cl),function(t){"use strict";function e(t,e){var o=this;if(cl.Shape.call(o,t,e),void 0===o.props.size)throw new Error(cl.Lang.get("errShapeNoParam","size"))}cl.Utils.extend(e,cl.Shape),e.prototype.type="bubble",e.prototype.getPixelArea=function(){var t=this,e=(t.props.border||0)/2;return Math.PI*(t.props.size+e)*(t.props.size+e)},e.prototype.getBounds=function(){var t=this,e=(t.props.border||0)/2;return{x:t.parent.chart.xAxis.toScreen(t.props.x)-t.props.size-e,y:t.parent.chart.yAxis.toScreen(t.props.y)-t.props.size-e,w:2*(t.props.size+e),h:2*(t.props.size+e)}},e.prototype.hitTestRect=function(t,e,o,r){var s=this,i=s.parent.chart.xAxis.toScreen(s.props.x),n=s.parent.chart.yAxis.toScreen(s.props.y),p=Math.abs(i-t),a=Math.abs(n-e),l=s.props.size+(s.props.border||0)/2;if(p>o+l)return!1;if(a>r+l)return!1;if(o>=p)return!0;if(r>=a)return!0;var c=(p-o)*(p-o)+(a-r)*(a-r);return l*l>=c},e.prototype.hitTest=function(t,e){var o=this,r=o.parent.chart.xAxis.toScreen(o.props.x),s=o.parent.chart.yAxis.toScreen(o.props.y),i=(o.props.border||0)/2;return(t-r)*(t-r)+(e-s)*(e-s)<=(o.props.size+i)*(o.props.size+i)},e.prototype.calcAnimProps=function(t){var e=this;return cl.Shape.prototype.calcAnimProps.call(e,t),void 0!==t.size&&t.size!==e.props.size&&(e.animProps.size=t.size,e.animProps.changed=!0),e.animProps.changed},e.prototype._render=function(t){var e=this;if(!e._isDragged){var o=e.parent.chart;e.props.size>=0&&(t.setAlpha(e.props.opacity),t.setFillColor(e.props.color),e.props.border&&t.setLineStyle(e.props.border,e.props.borderColor,!0),e.props.lineDash&&t.setLineDash(e.props.lineDash),t.ctx.beginPath(),t.ctx.arc(o.xAxis.toScreen(e.props.x),o.yAxis.toScreen(e.props.y),e.props.size,0,cl.Consts.TWO_PI,!1),t.ctx.fill(),e.props.border&&t.ctx.stroke(),t.ctx.closePath(),e.props.lineDash&&t.setLineDash([])),cl.Shape.prototype._render.call(e,t)}},e.prototype._renderHover=function(t,e){var o=this;if(!o._isDragged){e=(e||0)+(o.props.border||0)/2;var r=o.parent.chart;if(o.props.size>=0){var s=r.xAxis.toScreen(o.props.x),i=r.yAxis.toScreen(o.props.y);t.ctx.moveTo(s+o.props.size+e,i),t.ctx.arc(s,i,o.props.size+e,0,cl.Consts.TWO_PI,!1)}cl.Shape.prototype._renderHover.call(o,t)}},t.Bubble=e}(cl),function(t){"use strict";function e(t,e){var o=this;cl.Bubble.call(o,t,e)}cl.Utils.extend(e,cl.Bubble),e.prototype.type="centroid",t.Centroid=e}(cl),function(t){"use strict";function e(t,e){var o=this;cl.Shape.call(o,t,e);var r=e||{};if(r.borderRadius=r.borderRadius||0,o.props.color2&&(o.props.color2=cl.Color.fromString(o.props.color2)),void 0===o.props.x2)throw new Error(cl.Lang.get("errShapeNoParam","x2"));if(void 0===o.props.y2)throw new Error(cl.Lang.get("errShapeNoParam","y2"))}cl.Utils.extend(e,cl.Shape),e.prototype.type="rect",e.prototype.getPixelArea=function(){var t=this.getBounds();return t.w*t.h},e.prototype.getCenterX=function(){var t,e,o=this;return o.props.x<o.props.x2?(t=o.props.x,e=o.props.x2):(t=o.props.x2,e=o.props.x),t+Math.abs(e-t)/2},e.prototype.getCenterY=function(){var t,e,o=this;return o.props.y<o.props.y2?(t=o.props.y,e=o.props.y2):(t=o.props.y2,e=o.props.y),t+Math.abs(e-t)/2},e.prototype._processDrag=function(t,e){var o=this;o.props.x2+=t,o.props.y2+=e,cl.Shape.prototype._processDrag.call(o,t,e)},e.prototype.getBounds=function(){var t,e,o,r,s,i,n,p,a=this,l=(a.props.border||0)/2;return t=a.parent.chart.xAxis.toScreen(a.props.x),e=a.parent.chart.yAxis.toScreen(a.props.y),o=a.parent.chart.xAxis.toScreen(a.props.x2),r=a.parent.chart.yAxis.toScreen(a.props.y2),s=Math.min(t,o),i=Math.min(e,r),n=Math.max(t,o),p=Math.max(e,r),{x:s-l,y:i-l,w:n-s+2*l,h:p-i+2*l}},e.prototype.hitTestRect=function(t,e,o,r){var s,i,n,p,a,l,c,h,d=this,u=(d.props.border||0)/2;s=d.parent.chart.xAxis.toScreen(d.props.x),i=d.parent.chart.yAxis.toScreen(d.props.y),n=d.parent.chart.xAxis.toScreen(d.props.x2),p=d.parent.chart.yAxis.toScreen(d.props.y2),a=Math.min(s,n)-u,l=Math.min(i,p)-u,c=Math.max(s,n)+u,h=Math.max(i,p)+u;var f=(c-a)/2,g=(h-l)/2,y=a+f,m=l+g,v=Math.abs(y-t),_=Math.abs(m-e);return f+o>=v&&g+r>=_},e.prototype.hitTest=function(t,e){var o,r,s,i,n,p,a,l,c=this,h=(c.props.border||0)/2;return o=c.parent.chart.xAxis.toScreen(c.props.x),r=c.parent.chart.yAxis.toScreen(c.props.y),s=c.parent.chart.xAxis.toScreen(c.props.x2),i=c.parent.chart.yAxis.toScreen(c.props.y2),n=Math.min(o,s)-h,p=Math.min(r,i)-h,a=Math.max(o,s)+h,l=Math.max(r,i)+h,t>=n&&a>=t&&e>=p&&l>=e},e.prototype._render=function(t){var e=this;if(!e._isDragged){var o,r,s,i,n=e.parent.chart;if(o=n.xAxis.toScreen(e.props.x),r=n.yAxis.toScreen(e.props.y),s=n.xAxis.toScreen(e.props.x2),i=n.yAxis.toScreen(e.props.y2),t.setAlpha(e.props.opacity),e.props.color2&&e.props.color!==e.props.color2){var p,a,l,c;p=Math.min(o,s),a=Math.min(r,i),l=Math.max(o,s),c=Math.max(r,i);var h=t.ctx.createLinearGradient(p,a,l,c);h.addColorStop(0,e.props.color),h.addColorStop(1,e.props.color2),t.ctx.fillStyle=h}else t.setFillColor(e.props.color);e.props.border&&t.setLineStyle(e.props.border,e.props.borderColor),e.props.lineDash&&t.setLineDash(e.props.lineDash),t.ctx.beginPath(),t.drawRect(o,r,s,i,e.props.borderRadius),t.ctx.fill(),e.props.border&&(t.ctx.stroke(),t.restoreLineFix()),t.ctx.closePath(),e.props.lineDash&&t.setLineDash([]),cl.Shape.prototype._render.call(e,t)}},e.prototype._renderHover=function(t,e){var o=this;if(!o._isDragged){e=(e||0)+(o.props.border||0)/2;var r,s,i,n,p=o.parent.chart;r=p.xAxis.toScreen(o.props.x),s=p.yAxis.toScreen(o.props.y),i=p.xAxis.toScreen(o.props.x2),n=p.yAxis.toScreen(o.props.y2),t.drawRect(r,s,i,n,o.props.borderRadius,!0,e),cl.Shape.prototype._renderHover.call(o,t,e)}},e.prototype.calcAnimProps=function(t){var e=this;return cl.Shape.prototype.calcAnimProps.call(e,t),void 0!==t.x2&&t.x2!==e.props.x2&&(e.animProps.x2=t.x2,e.animProps.changed=!0),void 0!==t.y2&&t.y2!==e.props.y2&&(e.animProps.y2=t.y2,e.animProps.changed=!0),void 0!==t.borderRadius&&t.borderRadius!==e.props.borderRadius&&(e.animProps.borderRadius=t.borderRadius,e.animProps.changed=!0),void 0!==t.color2&&cl.Color.fromString(t.color2)!==cl.Color.fromString(e.props.color2)&&(e.animProps._color2=t.color2,e.animProps.changed=!0),e.animProps.changed},t.Rect=e}(cl),function(t){"use strict";function e(t,e){var o=this;if(cl.Shape.call(o,t,e),o.props.pointColor&&(o.props.pointColor=cl.Color.fromString(o.props.pointColor)),o.props.pointColor2&&(o.props.pointColor2=cl.Color.fromString(o.props.pointColor2)),void 0===o.props.x2)throw new Error(cl.Lang.get("errShapeNoParam","x2"));if(void 0===o.props.y2)throw new Error(cl.Lang.get("errShapeNoParam","y2"))}cl.Utils.extend(e,cl.Shape),e.HOVER_THRESHOLD=25,e.prototype.type="line",e.prototype.getPixelArea=function(){var t=this;return Math.sqrt(cl.Utils.distSq(t.props.x,t.props.y,t.props.x2,t.props.y2))},e.prototype.onAnimationUpdate=function(t,e){var o,r,s;void 0!==t.pointColor_r&&(o=Math.floor(t.pointColor_r),r=Math.floor(t.pointColor_g),s=Math.floor(t.pointColor_b),0>o&&(o=0),0>r&&(r=0),0>s&&(s=0),o>255&&(o=255),r>255&&(r=255),s>255&&(s=255),t.pointColor=cl.Color.toHex(o,r,s)),void 0!==t.pointColor2_r&&(o=Math.floor(t.pointColor2_r),r=Math.floor(t.pointColor2_g),s=Math.floor(t.pointColor2_b),0>o&&(o=0),0>r&&(r=0),0>s&&(s=0),o>255&&(o=255),r>255&&(r=255),s>255&&(s=255),t.pointColor2=cl.Color.toHex(o,r,s))},e.prototype.startAnimation=function(t){var e,o,r=this;r.animProps._pointColor&&(e=cl.Color.toRGB(r.props.pointColor||r.props.color),o=cl.Color.toRGB(r.animProps._pointColor),r.props.pointColor_r=e.r,r.props.pointColor_g=e.g,r.props.pointColor_b=e.b,r.animProps.pointColor_r=o.r,r.animProps.pointColor_g=o.g,r.animProps.pointColor_b=o.b),r.animProps._pointColor2&&(e=cl.Color.toRGB(r.props.pointColor2||r.props.pointColor||r.props.color),o=cl.Color.toRGB(r.animProps._pointColor2),r.props.pointColor2_r=e.r,r.props.pointColor2_g=e.g,r.props.pointColor2_b=e.b,r.animProps.pointColor2_r=o.r,r.animProps.pointColor2_g=o.g,r.animProps.pointColor2_b=o.b),cl.Shape.prototype.startAnimation.call(r,t)},e.prototype.stopAnimation=function(t){var e=this;e.tween&&e.animProps&&(this.animProps._pointColor&&(this.props.pointColor=cl.Color.fromString(this.animProps._pointColor)),this.animProps._pointColor2&&(this.props.pointColor2=cl.Color.fromString(this.animProps._pointColor2))),cl.Shape.prototype.stopAnimation.call(e,t)},e.prototype.getCenterX=function(){var t,e,o=this;return o.props.x<o.props.x2?(t=o.props.x,e=o.props.x2):(t=o.props.x2,e=o.props.x),t+Math.abs(e-t)/2},e.prototype.getCenterY=function(){var t,e,o=this;return o.props.y<o.props.y2?(t=o.props.y,e=o.props.y2):(t=o.props.y2,e=o.props.y),t+Math.abs(e-t)/2},e.prototype._processDrag=function(t,e){var o=this;o.props.x2+=t,o.props.y2+=e,cl.Shape.prototype._processDrag.call(o,t,e)},e.prototype.getBounds=function(){var t,e,o,r,s,i,n,p,a,l,c,h,d,u,f,g,y=this,m=(y.props.border||0)/2;if(a=y.props.size||0,l=y.props.size2||0,t=y.parent.chart.xAxis.toScreen(y.props.x),e=y.parent.chart.yAxis.toScreen(y.props.y),o=y.parent.chart.xAxis.toScreen(y.props.x2),r=y.parent.chart.yAxis.toScreen(y.props.y2),c=a,d=l,h=l,u=a,t>o&&(c=l,h=a),r>e&&(d=a,u=l),s=Math.min(t,o),i=Math.min(e,r),n=Math.max(t,o),p=Math.max(e,r),m>1){var v=Math.atan2(n-s,p-i);console.log(v/Math.PI*180),f=Math.cos(v)*m,g=Math.sin(v)*m}var _={x:s-f,y:i-g,w:n-s+2*f,h:p-i+2*g};return s-c<_.x&&(_.w+=_.x-(s-c),_.x=s-c),i-d<_.y&&(_.h+=_.y-(i-d),_.y=i-d),p+u>_.y+_.h&&(_.h+=p+u-(_.y+_.h)),n+h>_.x+_.w&&(_.w+=n+h-(_.x+_.w)),_},e.prototype.hitTestRect=function(t,e,o,r){var s,i,n,p,a=this;return s=a.parent.chart.xAxis.toScreen(a.props.x),i=a.parent.chart.yAxis.toScreen(a.props.y),n=a.parent.chart.xAxis.toScreen(a.props.x2),p=a.parent.chart.yAxis.toScreen(a.props.y2),cl.Utils.lineRectIntersect(t-o,e-r,t+o,e+r,s,i,n,p)},e.prototype.hitTest=function(t,o){var r,s,i,n,p=this,a=(p.props.border||0)/2;return r=p.parent.chart.xAxis.toScreen(p.props.x),s=p.parent.chart.yAxis.toScreen(p.props.y),i=p.parent.chart.xAxis.toScreen(p.props.x2),n=p.parent.chart.yAxis.toScreen(p.props.y2),cl.Utils.distToSegmentSquared(t,o,r,s,i,n)<e.HOVER_THRESHOLD+a*a},e.prototype.calcAnimProps=function(t){var e=this;return cl.Shape.prototype.calcAnimProps.call(e,t),void 0!==t.x2&&t.x2!==e.props.x2&&(e.animProps.x2=t.x2,e.animProps.changed=!0),void 0!==t.y2&&t.y2!==e.props.y2&&(e.animProps.y2=t.y2,e.animProps.changed=!0),void 0!==t.size&&t.size!==e.props.size&&(e.animProps.size=t.size,e.animProps.changed=!0),void 0!==t.size2&&t.size2!==e.props.size2&&(e.animProps.size2=t.size2,
e.animProps.changed=!0),void 0!==t.pointColor&&cl.Color.fromString(t.pointColor)!==cl.Color.fromString(e.props.pointColor)&&(e.animProps._pointColor=t.pointColor,e.animProps.changed=!0),void 0!==t.pointColor2&&cl.Color.fromString(t.pointColor2)!==cl.Color.fromString(e.props.pointColor2)&&(e.animProps._pointColor2=t.pointColor2,e.animProps.changed=!0),e.animProps.changed},e.prototype._render=function(t){var e=this;if(!e._isDragged){var o,r,s,i,n=e.parent.chart;o=n.xAxis.toScreen(e.props.x),r=n.yAxis.toScreen(e.props.y),s=n.xAxis.toScreen(e.props.x2),i=n.yAxis.toScreen(e.props.y2),t.setAlpha(e.props.opacity),t.setLineStyle(e.props.border,e.props.color),e.props.lineDash&&t.setLineDash(e.props.lineDash),t.drawLine(o,r,s,i),e.props.size&&(t.ctx.beginPath(),t.setFillColor(e.props.pointColor||e.props.color),t.ctx.moveTo(o,r),t.ctx.arc(o,r,e.props.size,0,cl.Consts.TWO_PI,!1),t.ctx.fill(),t.ctx.closePath()),e.props.size2&&(t.ctx.beginPath(),t.setFillColor(e.props.pointColor2||e.props.pointColor||e.props.color),t.ctx.moveTo(s,i),t.ctx.arc(s,i,e.props.size2,0,cl.Consts.TWO_PI,!1),t.ctx.fill(),t.ctx.closePath()),e.props.lineDash&&t.setLineDash([]),cl.Shape.prototype._render.call(e,t)}},e.prototype._renderHover=function(t,e){var o=this;if(!o._isDragged){var r,s,i,n,p=o.parent.chart;r=p.xAxis.toScreen(o.props.x),s=p.yAxis.toScreen(o.props.y),i=p.xAxis.toScreen(o.props.x2),n=p.yAxis.toScreen(o.props.y2),t.drawLine(r,s,i,n,!0),o.props.size&&(t.ctx.moveTo(r+o.props.size+(e||0),s),t.ctx.arc(r,s,o.props.size+(e||0),0,cl.Consts.TWO_PI,!1)),o.props.size2&&(t.ctx.moveTo(i+o.props.size2+(e||0),n),t.ctx.arc(i,n,o.props.size2+(e||0),0,cl.Consts.TWO_PI,!1)),cl.Shape.prototype._renderHover.call(o,t,e)}},t.Line=e}(cl),function(t){"use strict";function e(t,e){var o=this;if(cl.Shape.call(o,t,e),void 0===o.props.points)throw new Error(cl.Lang.get("errShapeNoParam","points"));if(o.props.points.length<4)throw new Error(cl.Lang.get("errShapeNoParam","points"));o._anim={pointsFrom:[],pointsTo:[],closedFrom:!1,closedTo:!1,closedWidth:0}}cl.Utils.extend(e,cl.Shape),e.prototype.type="polyline",e.prototype.onAnimationUpdate=function(t,e){var o,r,s=this;if(0!==s._anim.pointsFrom.length&&0!==s._anim.pointsTo.length)for(o=0,r=t.points.length;r>o;o++)t.points[o]=s._anim.pointsFrom[o]+(s._anim.pointsTo[o]-s._anim.pointsFrom[o])*e;s._anim.closedFrom!==s._anim.closedTo&&(s._anim.closedTo?s._anim.closedWidth=e*s.props.border:s._anim.closedWidth=(1-e)*s.props.border)},e.prototype.stopAnimation=function(t){var e,o,r=this;if(r.tween&&0!==r._anim.pointsTo.length){for(e=0,o=r.props.points.length;o>e;e++)r.props.points[e]=r._anim.pointsTo[e];r.props.delPoints&&r.props.points.splice(r.props.points.length-2*r.props.delPoints,2*r.props.delPoints)}r._anim.closedWidth=0,r._anim.pointsFrom=[],r._anim.pointsTo=[],r._anim.closedFrom=r.props.closed,r._anim.closedTo=r.props.closed,cl.Shape.prototype.stopAnimation.call(r,t)},e.prototype.getPixelArea=function(){var t,e,o=0,r=this;for(t=0,e=r.props.points.length;e-2>t;t+=2)o+=Math.sqrt(cl.Utils.distSq(r.props.points[t],r.props.points[t+1],r.props.points[t+2],r.props.points[t+3]));return r.props.closed&&(o+=Math.sqrt(cl.Utils.distSq(r.props.points[e-2],r.props.points[e-1],r.props.points[0],r.props.points[1]))),o},e.prototype.getCenterX=function(){var t,e,o,r=0,s=0,i=this;for(t=0,e=i.props.points.length;e-2>t;t+=2)o=i.props.points[t]*i.props.points[t+3]-i.props.points[t+2]*i.props.points[t+1],r+=o,s+=(i.props.points[t]+i.props.points[t+2])*o;return o=i.props.points[e-2]*i.props.points[1]-i.props.points[0]*i.props.points[e-1],r+=o,s+=(i.props.points[e-2]+i.props.points[0])*o,o=3*r,s/o},e.prototype.getCenterY=function(){var t,e,o,r=0,s=0,i=this;for(t=0,e=i.props.points.length;e-2>t;t+=2)o=i.props.points[t]*i.props.points[t+3]-i.props.points[t+2]*i.props.points[t+1],r+=o,s+=(i.props.points[t+1]+i.props.points[t+3])*o;return o=i.props.points[e-2]*i.props.points[1]-i.props.points[0]*i.props.points[e-1],r+=o,s+=(i.props.points[e-1]+i.props.points[1])*o,o=3*r,s/o},e.prototype._processDrag=function(t,e){var o,r,s=this;for(o=0,r=s.props.points.length;r>o;o+=2)s.props.points[o]+=t,s.props.points[o+1]+=e;cl.Shape.prototype._processDrag.call(s,t,e)},e.prototype.getBounds=function(){var t,e,o,r,s,i,n,p,a=this,l=(a.props.border||0)/2;for(s=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,p=Number.MIN_VALUE,t=0,e=a.props.points.length;e>t;t+=2)o=a.parent.chart.xAxis.toScreen(a.props.points[t]),r=a.parent.chart.yAxis.toScreen(a.props.points[t+1]),s>o&&(s=o),o>n&&(n=o),i>r&&(i=r),r>p&&(p=r);return{x:s-l,y:i-l,w:n-s+2*l,h:p-i+2*l}},e.prototype.hitTestRect=function(t,e,o,r){var s,i,n,p,a,l,c=this;for(s=0,i=c.props.points.length;i-2>s;s+=2)if(n=c.parent.chart.xAxis.toScreen(c.props.points[s]),p=c.parent.chart.yAxis.toScreen(c.props.points[s+1]),a=c.parent.chart.xAxis.toScreen(c.props.points[s+2]),l=c.parent.chart.yAxis.toScreen(c.props.points[s+3]),cl.Utils.lineRectIntersect(t-o,e-r,t+o,e+r,n,p,a,l))return!0;return c.props.closed&&(n=c.parent.chart.xAxis.toScreen(c.props.points[i-2]),p=c.parent.chart.yAxis.toScreen(c.props.points[i-1]),a=c.parent.chart.xAxis.toScreen(c.props.points[0]),l=c.parent.chart.yAxis.toScreen(c.props.points[1]),cl.Utils.lineRectIntersect(t-o,e-r,t+o,e+r,n,p,a,l))?!0:!1},e.prototype.hitTest=function(t,e){var o,r,s,i,n,p,a=this;for(o=0,r=a.props.points.length;r-2>o;o+=2)if(s=a.parent.chart.xAxis.toScreen(a.props.points[o]),i=a.parent.chart.yAxis.toScreen(a.props.points[o+1]),n=a.parent.chart.xAxis.toScreen(a.props.points[o+2]),p=a.parent.chart.yAxis.toScreen(a.props.points[o+3]),cl.Utils.distToSegmentSquared(t,e,s,i,n,p)<cl.Line.HOVER_THRESHOLD)return!0;return a.props.closed&&(s=a.parent.chart.xAxis.toScreen(a.props.points[r-2]),i=a.parent.chart.yAxis.toScreen(a.props.points[r-1]),n=a.parent.chart.xAxis.toScreen(a.props.points[0]),p=a.parent.chart.yAxis.toScreen(a.props.points[1]),cl.Utils.distToSegmentSquared(t,e,s,i,n,p)<cl.Line.HOVER_THRESHOLD)?!0:!1},e.prototype.calcAnimProps=function(t){var e,o,r,s=this;if(cl.Shape.prototype.calcAnimProps.call(s,t),void 0!==t.lineJoin&&s.props.lineJoin!==t.lineJoin&&(s.animProps.lineJoin=t.lineJoin,s.animProps.changed=!0),void 0!==t.closed&&s.props.closed!==t.closed&&(s._anim.closedFrom=s.props.closed,s._anim.closedTo=t.closed,s.animProps.closed=t.closed,s.animProps.changed=!0),void 0!==t.points){if(t.points.length===s.props.points.length){for(e=0,o=t.points.length;o>e;e++)if(s.props.points[e]!==t.points[e]){s.animProps.changed=!0;break}}else s.animProps.changed=!0;if(s.animProps.changed){if(s.props.delPoints=0,s.props.points.length<t.points.length)for(r=s.props.points.length-2,e=s.props.points.length,o=t.points.length;o>e;e+=2)s.props.points.push(s.props.points[r]),s.props.points.push(s.props.points[r+1]);else if(s.props.points.length>t.points.length)for(r=t.points.length-2,e=t.points.length,o=s.props.points.length;o>e;e+=2)t.points.push(t.points[r]),t.points.push(t.points[r+1]),s.props.delPoints++;for(s._anim.pointsFrom=[],s._anim.pointsTo=[],e=0,o=s.props.points.length;o>e;e++)s._anim.pointsFrom.push(s.props.points[e]);for(e=0,o=t.points.length;o>e;e++)s._anim.pointsTo.push(t.points[e])}}return s.animProps.changed},e.prototype._render=function(t){var e=this;if(!e._isDragged){var o,r,s=e.parent.chart,i=[],n=[];for(o=0,r=e.props.points.length;r>o;o+=2)i.push(s.xAxis.toScreen(e.props.points[o])),n.push(s.yAxis.toScreen(e.props.points[o+1]));for(t.setAlpha(e.props.opacity),t.setLineStyle(e.props.border,e.props.color,!0),e.props.lineJoin&&(t.ctx.lineJoin=e.props.lineJoin),e.props.lineDash&&t.setLineDash(e.props.lineDash),t.ctx.beginPath(),t.ctx.moveTo(i[0],n[0]),o=1;r>o;o++)t.ctx.lineTo(i[o],n[o]);(e.props.closed||e._anim.closedWidth)&&(e._anim.closedWidth?(t.ctx.stroke(),t.ctx.beginPath(),t.setLineStyle(e._anim.closedWidth,e.props.color,!0),t.ctx.moveTo(i[i.length-1],n[n.length-1]),t.ctx.lineTo(i[0],n[0])):(t.ctx.lineTo(i[0],n[0]),t.ctx.closePath())),t.ctx.stroke(),e.props.lineDash&&t.setLineDash([]),e.props.lineJoin&&(t.ctx.lineJoin="miter"),cl.Shape.prototype._render.call(e,t)}},e.prototype._renderHover=function(t,e){var o=this;if(!o._isDragged){var r,s,i=o.parent.chart,n=[],p=[];for(r=0,s=o.props.points.length;s>r;r+=2)n.push(i.xAxis.toScreen(o.props.points[r])),p.push(i.yAxis.toScreen(o.props.points[r+1]));for(t.ctx.moveTo(n[0],p[0]),r=1;s>r;r++)t.ctx.lineTo(n[r],p[r]);o.props.closed&&t.ctx.lineTo(n[0],p[0]),cl.Shape.prototype._renderHover.call(o,t)}},t.PolyLine=e}(cl),function(t){"use strict";function e(t,e){var o=this;if(cl.PolyLine.call(o,t,e),o.props.closed=!0,void 0===o.props.points)throw new Error(cl.Lang.get("errShapeNoParam","points"));if(o.props.points.length<4)throw new Error(cl.Lang.get("errShapeNoParam","points"));o._anim={pointsFrom:[],pointsTo:[]}}cl.Utils.extend(e,cl.PolyLine),e.prototype.type="poly",e.prototype.onAnimationUpdate=function(t,e){var o,r,s=this;if(0!==s._anim.pointsFrom.length&&0!==s._anim.pointsTo.length)for(o=0,r=t.points.length;r>o;o++)t.points[o]=s._anim.pointsFrom[o]+(s._anim.pointsTo[o]-s._anim.pointsFrom[o])*e},e.prototype.stopAnimation=function(t){var e,o,r=this;if(r.tween&&0!==r._anim.pointsTo.length){for(e=0,o=r.props.points.length;o>e;e++)r.props.points[e]=r._anim.pointsTo[e];r.props.delPoints&&r.props.points.splice(r.props.points.length-2*r.props.delPoints,2*r.props.delPoints)}r._anim.pointsFrom=[],r._anim.pointsTo=[],cl.Shape.prototype.stopAnimation.call(r,t),r.props.closed=!0},e.prototype.getPixelArea=function(){var t,e,o=this,r=0,s=o.parent.chart;for(t=0,e=o.props.points.length;e-2>t;t+=2)r+=s.toScreenX(o.props.points[t])*s.toScreenY(o.props.points[t+3]),r-=s.toScreenY(o.props.points[t+1])*s.toScreenX(o.props.points[t+2]);return r+=s.toScreenX(o.props.points[e-2])*s.toScreenY(o.props.points[1]),r-=s.toScreenY(o.props.points[e-1])*s.toScreenX(o.props.points[0]),Math.abs(r/2)},e.prototype.hitTestRect=function(t,e,o,r){var s,i,n,p=this,a=this.props.points,l=p.parent.chart.toAxisX(t-o),c=p.parent.chart.toAxisY(e-r),h=p.parent.chart.toAxisX(t+o),d=p.parent.chart.toAxisY(e+r);if(l>h&&(n=l,l=h,h=n),c>d&&(n=c,c=d,d=n),cl.Utils.pointInPoly(l,c,a))return!0;if(cl.Utils.pointInPoly(h,c,a))return!0;if(cl.Utils.pointInPoly(h,d,a))return!0;if(cl.Utils.pointInPoly(l,d,a))return!0;for(s=0,i=p.props.points.length;i>s;s+=2)if(a[s]>l&&a[s]<h&&a[s+1]>c&&a[s+1]<d)return!0;for(s=0,i=p.props.points.length;i-2>s;s+=2)if(cl.Utils.lineRectIntersect(l,c,h,d,a[s],a[s+1],a[s+2],a[s+3]))return!0;return cl.Utils.lineRectIntersect(l,c,h,d,a[a.length-2],a[a.length-1],a[0],a[1])?!0:!1},e.prototype.hitTest=function(t,e){return cl.Utils.pointInPoly(this.parent.chart.toAxisX(t),this.parent.chart.toAxisY(e),this.props.points)},e.prototype._render=function(t){var e=this;if(!e._isDragged){var o,r,s=e.parent.chart,i=[],n=[];for(o=0,r=e.props.points.length;r>o;o+=2)i.push(s.xAxis.toScreen(e.props.points[o])),n.push(s.yAxis.toScreen(e.props.points[o+1]));for(t.setAlpha(e.props.opacity),e.props.border&&t.setLineStyle(e.props.border,e.props.borderColor||e.props.color,!0),t.setFillColor(e.props.color),e.props.lineJoin&&(t.ctx.lineJoin=e.props.lineJoin),e.props.lineDash&&t.setLineDash(e.props.lineDash),t.ctx.beginPath(),t.ctx.moveTo(i[0],n[0]),o=1;r>o;o++)t.ctx.lineTo(i[o],n[o]);t.ctx.lineTo(i[0],n[0]),t.ctx.closePath(),t.ctx.fill(),e.props.border&&t.ctx.stroke(),e.props.lineDash&&t.setLineDash([]),e.props.lineJoin&&(t.ctx.lineJoin="miter"),cl.Shape.prototype._render.call(e,t)}},e.prototype._renderHover=function(t){this.props.closed=!0,cl.PolyLine.prototype._renderHover.call(this,t)},t.Poly=e}(cl),function(t){function e(t){var e=this;if(e.options=t||{},e.xAxis=null,e.yAxis=null,e.preloader=e.options.preloader,e.element=e.options.element,Object.defineProperties(e,{isDirty:{get:function(){return e._getIsDirty()}},width:{get:function(){return e.screen.width}},height:{get:function(){return e.screen.height}}}),e._redrawRequested=!1,e._dirtyFlags={all:!1},e._renderFunc=e._render.bind(e),!e.element)throw cl.Lang.get("errNoElements");e.screen=new cl.Canvas(e.options.width||e.element.offsetWidth,e.options.height||e.element.offsetHeight),e.screen.el.classList.add("cl-chart"),e.events=new cl.EventManager(e),e.background=new cl.Background(e,e.options.background||{}),e.axis=new cl.AxisManager(e),e.shapes=new cl.ShapeManager(e,e.options.shapes),e.selector=new cl.Selector(e,e.options.selector),e.layers=[e.background,e.axis,e.shapes,e.selector],e.xAxis=e.axis.add(cl.Utils.merge({type:"x"},e.options.xAxis||{})),e.yAxis=e.axis.add(cl.Utils.merge({type:"y"},e.options.yAxis||{})),e.element.appendChild(e.screen.el),e.setCursor(),e.redraw()}e.prototype.options=null,e.prototype.xAxis=null,e.prototype.yAxis=null,e.prototype.axis=null,e.prototype.element=null,e.prototype.screen=null,e.prototype.shapes=null,e.prototype.selector=null,e.prototype.background=null,e.prototype.width=0,e.prototype.height=0,e.prototype.isDirty=!1,e.prototype.remove=function(t){this.shapes.remove(t)},e.prototype.clear=function(){this.shapes.clear()},e.prototype.get=function(t){return this.shapes.get(t)},e.prototype.getNewId=function(){return this.shapes.getNewId()},e.prototype._render=function(t){var e,o,r=this;if(r.screen){for(r.shapes.isAnimating&&(r.shapes.apply(),r.selector.apply()),cl.Tween.update(t),r._dirtyFlags.axis&&(r._dirtyFlags.shapes=!0,r.shapes.updateStatic()),e=0,o=r.layers.length;o>e;e++)(r._dirtyFlags.all||r._dirtyFlags[r.layers[e].dirtyFlagName])&&r.layers[e]._render();for(r.screen.clear(),e=0,o=r.layers.length;o>e;e++)r.screen.draw(r.layers[e].surface);r._clearDirtyFlags(),r.shapes.isAnimating&&!r._redrawRequested&&(r._redrawRequested=!0,requestAnimFrame(r._renderFunc))}},e.prototype.setCursor=function(t){var e=this;t?e.screen.el.style.cursor=t:e.screen.el.style.cursor=e.options.cursor||"default"},e.prototype.toAxisX=function(t){return this.xAxis.toAxis(t)},e.prototype.toAxisY=function(t){return this.yAxis.toAxis(t)},e.prototype.toScreenY=function(t){return this.yAxis.toScreen(t)},e.prototype.toScreenX=function(t){return this.xAxis.toScreen(t)},e.prototype.add=function(t,e,o,r){this.shapes.add(t,e,o,r)},e.prototype.addBubbles=function(t,e,o){this.shapes.add(t,cl.Bubble,e,o)},e.prototype.addRects=function(t,e,o){this.shapes.add(t,cl.Rect,e,o)},e.prototype.addLines=function(t,e,o){this.shapes.add(t,cl.Line,e,o)},e.prototype.addPolyLines=function(t,e,o){this.shapes.add(t,cl.PolyLine,e,o)},e.prototype.addPolys=function(t,e,o){this.shapes.add(t,cl.Poly,e,o)},e.prototype.addCentroids=function(t,e,o){this.shapes.add(t,cl.Centroid,e,o)},e.prototype.showPreloader=function(){var t=this;if(t.options.element&&t.options.element.parentNode){var e=t.preloader,o=t.options.element.parentNode;e.classList.remove("hidden"),e.classList.remove("cl-preloader-hidden"),e.classList.add("cl-preloader");var r="",s=Math.floor(t.element.offsetLeft+t.width/2-e.offsetWidth/2),i=Math.floor(t.element.offsetTop+t.height/2-e.offsetHeight/2);r="left: "+s+"px; top: "+i+"px",r+=";"+e.getAttribute("style"),e.setAttribute("style",r),o.appendChild(e)}},e.prototype.hidePreloader=function(){var t=this;if(t.options.element){t.options.element.parentNode;t.options.preloader.classList.add("cl-preloader-hidden")}},e.prototype.getBackground=function(){return this.background},e.prototype.redraw=function(){var t=this;t._redrawRequested||(requestAnimFrame(t._renderFunc),t._redrawRequested=!0)},e.prototype.setBackground=function(t){this.background.setImage(t)},e.prototype._setDirtyFlag=function(t){this._dirtyFlags[t]=!0},e.prototype._getIsDirty=function(){var t=this;if(t._dirtyFlags.all)return!0;for(var e in t._dirtyFlags)if(t._dirtyFlags.hasOwnProperty(e)&&t._dirtyFlags[e])return!0;return!1},e.prototype._clearDirtyFlags=function(){var t=this;t._redrawRequested=!1,t._dirtyFlags.all=!1;for(var e in t._dirtyFlags)t._dirtyFlags.hasOwnProperty(e)&&(t._dirtyFlags[e]=!1)},e.prototype.addEventListener=function(t,e){this.events.addEventListener(t,e)},e.prototype.removeEventListener=function(t,e){this.events.removeEventListener(t,e)},e.prototype.resize=function(t,e){var o,r,s=this;for(o=0,r=s.layers.length;r>o;o++)s.layers[o].resize(t,e);s.screen.resize(t,e),s._dirtyFlags.all=!0,s.redraw()},e.prototype.destroy=function(){var t,e,o=this;for(t=0,e=o.layers.length;e>t;t++)o.layers[t].destroy();o.screen.destroy(),o.layers=[],o.screen=null,o.background=null,o.element=null},t.Chart=e}(cl);
//# sourceMappingURL=cl.js.map
