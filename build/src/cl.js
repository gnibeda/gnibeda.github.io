function RGBColor(t){"use strict";this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in e)t==n&&(t=e[n]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<i.length;r++){var o=i[r].re,s=i[r].process,a=o.exec(t);if(a){var l=s(a);this.r=l[0],this.g=l[1],this.b=l[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var TWEEN=TWEEN||function(){var t=[];return{REVISION:"14",getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e){if(0===t.length)return!1;var n=0;for(e=void 0!==e?e:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n<t.length;)t[n].update(e)?n++:t.splice(n,1);return!0}}}();TWEEN.Tween=function(t){var e=t,n={},i={},r={},o=1e3,s=0,a=!1,l=!1,c=!1,f=0,h=null,p=TWEEN.Easing.Linear.None,u=TWEEN.Interpolation.Linear,d=[],g=null,m=!1,y=null,b=null,x=null;for(var w in t)n[w]=parseFloat(t[w],10);this.to=function(t,e){return void 0!==e&&(o=e),i=t,this},this.start=function(t){TWEEN.add(this),l=!0,m=!1,h=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),h+=f;for(var o in i){if(i[o]instanceof Array){if(0===i[o].length)continue;i[o]=[e[o]].concat(i[o])}n[o]=e[o],n[o]instanceof Array==0&&(n[o]*=1),r[o]=n[o]||0}return this},this.stop=function(){return l?(TWEEN.remove(this),l=!1,null!==x&&x.call(e),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,e=d.length;e>t;t++)d[t].stop()},this.delay=function(t){return f=t,this},this.repeat=function(t){return s=t,this},this.yoyo=function(t){return a=t,this},this.easing=function(t){return p=t,this},this.interpolation=function(t){return u=t,this},this.chain=function(){return d=arguments,this},this.onStart=function(t){return g=t,this},this.onUpdate=function(t){return y=t,this},this.onComplete=function(t){return b=t,this},this.onStop=function(t){return x=t,this},this.update=function(t){var l;if(h>t)return!0;m===!1&&(null!==g&&g.call(e),m=!0);var x=(t-h)/o;x=x>1?1:x;var w=p(x);for(l in i){var v=n[l]||0,A=i[l];A instanceof Array?e[l]=u(A,w):("string"==typeof A&&(A=v+parseFloat(A,10)),"number"==typeof A&&(e[l]=v+(A-v)*w))}if(null!==y&&y.call(e,w),1==x){if(s>0){isFinite(s)&&s--;for(l in r){if("string"==typeof i[l]&&(r[l]=r[l]+parseFloat(i[l],10)),a){var k=r[l];r[l]=i[l],i[l]=k}n[l]=r[l]}return a&&(c=!c),h=t+f,!0}null!==b&&b.call(e);for(var M=0,I=d.length;I>M;M++)d[M].start(t);return!1}return!0}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)))},Out:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},InOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):n*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return.5>t?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=TWEEN.Interpolation.Utils.Linear;return 0>e?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){var n,i=0,r=t.length-1,o=Math.pow,s=TWEEN.Interpolation.Utils.Bernstein;for(n=0;r>=n;n++)i+=o(1-e,r-n)*o(e,n)*t[n]*s(r,n);return i},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(0>e&&(r=Math.floor(i=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):0>e?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[r?r-1:0],t[r],t[r+1>n?n:r+1],t[r+2>n?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=TWEEN.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n,i=1;if(t[e])return t[e];for(n=e;n>1;n--)i*=n;return t[e]=i}}(),CatmullRom:function(t,e,n,i,r){var o=.5*(n-t),s=.5*(i-e),a=r*r,l=r*a;return(2*e-2*n+o+s)*l+(-3*e+3*n-2*o-s)*a+o*r+e}}},"undefined"!=typeof module&&module.exports&&(module.exports=TWEEN);var cl=function(){return{version:"0.0.2"}}();cl.Utils=function(){"use strict";function t(){this.merge=n,this.extend=e,this.colorLuminance=i,window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}()}function e(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype}function n(t,e,i){for(var r in e)if(e.hasOwnProperty(r)&&(!i||-1===i.indexOf(r)))try{e[r].constructor==Object?t[r]=n(t[r]||{},e[r]):t[r]=e[r]}catch(o){t[r]=e[r]}return t}function i(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,i,r="#";for(i=0;3>i;i++)n=parseInt(t.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),r+=("00"+n).substr(n.length);return r}return new t}(),cl.Lang=function(){"use strict";function t(){this.get=e}function e(t,e){if(!i[n]||!i[n][t])return t;var r=i[n][t]||t;if(e instanceof Array)for(var o=0;o<e.length;o++)r=r.replace("%"+(o+1).toString(),e[o]);else r=r.replace("%1",e);return r}var n="en",i={en:{errNoElements:"No element specified in options",errAxisHaveNoChart:"Trying to access axis with no parent chart",errDelBaseAxis:"Can not delete base '%1' axis",errShapeNoParam:"Can not create shape without '%1' parameter"}};return new t}(),cl.Consts=function(){"use strict";function t(){cl.Utils.merge(this,e)}var e={COLOR_BLACK:"#000000",COLOR_WHITE:"#FFFFFF",COLOR_GRAY:"#AAAAAA",COLOR_RED:"#FF0000",FONT_SIZE:14,FONT_NAME:"Arial",TWO_PI:2*Math.PI};return new t}(),cl.Layer=function(){"use strict";function t(t){var e=this;this.chart=t,this.options={visible:!0},this.surface=new cl.Canvas(t.width,t.height),this.dirtyFlagName="",Object.defineProperties(e,{visible:{get:function(){return e.options.visible},set:function(t){e.options.visible=t}}})}return t.prototype.show=function(){return this.options&&(this.options.visible=!0),this},t.prototype.hide=function(){return this.options&&(this.options.visible=!1),this},t.prototype.apply=function(){this.chart&&(this.chart.setDirtyFlag(this.dirtyFlagName),this.chart.redraw())},t.prototype.render=function(){},t.prototype.resize=function(t,e){return this.surface.resize(t,e),this},t.prototype.destroy=function(){this.chart=null,this.surface.destroy(),this.surface=null},t}(),cl.Axis=function(){"use strict";function t(t,e){function n(){return R.options.ticks.big.interval}function i(t){return R.options.ticks.big.interval=t,R}function r(){return R.options.ticks.small.interval}function o(t){return R.options.ticks.small.interval=t,R}function s(){return R.options.visible=!1,R}function a(){return R.options.visible=!0,R}function l(){return R.options.title.style}function c(t){return R.options.title.style=t,R}function f(){return R.options.title.color}function h(t){return R.options.title.color=t,R}function p(){return R.options.title.font}function u(t){return R.options.title.font=t,R}function d(){return R.options.title.size}function g(t){return R.options.title.size=t,R}function m(){return R.options.title.align}function y(t){return R.options.title.align=t,R}function b(t){return R.options.style.color=t,R}function x(){return R.options.style.color}function w(){return{start:R.options.margin.start,end:R.options.margin.end}}function v(t,e){return R.options.margin.start=t,R.options.margin.end=e,R}function A(t){return R.options.offset=t,R}function k(){return R.options.offset}function M(){return R.options.max}function I(){return R.options.min}function T(t){return R.options.max=t,R}function S(t){return R.options.min=t,R}function L(t){return R.options.name=t,R}function E(){return R.options.name}function N(t){if(R.options&&R.options.visible){var e,n,i,r,o=R.options,s="y"==R.options.type,a=(o.margin.start,o.margin.end,R.chart.width,R.chart.height,o.ticks.small.interval.toString()),l=a.indexOf("."),c=0;-1!==l&&(c=a.length-l-1),t.resetTransform(),t.setLineStyle(o.style.lineWidth,o.style.color),t.setFillColor(o.style.color),s?(r=R.options.offset,r<R.chart.xAxis.getMin()&&(r=R.chart.xAxis.getMin()),r>R.chart.xAxis.getMax()&&(r=R.chart.xAxis.getMax()),t.ctx.translate(R.chart.xAxis.toScreen(r),0),t.ctx.rotate(Math.PI/2)):(r=R.options.offset,r<R.chart.yAxis.getMin()&&(r=R.chart.yAxis.getMin()),r>R.chart.yAxis.getMax()&&(r=R.chart.yAxis.getMax()),t.ctx.translate(0,R.chart.yAxis.toScreen(r))),t.save(),0!==o.style.lineDash.length&&t.setLineDash(o.style.lineDash),t.drawLine(R.toScreen(o.min),0,R.toScreen(o.max),0),t.restore(),0!==o.style.arrowSize&&t.drawArrow(R.toScreen(o.max),0,s?Math.PI:0,o.style.arrowSize);var f=0,h=0,p=!1;switch(o.ticks.big.align){case"right":case"top":f=-o.ticks.big.size;break;case"center":case"middle":f=-o.ticks.big.size/2;break;case"left":case"bottom":f=0}switch(o.ticks.small.align){case"right":case"top":h=-o.ticks.small.size;break;case"center":case"middle":h=-o.ticks.small.size/2;break;case"left":case"bottom":h=0}var u,d,g;for("x"===o.type?(u=R.chart.yAxis.toScreen(R.chart.yAxis.getMin()),d=R.chart.yAxis.toScreen(R.chart.yAxis.getMax()),g=R.chart.yAxis.toScreen(r)):(u=-R.chart.xAxis.toScreen(R.chart.xAxis.getMin()),d=-R.chart.xAxis.toScreen(R.chart.xAxis.getMax()),g=-R.chart.xAxis.toScreen(r)),e=o.min,n=o.max-o.min;e<=o.max;)i=Math.floor(R.toScreen(e)),p=e/o.ticks.big.interval===parseInt((e/o.ticks.big.interval).toFixed(0)),p?(0!==o.grid.big.width&&(t.setLineStyle(o.grid.big.width,o.grid.big.color),t.setAlpha(o.grid.big.opacity),0!==o.grid.big.dash.length&&t.setLineDash(o.grid.big.dash),t.drawLine(i,u-g,i,d-g)),0!==o.ticks.size&&(t.setLineStyle(o.style.lineWidth,o.ticks.big.color),t.setAlpha(o.ticks.big.opacity),t.setLineDash([]),"dot"===o.ticks.big.type?(t.setFillColor(o.ticks.big.color),t.ctx.beginPath(),t.ctx.arc(i,f+o.ticks.big.size/2,o.ticks.big.size,0,2*Math.PI,!1),t.ctx.fill()):t.drawLine(i,f,i,f+o.ticks.big.size))):(0!==o.grid.small.width&&(t.setLineStyle(o.grid.small.width,o.grid.small.color),t.setAlpha(o.grid.small.opacity),0!==o.grid.small.dash.length&&t.setLineDash(o.grid.small.dash),t.drawLine(i,u-g,i,d-g)),0!==o.ticks.sizeSmall&&(t.setLineStyle(o.style.lineWidth,o.ticks.small.color),t.setAlpha(o.ticks.small.opacity),t.setLineDash([]),"dot"===o.ticks.small.type?(t.setFillColor(o.ticks.small.color),t.ctx.beginPath(),t.ctx.arc(i,h+o.ticks.small.size/2,o.ticks.small.size,0,2*Math.PI,!1),t.ctx.fill()):t.drawLine(i,h,i,h+o.ticks.small.size))),e+=o.ticks.small.interval,e=parseFloat(e.toFixed(c));if(t.ctx.globalAlpha=1,t.setLineDash([]),0!==o.title.size){var m=o.title.align;switch("bottom"===m&&(m="left"),"top"===m&&(m="right"),m){case"left":i=0;break;case"right":i=Math.floor(R.toScreen(o.max));break;case"center":i=Math.floor(R.toScreen(o.min+(o.max-o.min)/2));break;default:i=0}t.setFillColor(o.title.color),t.drawText(o.name,i,o.title.offset+o.ticks.big.size+o.labels.size,o.title.size,m,"top",o.title.font,o.title.style)}var y=o.labels.big.align,b=o.labels.small.align;switch("bottom"===y?y="top":"top"===y&&(y="bottom"),"left"===y?y="right":"right"===y&&(y="left"),"bottom"===b?b="top":"top"===b&&(b="bottom"),"left"===b?b="right":"right"===b&&(b="left"),y){case"center":case"middle":f=0;break;case"top":case"left":f=o.ticks.big.size}switch(b){case"center":case"middle":h=0;break;case"top":case"left":h=o.ticks.small.size}for(e=o.min,n=o.max-o.min;e<=o.max;)i=Math.floor(R.toScreen(e)),e/o.ticks.big.interval===parseInt((e/o.ticks.big.interval).toFixed(0))?0!==o.ticks.big.size&&(t.setFillColor(o.labels.big.color),t.setAlpha(o.labels.big.opacity),t.drawText(e.toFixed(c),i,f,o.labels.big.size,"center",y,o.labels.big.font,o.labels.big.style)):0!==o.ticks.small.size&&(t.setFillColor(o.labels.small.color),t.setAlpha(o.labels.small.opacity),t.drawText(e.toFixed(c),i,h,o.labels.small.size,"center",b,o.labels.small.font,o.labels.small.style)),e+=o.ticks.small.interval,e=parseFloat(e.toFixed(c));t.setAlpha(1),t.resetTransform()}}function O(t){if(!R.chart)throw cl.Lang.get("errAxisHaveNoChart");var e=R.chart.width;return"y"===R.options.type&&(e=R.chart.height),R.options.min+(t-R.options.margin.start)/(e-R.options.margin.start-R.options.margin.end)*(R.options.max-R.options.min)}function P(t){if(!R.chart)throw cl.Lang.get("errAxisHaveNoChart");var e=R.chart.width;return"x"===R.options.type?R.options.margin.start+(t-R.options.min)/(R.options.max-R.options.min)*(e-R.options.margin.start-R.options.margin.end):(e=R.chart.height,R.chart.height-(R.options.margin.start+(t-R.options.min)/(R.options.max-R.options.min)*(e-R.options.margin.start-R.options.margin.end)))}function F(){return R.parent.apply(),R}function C(t){return R.options.style.lineWidth=t,R}function z(){return R.options.style.lineWidth}function _(){R.options=null,R.chart=null}var R=this;R.parent=t,R.chart=t.chart,R.show=a,R.hide=s,R.apply=F,R.toAxis=O,R.setMin=S,R.setMax=T,R.getMax=M,R.getMin=I,R.render=N,R.setName=L,R.getName=E,R.destroy=_,R.setColor=b,R.getColor=x,R.toScreen=P,R.getOffset=k,R.setOffset=A,R.setMargins=v,R.getMargins=w,R.setLineWidth=C,R.getLineWidth=z,R.setTitleSize=g,R.getTitleSize=d,R.setTitleFont=u,R.getTitleFont=p,R.setTitleAlign=y,R.getTitleAlign=m,R.setTitleColor=h,R.getTitleColor=f,R.setTitleStyle=c,R.getTitleStyle=l,R.setTickInterval=i,R.getTickInterval=n,R.getTickIntervalSmall=r,R.setTickIntervalSmall=o,R.options={name:"",type:"x",min:0,max:100,offset:0,ticks:{big:{interval:10,size:8,align:"center",color:cl.Consts.COLOR_GRAY,opacity:.8,type:"line"},small:{interval:5,size:4,align:"bottom",color:cl.Consts.COLOR_GRAY,opacity:.8,type:"line"}},margin:{start:40,end:10},style:{lineWidth:2,color:cl.Consts.COLOR_GRAY,arrowSize:12,lineDash:[]},title:{size:14,align:"center",font:cl.Consts.FONT_NAME,color:cl.Consts.COLOR_BLACK,style:"",offset:0},labels:{big:{size:10,align:"bottom",font:cl.Consts.FONT_NAME,color:cl.Consts.COLOR_GRAY,style:"",opacity:1},small:{size:8,align:"bottom",font:cl.Consts.FONT_NAME,color:cl.Consts.COLOR_GRAY,style:"",opacity:1}},grid:{big:{width:1,dash:[3,3],color:"#BEBEBE",opacity:.5},small:{width:1,dash:[10,10],color:"#EFEFEF",opacity:.5}},visible:!0},cl.Utils.merge(R.options,e||{}),e&&(e.min||e.max)&&(e.ticks&&e.ticks.big&&e.ticks.big.interval||(R.options.ticks.big.interval=parseFloat(((R.options.max-R.options.min)/10).toFixed(4))),e.ticks&&e.ticks.small&&e.ticks.small.interval||(R.options.ticks.small.interval=parseFloat(((R.options.max-R.options.min)/20).toFixed(4))))}return t}(),cl.AxisManager=function(){"use strict";function t(t){function e(){var t,e;for(s.surface.resetTransform(),s.surface.clear(),t=0,e=s.shapes.length;e>t;t++)s.shapes[t].render(s.surface)}function n(t){var e=new cl.Axis(s,t||{});return s.shapes.push(e),s.apply(),e}function i(t){var e,n;if("string"!=typeof t)return s.shapes[t];for(e=0,n=s.shapes.length;n>e;e++)if(s.shapes[e].getName()===t)return s.shapes[e]}function r(t){if(t){if(console.log(s),t===s.chart.xAxis||t===s.chart.yAxis)throw cl.Lang.get("errDelBaseAxis",t.options.type);var e=s.shapes.indexOf(t);-1!==e&&s.shapes[e]&&(s.shapes.splice(e,1),s.apply(),t.destroy())}}function o(t){switch(typeof t){case"object":r(t);break;default:r(i(t))}}var s=this;cl.Layer.call(s,t),s.add=n,s.get=i,s.remove=o,s.render=e,s.chart=t,s.shapes=[],s.dirtyFlagName="axis"}return cl.Utils.extend(t,cl.Layer),t}(),cl.Background=function(){"use strict";function t(e,n){function i(t){return l.options.fit=t,l}function r(){if(l.image&&l.options.visible){var e,n,i,r=l.options.align.x,o=l.options.align.y,s=l.chart.xAxis.toScreen(l.options.pos.x),a=l.chart.yAxis.toScreen(l.options.pos.y),c=l.chart.xAxis.getMargins(),f=l.chart.yAxis.getMargins();l.options.fitToScreen&&(s=0,a=l.chart.height,c.start=0,c.end=0,f.start=0,f.end=0);var h=l.image.width,p=l.image.height,u=l.chart.width-c.start-c.end,d=l.chart.height-f.start-f.end;switch(l.options.fit){case t.FIT_STRETCH:h=l.chart.width-c.start-c.end,p=l.chart.height-f.start-f.end;break;case t.FIT_ALL:e=u/h,n=d/p,i=Math.min(e,n),h*=i,p*=i,s=c.start+u/2,a=f.end+d/2,r="center",o="center";break;case t.FIT_FILL:e=u/h,n=d/p,i=Math.max(e,n),h*=i,p*=i,s=c.start+u/2,a=f.end+d/2,r="center",o="center"}switch(r){case"left":s-=0;break;case"right":s-=h;break;case"center":s-=h/2}switch(o){case"top":a-=0;break;case"bottom":a-=p;break;case"center":a-=p/2}l.options.fit===t.FIT_FILL&&(l.surface.save(),l.surface.ctx.rect(c.start,f.end,u,d),l.surface.ctx.clip()),l.surface.ctx.drawImage(l.image,Math.floor(s),Math.floor(a),h,p),l.options.fit===t.FIT_FILL&&l.surface.restore(),cl.Layer.prototype.render.call(l)}}function o(t){l.image=new Image,l.image.onload=function(){l.isLoaded=!0,l.apply()},l.image.src=t}function s(t){l.image=new Image,l.image.onload=function(){l.isLoaded=!0,l.apply()},l.image.src=t}function a(){l.image=null,cl.Layer.prototype.destroy.call(l)}var l=this;cl.Layer.call(l,e),l.dirtyFlagName="bg",l.image=null,l.isLoaded=!1,cl.Utils.merge(l.options,{url:"",align:{x:"left",y:"bottom"},pos:{x:0,y:0},fit:t.FIT_ALL,fitToScreen:!1,visible:!0}),cl.Utils.merge(l.options,n||{}),l.render=r,l.setFit=i,l.destroy=a,l.setImage=o,l.setImageBase64=s,l.options.url&&l.setImage(l.options.url),l.options.base64&&l.setImageBase64(l.options.base64)}return cl.Utils.extend(t,cl.Layer),t.FIT_NONE=0,t.FIT_STRETCH=1,t.FIT_ALL=2,t.FIT_FILL=3,t}(),cl.Canvas=function(){function t(t,e){function n(t){m.ctx.setLineDash&&m.ctx.setLineDash(t)}function i(){m.ctx.restore()}function r(){m.ctx.save()}function o(t){m.ctx.fillStyle=t}function s(t,e,n){var i=e||cl.Consts.COLOR_BLACK;if(m.ctx.lineWidth=t,m.ctx.strokeStyle=i,!n&&Math.abs(y-t)>.001){y=t;var r=t%2/2;Math.abs(b-r)>.001&&(m.ctx.translate(-b,-b),b=r,m.ctx.translate(b,b))}}function a(t,e,n,i,r,o,s,a,l){var c=(i||cl.Consts.FONT_SIZE)+"px",f=s||cl.Consts.FONT_NAME,h=a||"",p=r||"left",u=o||"top";"center"===u&&(u="middle"),m.ctx.textBaseline=u,m.ctx.textAlign=p,m.ctx.font=h+" "+c+" "+f,void 0!==l?m.ctx.fillText(t,e,n,l):m.ctx.fillText(t,e,n)}function l(t,e,n,i,r){var o,s,a;a=r||Math.PI/10,o=Math.cos(n+a),s=Math.sin(n+a),m.ctx.beginPath(),m.ctx.moveTo(t,e),m.ctx.lineTo(t-o*i,e-s*i),o=Math.cos(n-a),s=Math.sin(n-a),m.ctx.lineTo(t-o*i,e-s*i),m.ctx.lineTo(t,e+1),m.ctx.closePath(),m.ctx.fill()}function c(t,e,n,i){m.ctx.beginPath(),m.ctx.moveTo(t,e),m.ctx.lineTo(n,i),m.ctx.stroke()}function f(t){return m.ctx.globalAlpha=t,m}function h(){m.ctx.setTransform(1,0,0,1,0,0)}function p(t,e,n){m.ctx.drawImage(t.el,e||0,n||0)}function u(){m.el.parentNode&&m.el.parentNode.removeChild(m.el),m.ctx=null,m.el=null}function d(){0!==b&&m.ctx.translate(-b,-b),m.ctx.clearRect(-1,-1,m.width+1,m.height+1),0!==b&&m.ctx.translate(b,b)}function g(t,e){m.el.width=t,m.el.height=e}var m=this,y=0,b=0;m.draw=p,m.save=r,m.clear=d,m.resize=g,m.destroy=u,m.restore=i,m.drawText=a,m.drawLine=c,m.setAlpha=f,m.drawArrow=l,m.setLineDash=n,m.setLineStyle=s,m.setFillColor=o,m.resetTransform=h,m.el=document.createElement("canvas"),m.ctx=this.el.getContext("2d"),Object.defineProperties(m,{width:{get:function(){return m.el.width}},height:{get:function(){return m.el.height}}}),m.resize(t,e)}return t}(),cl.Shape=function(){"use strict";function t(t,e){var n=this;if(!t)throw new Error(cl.Lang.get("errShapeNoParam","parent"));if(n.parent=t,n.type="base",n.isAnimating=!1,n.animProps=null,n.tween=null,n.props={owner:n,id:void 0,x:0,y:0,color:cl.Consts.COLOR_RED,border:1,opacity:.3,linked:[]},cl.Utils.merge(n.props,e),void 0===n.props.id)throw new Error(cl.Lang.get("errShapeNoParam","id"))}return t.prototype.startAnimation=function(t){if(this.animProps){if(this.isAnimating||(this.parent.animCount++,this.parent.updateStatic()),this.isAnimating=!0,this.tween&&(this.tween.stop(),this.tween=null),this.animProps.color){var e=new RGBColor(this.props.color),n=new RGBColor(this.animProps.color);this.props.color_h=e.r,this.props.color_s=e.g,this.props.color_v=e.b,this.animProps.color_h=n.r,this.animProps.color_s=n.g,this.animProps.color_v=n.b,delete this.animProps.color}this.tween=new TWEEN.Tween(this.props).to(this.animProps,t||cl.ShapeManager.ANIMATION_SPEED).easing(TWEEN.Easing.Quadratic.Out).delay(cl.ShapeManager.ANIMATION_DELAY).onUpdate(function(){if(void 0!==this.color_h){var t=this.color_h,e=this.color_s,n=this.color_v;t>255&&(t=255),e>255&&(e=255),n>255&&(n=255);var i=(1<<24)+(t<<16)+(e<<8)+n;this.color="#"+(16777216|i).toString(16).substring(1)}}).onComplete(function(){this.owner.stopAnimation(!0)}).start()}},t.prototype.getId=function(){return this.props.id},t.prototype.setProps=function(t,e,n){var i=this.calcAnimProps(t);return i?(this.isAnimating||e&&this.parent.animCount>=cl.ShapeManager.MAX_ANIMATED_ITEMS&&(e=!1),e?this.startAnimation(n):(cl.Utils.merge(this.props,this.animProps,["id","owner"]),this.isAnimating||this.parent.updateStatic()),this.parent.apply(),!0):!1},t.prototype.getProps=function(){return cl.Utils.merge({},this.props,["owner"])},t.prototype.calcAnimProps=function(t){return this.animProps.owner=this,void 0!==t.x&&t.x!==this.props.x&&(this.animProps.x=t.x,this.animProps.changed=!0),void 0!==t.y&&t.y!==this.props.y&&(this.animProps.y=t.y,this.animProps.changed=!0),void 0!==t.color&&t.color!==this.props.color&&(this.animProps.color=t.color,this.animProps.changed=!0),void 0!==t.border&&t.border!==this.props.border&&(this.animProps.border=t.border,this.animProps.changed=!0),void 0!==t.opacity&&t.opacity!==this.props.opacity&&(this.animProps.opacity=t.opacity,this.animProps.changed=!0),this.animProps.changed},t.prototype.apply=function(){this.parent.apply()},t.prototype.render=function(t){var e=this.parent.chart,n=this.props.linked.length;if(0!==n){var i=e.xAxis.toScreen(this.props.x),r=e.yAxis.toScreen(this.props.y);t.setAlpha(1),t.setLineStyle(1,"#000000");for(var o=0;n>o;o++)if(this.props.linked[o]!=this.props.id){var s=this.parent.get(this.props.linked[o]);if(s){var a=e.xAxis.toScreen(s.props.x),l=e.yAxis.toScreen(s.props.y);t.drawLine(i,r,a,l)}}}},t.prototype.stopAnimation=function(t){this.tween&&this.animProps&&cl.Utils.merge(this.props,this.animProps,["id","owner"]),this.tween&&!t&&this.tween.stop(),this.tween=null,this.animProps=null,this.isAnimating&&this.parent.animCount--},t.prototype.destroy=function(){this.stopAnimation(),this.props.owner=null,this.props=null,this.parent=null},t}(),cl.ShapeManager=function(){"use strict";function t(e){function n(){return 0!==d}function i(){var t,e;if(u){console.log("Static redrawn"),u=!1,p["static"].resetTransform(),p["static"].clear();var n=0;for(t=0,e=p.shapes.length;e>t;t++)p.shapes[t].isAnimating||(p.shapes[t].render(p["static"],p.chart),n++);console.log("objects in static:",n)}for(p.surface.resetTransform(),p.surface.clear(),p.surface.setAlpha(1),p["static"].setAlpha(1),p.surface.draw(p["static"],0,0),t=0,e=p.shapes.length;e>t;t++)p.shapes[t].isAnimating&&p.shapes[t].render(p.surface,p.chart)}function r(e,n,i,r){var o,s,a,l=i||!1;a=e instanceof Array?e:[e];var c=[];for(o=0,s=a.length;s>o;o++){if(void 0===a[o].id)throw new Error(cl.Lang.get("errShapeNoParam"));var f=p.get(a[o].id);if(f){var h=f.setProps(a[o],l,r);h&&(c.push(f),f.isAnimating||p.updateStatic())}else{var u=new n(p,a[o]);p.shapes.push(u),g[a[o].id]=u,p.updateStatic()}}if(0!==c.length&&l){for(s=c.length,s>t.MAX_ANIMATED_ITEMS&&(s=t.MAX_ANIMATED_ITEMS),o=0;s>o;o++)c[o].animProps&&c[o].startAnimation(r);for(o=t.MAX_ANIMATED_ITEMS,s=c.length;s>o;o++)cl.Utils.merge(c[o].props,c[o].animProps)}else p.updateStatic();c=null,p.apply()}function o(){var t,e,n=!1,i=[];for(t=0,e=p.shapes.length;e>t;t++)p.shapes[t].isAnimating&&null===p.shapes[t].tween&&(p.shapes[t].isAnimating=!1,n=!0,i.push(p.shapes[t]));for(t=0,e=i.length;e>t;t++){var r=p.shapes.indexOf(i[t]);p.shapes.splice(r,1)}for(t=0,e=i.length;e>t;t++)p.shapes.push(i[t]);p.updateStatic(),p.apply()}function s(t){return g[t]?g[t]:void 0}function a(t){if(t){var e=p.shapes.indexOf(t);-1!==e&&p.shapes[e]&&(delete g[t.id],p.shapes.splice(e,1),p.apply(),t.destroy())}}function l(t){switch(typeof t){case"object":a(t);break;default:a(s(t))}}function c(){var t,e;for(t=0,e=p.shapes.length;e>t;t++)p.shapes[t].destroy();p.shapes=null,p["static"].destroy(),g=null,cl.Layer.prototype.destroy.call(p)}function f(t,e){return u=!0,p["static"].resize(t,e),cl.Layer.prototype.resize.call(p,t,e),p}function h(){u=!0}var p=this;cl.Layer.call(p,e);var u=!1,d=0,g={};p.add=r,p.get=s,p.remove=l,p.render=i,p.resize=f,p.destroy=c,p.updateStatic=h,p.chart=e,p.shapes=[],p.dirtyFlagName="shapes",p["static"]=new cl.Canvas(e.width,e.height),Object.defineProperties(p,{animCount:{get:function(){return d},set:function(t){d=t,0===d&&o()}},isAnimating:{get:n}})}return cl.Utils.extend(t,cl.Layer),t.MAX_ANIMATED_ITEMS=500,t.ANIMATION_DELAY=100,t.ANIMATION_SPEED=400,t}(),cl.Bubble=function(){"use strict";function t(t,e){function n(t){return o.animProps={},void 0!==t.size&&t.size!==o.props.size&&(o.animProps.size=t.size,o.animProps.changed=!0),cl.Shape.prototype.calcAnimProps.call(o,t)||o.animProps.changed}function i(t){var e=o.parent.chart;o.props.size>=0&&(t.setAlpha(o.props.opacity),t.setFillColor(o.props.color),t.setLineStyle(o.props.border,cl.Utils.colorLuminance(o.props.color,-.2),!0),t.ctx.beginPath(),t.ctx.arc(e.xAxis.toScreen(o.props.x),e.yAxis.toScreen(o.props.y),e.xAxis.toScreen(o.props.size)-e.xAxis.toScreen(0),0,cl.Consts.TWO_PI,!1),t.ctx.fill(),t.ctx.stroke(),t.ctx.closePath()),cl.Shape.prototype.render.call(o,t)}function r(){cl.Shape.prototype.destroy.call(o)}var o=this;cl.Shape.call(o,t,e),o.type="bubble",o.parent=t,o.render=i,o.destroy=r,o.calcAnimProps=n;var s=e||{};if(o.size=s.size,void 0===o.props.size)throw new Error(cl.Lang.get("errShapeNoParam","size"))}return cl.Utils.extend(t,cl.Shape),t}(),cl.Chart=function(){"use strict";function t(t){function e(t,e,n){u.shapes.add(t,cl.Bubble,e,n)}function n(){if(u.options.element){u.options.element.parentNode;u.options.preloader.classList.add("cl-preloader-hidden")}}function i(){if(u.options.element&&u.options.element.parentNode){var t=u.preloader,e=u.options.element.parentNode;t.classList.remove("hidden"),t.classList.remove("cl-preloader-hidden"),t.classList.add("cl-preloader");var n="",i=Math.floor(u.element.offsetLeft+u.width/2-t.offsetWidth/2),r=Math.floor(u.element.offsetTop+u.height/2-t.offsetHeight/2);n="left: "+i+"px; top: "+r+"px",n+=";"+t.getAttribute("style"),t.setAttribute("style",n),e.appendChild(t)}}function r(t){g[t]=!0}function o(){return u.background}function s(){d=!1,g.all=!1;for(var t in g)g.hasOwnProperty(t)&&(g[t]=!1);
}function a(){if(g.all)return!0;for(var t in g)if(g.hasOwnProperty(t)&&g[t])return!0;return!1}function l(){d||(requestAnimFrame(f),d=!0)}function c(t){u.background.setImage(t)}function f(t){if(TWEEN.update(t),u.screen){var e,n;for(u.shapes.isAnimating&&u.shapes.apply(),g.axis&&(g.shapes=!0,u.shapes.updateStatic()),e=0,n=u.layers.length;n>e;e++)(g.all||g[u.layers[e].dirtyFlagName])&&u.layers[e].render();for(u.screen.clear(),e=0,n=u.layers.length;n>e;e++)u.screen.draw(u.layers[e].surface);s(),u.shapes.isAnimating&&!d&&(d=!0,requestAnimFrame(f))}}function h(t,e){var n,i;for(n=0,i=u.layers.length;i>n;n++)u.layers[n].resize(t,e);u.screen.resize(t,e),g.all=!0,u.redraw()}function p(){var t,e;for(t=0,e=u.layers.length;e>t;t++)u.layers[t].destroy();u.screen.destroy(),u.layers=[],u.screen=null,u.background=null,u.element=null}var u=this;u.options=t||{},u.xAxis=null,u.yAxis=null,u.preloader=u.options.preloader,u.element=u.options.element;var d=!1,g={all:!1};if(Object.defineProperties(u,{isDirty:{get:a},width:{get:function(){return u.screen.width}},height:{get:function(){return u.screen.height}}}),u.redraw=l,u.resize=h,u.destroy=p,u.addBubbles=e,u.setDirtyFlag=r,u.showPreloader=i,u.hidePreloader=n,u.getBackground=o,u.setBackground=c,!u.element)throw cl.Lang.get("errNoElements");u.screen=new cl.Canvas(t.width||u.element.offsetWidth,t.height||u.element.offsetHeight),u.background=new cl.Background(u,u.options.background||{}),u.axis=new cl.AxisManager(u),u.shapes=new cl.ShapeManager(u),u.layers=[u.background,u.axis,u.shapes],u.xAxis=u.axis.add(cl.Utils.merge({type:"x"},u.options.xAxis||{})),u.yAxis=u.axis.add(cl.Utils.merge({type:"y"},u.options.yAxis||{})),u.element.appendChild(u.screen.el),u.redraw()}return t}();